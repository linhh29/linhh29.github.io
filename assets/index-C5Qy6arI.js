(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function y1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cd={exports:{}},il={},hd={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function fx(){if(pv)return Fe;pv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,L={};function M(O,G,ye){this.props=O,this.context=G,this.refs=L,this.updater=ye||A}M.prototype.isReactComponent={},M.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},M.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=M.prototype;function q(O,G,ye){this.props=O,this.context=G,this.refs=L,this.updater=ye||A}var K=q.prototype=new H;K.constructor=q,D(K,M.prototype),K.isPureReactComponent=!0;var X=Array.isArray,J=Object.prototype.hasOwnProperty,te={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function x(O,G,ye){var Re,ke={},be=null,Me=null;if(G!=null)for(Re in G.ref!==void 0&&(Me=G.ref),G.key!==void 0&&(be=""+G.key),G)J.call(G,Re)&&!I.hasOwnProperty(Re)&&(ke[Re]=G[Re]);var Le=arguments.length-2;if(Le===1)ke.children=ye;else if(1<Le){for(var je=Array(Le),ot=0;ot<Le;ot++)je[ot]=arguments[ot+2];ke.children=je}if(O&&O.defaultProps)for(Re in Le=O.defaultProps,Le)ke[Re]===void 0&&(ke[Re]=Le[Re]);return{$$typeof:n,type:O,key:be,ref:Me,props:ke,_owner:te.current}}function P(O,G){return{$$typeof:n,type:O.type,key:G,ref:O.ref,props:O.props,_owner:O._owner}}function k(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function b(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ye){return G[ye]})}var F=/\/+/g;function R(O,G){return typeof O=="object"&&O!==null&&O.key!=null?b(""+O.key):G.toString(36)}function Xe(O,G,ye,Re,ke){var be=typeof O;(be==="undefined"||be==="boolean")&&(O=null);var Me=!1;if(O===null)Me=!0;else switch(be){case"string":case"number":Me=!0;break;case"object":switch(O.$$typeof){case n:case e:Me=!0}}if(Me)return Me=O,ke=ke(Me),O=Re===""?"."+R(Me,0):Re,X(ke)?(ye="",O!=null&&(ye=O.replace(F,"$&/")+"/"),Xe(ke,G,ye,"",function(ot){return ot})):ke!=null&&(k(ke)&&(ke=P(ke,ye+(!ke.key||Me&&Me.key===ke.key?"":(""+ke.key).replace(F,"$&/")+"/")+O)),G.push(ke)),1;if(Me=0,Re=Re===""?".":Re+":",X(O))for(var Le=0;Le<O.length;Le++){be=O[Le];var je=Re+R(be,Le);Me+=Xe(be,G,ye,je,ke)}else if(je=T(O),typeof je=="function")for(O=je.call(O),Le=0;!(be=O.next()).done;)be=be.value,je=Re+R(be,Le++),Me+=Xe(be,G,ye,je,ke);else if(be==="object")throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Me}function dt(O,G,ye){if(O==null)return O;var Re=[],ke=0;return Xe(O,Re,"","",function(be){return G.call(ye,be,ke++)}),Re}function pt(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(ye){(O._status===0||O._status===-1)&&(O._status=1,O._result=ye)},function(ye){(O._status===0||O._status===-1)&&(O._status=2,O._result=ye)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var Se={current:null},ie={transition:null},ue={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:ie,ReactCurrentOwner:te};function le(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:dt,forEach:function(O,G,ye){dt(O,function(){G.apply(this,arguments)},ye)},count:function(O){var G=0;return dt(O,function(){G++}),G},toArray:function(O){return dt(O,function(G){return G})||[]},only:function(O){if(!k(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Fe.Component=M,Fe.Fragment=t,Fe.Profiler=o,Fe.PureComponent=q,Fe.StrictMode=i,Fe.Suspense=d,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Fe.act=le,Fe.cloneElement=function(O,G,ye){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Re=D({},O.props),ke=O.key,be=O.ref,Me=O._owner;if(G!=null){if(G.ref!==void 0&&(be=G.ref,Me=te.current),G.key!==void 0&&(ke=""+G.key),O.type&&O.type.defaultProps)var Le=O.type.defaultProps;for(je in G)J.call(G,je)&&!I.hasOwnProperty(je)&&(Re[je]=G[je]===void 0&&Le!==void 0?Le[je]:G[je])}var je=arguments.length-2;if(je===1)Re.children=ye;else if(1<je){Le=Array(je);for(var ot=0;ot<je;ot++)Le[ot]=arguments[ot+2];Re.children=Le}return{$$typeof:n,type:O.type,key:ke,ref:be,props:Re,_owner:Me}},Fe.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},Fe.createElement=x,Fe.createFactory=function(O){var G=x.bind(null,O);return G.type=O,G},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(O){return{$$typeof:f,render:O}},Fe.isValidElement=k,Fe.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:pt}},Fe.memo=function(O,G){return{$$typeof:m,type:O,compare:G===void 0?null:G}},Fe.startTransition=function(O){var G=ie.transition;ie.transition={};try{O()}finally{ie.transition=G}},Fe.unstable_act=le,Fe.useCallback=function(O,G){return Se.current.useCallback(O,G)},Fe.useContext=function(O){return Se.current.useContext(O)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(O){return Se.current.useDeferredValue(O)},Fe.useEffect=function(O,G){return Se.current.useEffect(O,G)},Fe.useId=function(){return Se.current.useId()},Fe.useImperativeHandle=function(O,G,ye){return Se.current.useImperativeHandle(O,G,ye)},Fe.useInsertionEffect=function(O,G){return Se.current.useInsertionEffect(O,G)},Fe.useLayoutEffect=function(O,G){return Se.current.useLayoutEffect(O,G)},Fe.useMemo=function(O,G){return Se.current.useMemo(O,G)},Fe.useReducer=function(O,G,ye){return Se.current.useReducer(O,G,ye)},Fe.useRef=function(O){return Se.current.useRef(O)},Fe.useState=function(O){return Se.current.useState(O)},Fe.useSyncExternalStore=function(O,G,ye){return Se.current.useSyncExternalStore(O,G,ye)},Fe.useTransition=function(){return Se.current.useTransition()},Fe.version="18.3.1",Fe}var mv;function Mp(){return mv||(mv=1,hd.exports=fx()),hd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function dx(){if(gv)return il;gv=1;var n=Mp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,d,m){var v,w={},T=null,A=null;m!==void 0&&(T=""+m),d.key!==void 0&&(T=""+d.key),d.ref!==void 0&&(A=d.ref);for(v in d)i.call(d,v)&&!l.hasOwnProperty(v)&&(w[v]=d[v]);if(f&&f.defaultProps)for(v in d=f.defaultProps,d)w[v]===void 0&&(w[v]=d[v]);return{$$typeof:e,type:f,key:T,ref:A,props:w,_owner:o.current}}return il.Fragment=t,il.jsx=c,il.jsxs=c,il}var yv;function px(){return yv||(yv=1,cd.exports=dx()),cd.exports}var $=px(),se=Mp();const Pn=y1(se);var uc={},fd={exports:{}},yn={},dd={exports:{}},pd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function mx(){return vv||(vv=1,function(n){function e(ie,ue){var le=ie.length;ie.push(ue);e:for(;0<le;){var O=le-1>>>1,G=ie[O];if(0<o(G,ue))ie[O]=ue,ie[le]=G,le=O;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var ue=ie[0],le=ie.pop();if(le!==ue){ie[0]=le;e:for(var O=0,G=ie.length,ye=G>>>1;O<ye;){var Re=2*(O+1)-1,ke=ie[Re],be=Re+1,Me=ie[be];if(0>o(ke,le))be<G&&0>o(Me,ke)?(ie[O]=Me,ie[be]=le,O=be):(ie[O]=ke,ie[Re]=le,O=Re);else if(be<G&&0>o(Me,le))ie[O]=Me,ie[be]=le,O=be;else break e}}return ue}function o(ie,ue){var le=ie.sortIndex-ue.sortIndex;return le!==0?le:ie.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var d=[],m=[],v=1,w=null,T=3,A=!1,D=!1,L=!1,M=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(ie){for(var ue=t(m);ue!==null;){if(ue.callback===null)i(m);else if(ue.startTime<=ie)i(m),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=t(m)}}function X(ie){if(L=!1,K(ie),!D)if(t(d)!==null)D=!0,pt(J);else{var ue=t(m);ue!==null&&Se(X,ue.startTime-ie)}}function J(ie,ue){D=!1,L&&(L=!1,H(x),x=-1),A=!0;var le=T;try{for(K(ue),w=t(d);w!==null&&(!(w.expirationTime>ue)||ie&&!b());){var O=w.callback;if(typeof O=="function"){w.callback=null,T=w.priorityLevel;var G=O(w.expirationTime<=ue);ue=n.unstable_now(),typeof G=="function"?w.callback=G:w===t(d)&&i(d),K(ue)}else i(d);w=t(d)}if(w!==null)var ye=!0;else{var Re=t(m);Re!==null&&Se(X,Re.startTime-ue),ye=!1}return ye}finally{w=null,T=le,A=!1}}var te=!1,I=null,x=-1,P=5,k=-1;function b(){return!(n.unstable_now()-k<P)}function F(){if(I!==null){var ie=n.unstable_now();k=ie;var ue=!0;try{ue=I(!0,ie)}finally{ue?R():(te=!1,I=null)}}else te=!1}var R;if(typeof q=="function")R=function(){q(F)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,dt=Xe.port2;Xe.port1.onmessage=F,R=function(){dt.postMessage(null)}}else R=function(){M(F,0)};function pt(ie){I=ie,te||(te=!0,R())}function Se(ie,ue){x=M(function(){ie(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){D||A||(D=!0,pt(J))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ie){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var le=T;T=ue;try{return ie()}finally{T=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ue){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var le=T;T=ie;try{return ue()}finally{T=le}},n.unstable_scheduleCallback=function(ie,ue,le){var O=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?O+le:O):le=O,ie){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=le+G,ie={id:v++,callback:ue,priorityLevel:ie,startTime:le,expirationTime:G,sortIndex:-1},le>O?(ie.sortIndex=le,e(m,ie),t(d)===null&&ie===t(m)&&(L?(H(x),x=-1):L=!0,Se(X,le-O))):(ie.sortIndex=G,e(d,ie),D||A||(D=!0,pt(J))),ie},n.unstable_shouldYield=b,n.unstable_wrapCallback=function(ie){var ue=T;return function(){var le=T;T=ue;try{return ie.apply(this,arguments)}finally{T=le}}}}(pd)),pd}var _v;function gx(){return _v||(_v=1,dd.exports=mx()),dd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function yx(){if(wv)return yn;wv=1;var n=Mp(),e=gx();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function T(r){return d.call(w,r)?!0:d.call(v,r)?!1:m.test(r)?w[r]=!0:(v[r]=!0,!1)}function A(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function D(r,s,a,h){if(s===null||typeof s>"u"||A(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function L(r,s,a,h,p,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){M[r]=new L(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];M[s]=new L(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){M[r]=new L(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){M[r]=new L(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){M[r]=new L(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){M[r]=new L(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){M[r]=new L(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){M[r]=new L(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){M[r]=new L(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(H,q);M[s]=new L(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(H,q);M[s]=new L(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(H,q);M[s]=new L(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){M[r]=new L(r,1,!1,r.toLowerCase(),null,!1,!1)}),M.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){M[r]=new L(r,1,!1,r.toLowerCase(),null,!0,!0)});function K(r,s,a,h){var p=M.hasOwnProperty(s)?M[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D(s,a,p,h)&&(a=null),h||p===null?T(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):p.mustUseProperty?r[p.propertyName]=a===null?p.type===3?!1:"":a:(s=p.attributeName,h=p.attributeNamespace,a===null?r.removeAttribute(s):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),te=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),b=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),dt=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ue(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,O;function G(r){if(O===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+r}var ye=!1;function Re(r,s){if(!r||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(U){var h=U}Reflect.construct(r,[],s)}else{try{s.call()}catch(U){h=U}r.call(s.prototype)}else{try{throw Error()}catch(U){h=U}r()}}catch(U){if(U&&h&&typeof U.stack=="string"){for(var p=U.stack.split(`
`),y=h.stack.split(`
`),E=p.length-1,C=y.length-1;1<=E&&0<=C&&p[E]!==y[C];)C--;for(;1<=E&&0<=C;E--,C--)if(p[E]!==y[C]){if(E!==1||C!==1)do if(E--,C--,0>C||p[E]!==y[C]){var V=`
`+p[E].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=E&&0<=C);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?G(r):""}function ke(r){switch(r.tag){case 5:return G(r.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return r=Re(r.type,!1),r;case 11:return r=Re(r.type.render,!1),r;case 1:return r=Re(r.type,!0),r;default:return""}}function be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case te:return"Portal";case P:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case Xe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b:return(r.displayName||"Context")+".Consumer";case k:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case dt:return s=r.displayName||null,s!==null?s:be(r.type)||"Memo";case pt:s=r._payload,r=r._init;try{return be(r(s))}catch{}}return null}function Me(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Le(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function je(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ot(r){var s=je(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Nt(r){r._valueTracker||(r._valueTracker=ot(r))}function zt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=je(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function re(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function pe(r,s){var a=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ie(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Le(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ce(r,s){s=s.checked,s!=null&&K(r,"checked",s,!1)}function Ue(r,s){Ce(r,s);var a=Le(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Vn(r,s.type,a):s.hasOwnProperty("defaultValue")&&Vn(r,s.type,Le(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Et(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Vn(r,s,a){(s!=="number"||re(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Kn=Array.isArray;function Vr(r,s,a,h){if(r=r.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=s.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Le(a),s=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function fa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ls(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Kn(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Le(a)}}function Os(r,s){var a=Le(s.value),h=Le(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function da(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Ct(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Ct(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Dr,pa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Dr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ti(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qi=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(r){qi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Wi[s]=Wi[r]})});function ma(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Wi.hasOwnProperty(r)&&Wi[r]?(""+s).trim():s+"px"}function ga(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,p=ma(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,p):r[a]=p}}var ya=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function va(r,s){if(s){if(ya[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function _a(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ki=null;function Fs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var js=null,Dn=null,dr=null;function Bs(r){if(r=$a(r)){if(typeof js!="function")throw Error(t(280));var s=r.stateNode;s&&(s=xu(s),js(r.stateNode,r.type,s))}}function pr(r){Dn?dr?dr.push(r):dr=[r]:Dn=r}function wa(){if(Dn){var r=Dn,s=dr;if(dr=Dn=null,Bs(r),s)for(r=0;r<s.length;r++)Bs(s[r])}}function Gi(r,s){return r(s)}function Ea(){}var br=!1;function Ta(r,s,a){if(br)return r(s,a);br=!0;try{return Gi(r,s,a)}finally{br=!1,(Dn!==null||dr!==null)&&(Ea(),wa())}}function yt(r,s){var a=r.stateNode;if(a===null)return null;var h=xu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var zs=!1;if(f)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){zs=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{zs=!1}function Qi(r,s,a,h,p,y,E,C,V){var U=Array.prototype.slice.call(arguments,3);try{s.apply(a,U)}catch(ee){this.onError(ee)}}var Yi=!1,Us=null,Qn=!1,Sa=null,Oh={onError:function(r){Yi=!0,Us=r}};function $s(r,s,a,h,p,y,E,C,V){Yi=!1,Us=null,Qi.apply(Oh,arguments)}function Ql(r,s,a,h,p,y,E,C,V){if($s.apply(this,arguments),Yi){if(Yi){var U=Us;Yi=!1,Us=null}else throw Error(t(198));Qn||(Qn=!0,Sa=U)}}function Yn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Xi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Xn(r){if(Yn(r)!==r)throw Error(t(188))}function Yl(r){var s=r.alternate;if(!s){if(s=Yn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){a=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return Xn(p),r;if(y===h)return Xn(p),s;y=y.sibling}throw Error(t(188))}if(a.return!==h.return)a=p,h=y;else{for(var E=!1,C=p.child;C;){if(C===a){E=!0,a=p,h=y;break}if(C===h){E=!0,h=p,a=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===a){E=!0,a=y,h=p;break}if(C===h){E=!0,h=y,a=p;break}C=C.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function xa(r){return r=Yl(r),r!==null?Hs(r):null}function Hs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Hs(r);if(s!==null)return s;r=r.sibling}return null}var Ws=e.unstable_scheduleCallback,Aa=e.unstable_cancelCallback,Xl=e.unstable_shouldYield,Fh=e.unstable_requestPaint,Ze=e.unstable_now,Jl=e.unstable_getCurrentPriorityLevel,Ji=e.unstable_ImmediatePriority,ni=e.unstable_UserBlockingPriority,bn=e.unstable_NormalPriority,Ia=e.unstable_LowPriority,Zl=e.unstable_IdlePriority,Zi=null,wn=null;function eu(r){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Zi,r,void 0,(r.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:nu,Ca=Math.log,tu=Math.LN2;function nu(r){return r>>>=0,r===0?32:31-(Ca(r)/tu|0)|0}var qs=64,Ks=4194304;function ri(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function es(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,p=r.suspendedLanes,y=r.pingedLanes,E=a&268435455;if(E!==0){var C=E&~p;C!==0?h=ri(C):(y&=E,y!==0&&(h=ri(y)))}else E=a&~p,E!==0?h=ri(E):y!==0&&(h=ri(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-on(s),p=1<<a,h|=r[a],s&=~p;return h}function jh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-on(y),C=1<<E,V=p[E];V===-1?((C&a)===0||(C&h)!==0)&&(p[E]=jh(C,s)):V<=s&&(r.expiredLanes|=C),y&=~C}}function En(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ts(){var r=qs;return qs<<=1,(qs&4194240)===0&&(qs=64),r}function ii(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function si(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-on(s),r[s]=a}function Je(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var p=31-on(a),y=1<<p;s[p]=0,h[p]=-1,r[p]=-1,a&=~y}}function oi(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-on(a),p=1<<h;p&s|r[h]&s&&(r[h]|=s),a&=~p}}var ze=0;function ai(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var ru,Gs,iu,su,ou,Pa=!1,mr=[],Ut=null,Jn=null,Zn=null,li=new Map,Nn=new Map,gr=[],Bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(r,s){switch(r){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":li.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nn.delete(s.pointerId)}}function cn(r,s,a,h,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=$a(s),s!==null&&Gs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function zh(r,s,a,h,p){switch(s){case"focusin":return Ut=cn(Ut,r,s,a,h,p),!0;case"dragenter":return Jn=cn(Jn,r,s,a,h,p),!0;case"mouseover":return Zn=cn(Zn,r,s,a,h,p),!0;case"pointerover":var y=p.pointerId;return li.set(y,cn(li.get(y)||null,r,s,a,h,p)),!0;case"gotpointercapture":return y=p.pointerId,Nn.set(y,cn(Nn.get(y)||null,r,s,a,h,p)),!0}return!1}function lu(r){var s=os(r.target);if(s!==null){var a=Yn(s);if(a!==null){if(s=a.tag,s===13){if(s=Xi(a),s!==null){r.blockedOn=s,ou(r.priority,function(){iu(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Mr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Qs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Ki=h,a.target.dispatchEvent(h),Ki=null}else return s=$a(a),s!==null&&Gs(s),r.blockedOn=a,!1;s.shift()}return!0}function ns(r,s,a){Mr(r)&&a.delete(s)}function uu(){Pa=!1,Ut!==null&&Mr(Ut)&&(Ut=null),Jn!==null&&Mr(Jn)&&(Jn=null),Zn!==null&&Mr(Zn)&&(Zn=null),li.forEach(ns),Nn.forEach(ns)}function er(r,s){r.blockedOn===s&&(r.blockedOn=null,Pa||(Pa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uu)))}function tr(r){function s(p){return er(p,r)}if(0<mr.length){er(mr[0],r);for(var a=1;a<mr.length;a++){var h=mr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Ut!==null&&er(Ut,r),Jn!==null&&er(Jn,r),Zn!==null&&er(Zn,r),li.forEach(s),Nn.forEach(s),a=0;a<gr.length;a++)h=gr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<gr.length&&(a=gr[0],a.blockedOn===null);)lu(a),a.blockedOn===null&&gr.shift()}var Lr=X.ReactCurrentBatchConfig,ui=!0;function at(r,s,a,h){var p=ze,y=Lr.transition;Lr.transition=null;try{ze=1,Ra(r,s,a,h)}finally{ze=p,Lr.transition=y}}function Uh(r,s,a,h){var p=ze,y=Lr.transition;Lr.transition=null;try{ze=4,Ra(r,s,a,h)}finally{ze=p,Lr.transition=y}}function Ra(r,s,a,h){if(ui){var p=Qs(r,s,a,h);if(p===null)Zh(r,s,h,rs,a),au(r,h);else if(zh(p,r,s,a,h))h.stopPropagation();else if(au(r,h),s&4&&-1<Bh.indexOf(r)){for(;p!==null;){var y=$a(p);if(y!==null&&ru(y),y=Qs(r,s,a,h),y===null&&Zh(r,s,h,rs,a),y===p)break;p=y}p!==null&&h.stopPropagation()}else Zh(r,s,h,null,a)}}var rs=null;function Qs(r,s,a,h){if(rs=null,r=Fs(h),r=os(r),r!==null)if(s=Yn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Xi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return rs=r,null}function ka(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jl()){case Ji:return 1;case ni:return 4;case bn:case Ia:return 16;case Zl:return 536870912;default:return 16}default:return 16}}var Tn=null,Ys=null,hn=null;function Va(){if(hn)return hn;var r,s=Ys,a=s.length,h,p="value"in Tn?Tn.value:Tn.textContent,y=p.length;for(r=0;r<a&&s[r]===p[r];r++);var E=a-r;for(h=1;h<=E&&s[a-h]===p[y-h];h++);return hn=p.slice(r,1<h?1-h:void 0)}function Xs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function yr(){return!0}function Da(){return!1}function $t(r){function s(a,h,p,y,E){this._reactName=a,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?yr:Da,this.isPropagationStopped=Da,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),s}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=$t(nr),vr=le({},nr,{view:0,detail:0}),$h=$t(vr),Zs,Or,ci,is=le({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ci&&(ci&&r.type==="mousemove"?(Zs=r.screenX-ci.screenX,Or=r.screenY-ci.screenY):Or=Zs=0,ci=r),Zs)},movementY:function(r){return"movementY"in r?r.movementY:Or}}),eo=$t(is),ba=le({},is,{dataTransfer:0}),cu=$t(ba),to=le({},vr,{relatedTarget:0}),no=$t(to),hu=le({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Fr=$t(hu),fu=le({},nr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),du=$t(fu),pu=le({},nr,{data:0}),Na=$t(pu),ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=mu[r])?!!s[r]:!1}function _r(){return gu}var u=le({},vr,{key:function(r){if(r.key){var s=ro[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Xs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?an[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(r){return r.type==="keypress"?Xs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Xs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=$t(u),_=le({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=$t(_),j=le({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),W=$t(j),ae=le({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=$t(ae),Rt=le({},is,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=$t(Rt),Mt=[9,13,27,32],Tt=f&&"CompositionEvent"in window,Mn=null;f&&"documentMode"in document&&(Mn=document.documentMode);var Sn=f&&"TextEvent"in window&&!Mn,ss=f&&(!Tt||Mn&&8<Mn&&11>=Mn),io=" ",lg=!1;function ug(r,s){switch(r){case"keyup":return Mt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var so=!1;function uS(r,s){switch(r){case"compositionend":return cg(s);case"keypress":return s.which!==32?null:(lg=!0,io);case"textInput":return r=s.data,r===io&&lg?null:r;default:return null}}function cS(r,s){if(so)return r==="compositionend"||!Tt&&ug(r,s)?(r=Va(),hn=Ys=Tn=null,so=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ss&&s.locale!=="ko"?null:s.data;default:return null}}var hS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!hS[r.type]:s==="textarea"}function fg(r,s,a,h){pr(h),s=Eu(s,"onChange"),0<s.length&&(a=new Js("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Ma=null,La=null;function fS(r){kg(r,0)}function yu(r){var s=co(r);if(zt(s))return r}function dS(r,s){if(r==="change")return s}var dg=!1;if(f){var Hh;if(f){var Wh="oninput"in document;if(!Wh){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),Wh=typeof pg.oninput=="function"}Hh=Wh}else Hh=!1;dg=Hh&&(!document.documentMode||9<document.documentMode)}function mg(){Ma&&(Ma.detachEvent("onpropertychange",gg),La=Ma=null)}function gg(r){if(r.propertyName==="value"&&yu(La)){var s=[];fg(s,La,r,Fs(r)),Ta(fS,s)}}function pS(r,s,a){r==="focusin"?(mg(),Ma=s,La=a,Ma.attachEvent("onpropertychange",gg)):r==="focusout"&&mg()}function mS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yu(La)}function gS(r,s){if(r==="click")return yu(s)}function yS(r,s){if(r==="input"||r==="change")return yu(s)}function vS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var rr=typeof Object.is=="function"?Object.is:vS;function Oa(r,s){if(rr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var p=a[h];if(!d.call(s,p)||!rr(r[p],s[p]))return!1}return!0}function yg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function vg(r,s){var a=yg(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yg(a)}}function _g(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?_g(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function wg(){for(var r=window,s=re();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=re(r.document)}return s}function qh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function _S(r){var s=wg(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&_g(a.ownerDocument.documentElement,a)){if(h!==null&&qh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=a.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!r.extend&&y>h&&(p=h,h=y,y=p),p=vg(a,y);var E=vg(a,h);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var wS=f&&"documentMode"in document&&11>=document.documentMode,oo=null,Kh=null,Fa=null,Gh=!1;function Eg(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gh||oo==null||oo!==re(h)||(h=oo,"selectionStart"in h&&qh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Fa&&Oa(Fa,h)||(Fa=h,h=Eu(Kh,"onSelect"),0<h.length&&(s=new Js("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=oo)))}function vu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var ao={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},Qh={},Tg={};f&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function _u(r){if(Qh[r])return Qh[r];if(!ao[r])return r;var s=ao[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Tg)return Qh[r]=s[a];return r}var Sg=_u("animationend"),xg=_u("animationiteration"),Ag=_u("animationstart"),Ig=_u("transitionend"),Cg=new Map,Pg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(r,s){Cg.set(r,s),l(s,[r])}for(var Yh=0;Yh<Pg.length;Yh++){var Xh=Pg[Yh],ES=Xh.toLowerCase(),TS=Xh[0].toUpperCase()+Xh.slice(1);hi(ES,"on"+TS)}hi(Sg,"onAnimationEnd"),hi(xg,"onAnimationIteration"),hi(Ag,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(Ig,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function Rg(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Ql(h,s,void 0,r),r.currentTarget=null}function kg(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var E=h.length-1;0<=E;E--){var C=h[E],V=C.instance,U=C.currentTarget;if(C=C.listener,V!==y&&p.isPropagationStopped())break e;Rg(p,C,U),y=V}else for(E=0;E<h.length;E++){if(C=h[E],V=C.instance,U=C.currentTarget,C=C.listener,V!==y&&p.isPropagationStopped())break e;Rg(p,C,U),y=V}}}if(Qn)throw r=Sa,Qn=!1,Sa=null,r}function tt(r,s){var a=s[of];a===void 0&&(a=s[of]=new Set);var h=r+"__bubble";a.has(h)||(Vg(s,r,2,!1),a.add(h))}function Jh(r,s,a){var h=0;s&&(h|=4),Vg(a,r,h,s)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Ba(r){if(!r[wu]){r[wu]=!0,i.forEach(function(a){a!=="selectionchange"&&(SS.has(a)||Jh(a,!1,r),Jh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[wu]||(s[wu]=!0,Jh("selectionchange",!1,s))}}function Vg(r,s,a,h){switch(ka(s)){case 1:var p=at;break;case 4:p=Uh;break;default:p=Ra}a=p.bind(null,s,a,r),p=void 0,!zs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,a,{capture:!0,passive:p}):r.addEventListener(s,a,!0):p!==void 0?r.addEventListener(s,a,{passive:p}):r.addEventListener(s,a,!1)}function Zh(r,s,a,h,p){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var C=h.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(E===4)for(E=h.return;E!==null;){var V=E.tag;if((V===3||V===4)&&(V=E.stateNode.containerInfo,V===p||V.nodeType===8&&V.parentNode===p))return;E=E.return}for(;C!==null;){if(E=os(C),E===null)return;if(V=E.tag,V===5||V===6){h=y=E;continue e}C=C.parentNode}}h=h.return}Ta(function(){var U=y,ee=Fs(a),ne=[];e:{var Z=Cg.get(r);if(Z!==void 0){var ce=Js,me=r;switch(r){case"keypress":if(Xs(a)===0)break e;case"keydown":case"keyup":ce=g;break;case"focusin":me="focus",ce=no;break;case"focusout":me="blur",ce=no;break;case"beforeblur":case"afterblur":ce=no;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=W;break;case Sg:case xg:case Ag:ce=Fr;break;case Ig:ce=Ye;break;case"scroll":ce=$h;break;case"wheel":ce=$e;break;case"copy":case"cut":case"paste":ce=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=S}var ge=(s&4)!==0,vt=!ge&&r==="scroll",B=ge?Z!==null?Z+"Capture":null:Z;ge=[];for(var N=U,z;N!==null;){z=N;var oe=z.stateNode;if(z.tag===5&&oe!==null&&(z=oe,B!==null&&(oe=yt(N,B),oe!=null&&ge.push(za(N,oe,z)))),vt)break;N=N.return}0<ge.length&&(Z=new ce(Z,me,null,a,ee),ne.push({event:Z,listeners:ge}))}}if((s&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",Z&&a!==Ki&&(me=a.relatedTarget||a.fromElement)&&(os(me)||me[jr]))break e;if((ce||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ce?(me=a.relatedTarget||a.toElement,ce=U,me=me?os(me):null,me!==null&&(vt=Yn(me),me!==vt||me.tag!==5&&me.tag!==6)&&(me=null)):(ce=null,me=U),ce!==me)){if(ge=eo,oe="onMouseLeave",B="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(ge=S,oe="onPointerLeave",B="onPointerEnter",N="pointer"),vt=ce==null?Z:co(ce),z=me==null?Z:co(me),Z=new ge(oe,N+"leave",ce,a,ee),Z.target=vt,Z.relatedTarget=z,oe=null,os(ee)===U&&(ge=new ge(B,N+"enter",me,a,ee),ge.target=z,ge.relatedTarget=vt,oe=ge),vt=oe,ce&&me)t:{for(ge=ce,B=me,N=0,z=ge;z;z=lo(z))N++;for(z=0,oe=B;oe;oe=lo(oe))z++;for(;0<N-z;)ge=lo(ge),N--;for(;0<z-N;)B=lo(B),z--;for(;N--;){if(ge===B||B!==null&&ge===B.alternate)break t;ge=lo(ge),B=lo(B)}ge=null}else ge=null;ce!==null&&Dg(ne,Z,ce,ge,!1),me!==null&&vt!==null&&Dg(ne,vt,me,ge,!0)}}e:{if(Z=U?co(U):window,ce=Z.nodeName&&Z.nodeName.toLowerCase(),ce==="select"||ce==="input"&&Z.type==="file")var ve=dS;else if(hg(Z))if(dg)ve=yS;else{ve=mS;var Ee=pS}else(ce=Z.nodeName)&&ce.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ve=gS);if(ve&&(ve=ve(r,U))){fg(ne,ve,a,ee);break e}Ee&&Ee(r,Z,U),r==="focusout"&&(Ee=Z._wrapperState)&&Ee.controlled&&Z.type==="number"&&Vn(Z,"number",Z.value)}switch(Ee=U?co(U):window,r){case"focusin":(hg(Ee)||Ee.contentEditable==="true")&&(oo=Ee,Kh=U,Fa=null);break;case"focusout":Fa=Kh=oo=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Eg(ne,a,ee);break;case"selectionchange":if(wS)break;case"keydown":case"keyup":Eg(ne,a,ee)}var Te;if(Tt)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else so?ug(r,a)&&(Pe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(ss&&a.locale!=="ko"&&(so||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&so&&(Te=Va()):(Tn=ee,Ys="value"in Tn?Tn.value:Tn.textContent,so=!0)),Ee=Eu(U,Pe),0<Ee.length&&(Pe=new Na(Pe,r,null,a,ee),ne.push({event:Pe,listeners:Ee}),Te?Pe.data=Te:(Te=cg(a),Te!==null&&(Pe.data=Te)))),(Te=Sn?uS(r,a):cS(r,a))&&(U=Eu(U,"onBeforeInput"),0<U.length&&(ee=new Na("onBeforeInput","beforeinput",null,a,ee),ne.push({event:ee,listeners:U}),ee.data=Te))}kg(ne,s)})}function za(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Eu(r,s){for(var a=s+"Capture",h=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=yt(r,a),y!=null&&h.unshift(za(r,y,p)),y=yt(r,s),y!=null&&h.push(za(r,y,p))),r=r.return}return h}function lo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Dg(r,s,a,h,p){for(var y=s._reactName,E=[];a!==null&&a!==h;){var C=a,V=C.alternate,U=C.stateNode;if(V!==null&&V===h)break;C.tag===5&&U!==null&&(C=U,p?(V=yt(a,y),V!=null&&E.unshift(za(a,V,C))):p||(V=yt(a,y),V!=null&&E.push(za(a,V,C)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var xS=/\r\n?/g,AS=/\u0000|\uFFFD/g;function bg(r){return(typeof r=="string"?r:""+r).replace(xS,`
`).replace(AS,"")}function Tu(r,s,a){if(s=bg(s),bg(r)!==s&&a)throw Error(t(425))}function Su(){}var ef=null,tf=null;function nf(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rf=typeof setTimeout=="function"?setTimeout:void 0,IS=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,CS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(r){return Ng.resolve(null).then(r).catch(PS)}:rf;function PS(r){setTimeout(function(){throw r})}function sf(r,s){var a=s,h=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(h===0){r.removeChild(p),tr(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=p}while(a);tr(s)}function fi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Mg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var uo=Math.random().toString(36).slice(2),wr="__reactFiber$"+uo,Ua="__reactProps$"+uo,jr="__reactContainer$"+uo,of="__reactEvents$"+uo,RS="__reactListeners$"+uo,kS="__reactHandles$"+uo;function os(r){var s=r[wr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[jr]||a[wr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Mg(r);r!==null;){if(a=r[wr])return a;r=Mg(r)}return s}r=a,a=r.parentNode}return null}function $a(r){return r=r[wr]||r[jr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function co(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function xu(r){return r[Ua]||null}var af=[],ho=-1;function di(r){return{current:r}}function nt(r){0>ho||(r.current=af[ho],af[ho]=null,ho--)}function et(r,s){ho++,af[ho]=r.current,r.current=s}var pi={},Yt=di(pi),fn=di(!1),as=pi;function fo(r,s){var a=r.type.contextTypes;if(!a)return pi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in a)p[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function dn(r){return r=r.childContextTypes,r!=null}function Au(){nt(fn),nt(Yt)}function Lg(r,s,a){if(Yt.current!==pi)throw Error(t(168));et(Yt,s),et(fn,a)}function Og(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,Me(r)||"Unknown",p));return le({},a,h)}function Iu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||pi,as=Yt.current,et(Yt,r),et(fn,fn.current),!0}function Fg(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Og(r,s,as),h.__reactInternalMemoizedMergedChildContext=r,nt(fn),nt(Yt),et(Yt,r)):nt(fn),et(fn,a)}var Br=null,Cu=!1,lf=!1;function jg(r){Br===null?Br=[r]:Br.push(r)}function VS(r){Cu=!0,jg(r)}function mi(){if(!lf&&Br!==null){lf=!0;var r=0,s=ze;try{var a=Br;for(ze=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Br=null,Cu=!1}catch(p){throw Br!==null&&(Br=Br.slice(r+1)),Ws(Ji,mi),p}finally{ze=s,lf=!1}}return null}var po=[],mo=0,Pu=null,Ru=0,Ln=[],On=0,ls=null,zr=1,Ur="";function us(r,s){po[mo++]=Ru,po[mo++]=Pu,Pu=r,Ru=s}function Bg(r,s,a){Ln[On++]=zr,Ln[On++]=Ur,Ln[On++]=ls,ls=r;var h=zr;r=Ur;var p=32-on(h)-1;h&=~(1<<p),a+=1;var y=32-on(s)+p;if(30<y){var E=p-p%5;y=(h&(1<<E)-1).toString(32),h>>=E,p-=E,zr=1<<32-on(s)+p|a<<p|h,Ur=y+r}else zr=1<<y|a<<p|h,Ur=r}function uf(r){r.return!==null&&(us(r,1),Bg(r,1,0))}function cf(r){for(;r===Pu;)Pu=po[--mo],po[mo]=null,Ru=po[--mo],po[mo]=null;for(;r===ls;)ls=Ln[--On],Ln[On]=null,Ur=Ln[--On],Ln[On]=null,zr=Ln[--On],Ln[On]=null}var xn=null,An=null,lt=!1,ir=null;function zg(r,s){var a=zn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Ug(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,xn=r,An=fi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,xn=r,An=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ls!==null?{id:zr,overflow:Ur}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=zn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,xn=r,An=null,!0):!1;default:return!1}}function hf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ff(r){if(lt){var s=An;if(s){var a=s;if(!Ug(r,s)){if(hf(r))throw Error(t(418));s=fi(a.nextSibling);var h=xn;s&&Ug(r,s)?zg(h,a):(r.flags=r.flags&-4097|2,lt=!1,xn=r)}}else{if(hf(r))throw Error(t(418));r.flags=r.flags&-4097|2,lt=!1,xn=r}}}function $g(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;xn=r}function ku(r){if(r!==xn)return!1;if(!lt)return $g(r),lt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!nf(r.type,r.memoizedProps)),s&&(s=An)){if(hf(r))throw Hg(),Error(t(418));for(;s;)zg(r,s),s=fi(s.nextSibling)}if($g(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){An=fi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}An=null}}else An=xn?fi(r.stateNode.nextSibling):null;return!0}function Hg(){for(var r=An;r;)r=fi(r.nextSibling)}function go(){An=xn=null,lt=!1}function df(r){ir===null?ir=[r]:ir.push(r)}var DS=X.ReactCurrentBatchConfig;function Ha(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var p=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var C=p.refs;E===null?delete C[y]:C[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Vu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Wg(r){var s=r._init;return s(r._payload)}function qg(r){function s(B,N){if(r){var z=B.deletions;z===null?(B.deletions=[N],B.flags|=16):z.push(N)}}function a(B,N){if(!r)return null;for(;N!==null;)s(B,N),N=N.sibling;return null}function h(B,N){for(B=new Map;N!==null;)N.key!==null?B.set(N.key,N):B.set(N.index,N),N=N.sibling;return B}function p(B,N){return B=Si(B,N),B.index=0,B.sibling=null,B}function y(B,N,z){return B.index=z,r?(z=B.alternate,z!==null?(z=z.index,z<N?(B.flags|=2,N):z):(B.flags|=2,N)):(B.flags|=1048576,N)}function E(B){return r&&B.alternate===null&&(B.flags|=2),B}function C(B,N,z,oe){return N===null||N.tag!==6?(N=id(z,B.mode,oe),N.return=B,N):(N=p(N,z),N.return=B,N)}function V(B,N,z,oe){var ve=z.type;return ve===I?ee(B,N,z.props.children,oe,z.key):N!==null&&(N.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===pt&&Wg(ve)===N.type)?(oe=p(N,z.props),oe.ref=Ha(B,N,z),oe.return=B,oe):(oe=tc(z.type,z.key,z.props,null,B.mode,oe),oe.ref=Ha(B,N,z),oe.return=B,oe)}function U(B,N,z,oe){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=sd(z,B.mode,oe),N.return=B,N):(N=p(N,z.children||[]),N.return=B,N)}function ee(B,N,z,oe,ve){return N===null||N.tag!==7?(N=ys(z,B.mode,oe,ve),N.return=B,N):(N=p(N,z),N.return=B,N)}function ne(B,N,z){if(typeof N=="string"&&N!==""||typeof N=="number")return N=id(""+N,B.mode,z),N.return=B,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case J:return z=tc(N.type,N.key,N.props,null,B.mode,z),z.ref=Ha(B,null,N),z.return=B,z;case te:return N=sd(N,B.mode,z),N.return=B,N;case pt:var oe=N._init;return ne(B,oe(N._payload),z)}if(Kn(N)||ue(N))return N=ys(N,B.mode,z,null),N.return=B,N;Vu(B,N)}return null}function Z(B,N,z,oe){var ve=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ve!==null?null:C(B,N,""+z,oe);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case J:return z.key===ve?V(B,N,z,oe):null;case te:return z.key===ve?U(B,N,z,oe):null;case pt:return ve=z._init,Z(B,N,ve(z._payload),oe)}if(Kn(z)||ue(z))return ve!==null?null:ee(B,N,z,oe,null);Vu(B,z)}return null}function ce(B,N,z,oe,ve){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return B=B.get(z)||null,C(N,B,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case J:return B=B.get(oe.key===null?z:oe.key)||null,V(N,B,oe,ve);case te:return B=B.get(oe.key===null?z:oe.key)||null,U(N,B,oe,ve);case pt:var Ee=oe._init;return ce(B,N,z,Ee(oe._payload),ve)}if(Kn(oe)||ue(oe))return B=B.get(z)||null,ee(N,B,oe,ve,null);Vu(N,oe)}return null}function me(B,N,z,oe){for(var ve=null,Ee=null,Te=N,Pe=N=0,Ft=null;Te!==null&&Pe<z.length;Pe++){Te.index>Pe?(Ft=Te,Te=null):Ft=Te.sibling;var Ke=Z(B,Te,z[Pe],oe);if(Ke===null){Te===null&&(Te=Ft);break}r&&Te&&Ke.alternate===null&&s(B,Te),N=y(Ke,N,Pe),Ee===null?ve=Ke:Ee.sibling=Ke,Ee=Ke,Te=Ft}if(Pe===z.length)return a(B,Te),lt&&us(B,Pe),ve;if(Te===null){for(;Pe<z.length;Pe++)Te=ne(B,z[Pe],oe),Te!==null&&(N=y(Te,N,Pe),Ee===null?ve=Te:Ee.sibling=Te,Ee=Te);return lt&&us(B,Pe),ve}for(Te=h(B,Te);Pe<z.length;Pe++)Ft=ce(Te,B,Pe,z[Pe],oe),Ft!==null&&(r&&Ft.alternate!==null&&Te.delete(Ft.key===null?Pe:Ft.key),N=y(Ft,N,Pe),Ee===null?ve=Ft:Ee.sibling=Ft,Ee=Ft);return r&&Te.forEach(function(xi){return s(B,xi)}),lt&&us(B,Pe),ve}function ge(B,N,z,oe){var ve=ue(z);if(typeof ve!="function")throw Error(t(150));if(z=ve.call(z),z==null)throw Error(t(151));for(var Ee=ve=null,Te=N,Pe=N=0,Ft=null,Ke=z.next();Te!==null&&!Ke.done;Pe++,Ke=z.next()){Te.index>Pe?(Ft=Te,Te=null):Ft=Te.sibling;var xi=Z(B,Te,Ke.value,oe);if(xi===null){Te===null&&(Te=Ft);break}r&&Te&&xi.alternate===null&&s(B,Te),N=y(xi,N,Pe),Ee===null?ve=xi:Ee.sibling=xi,Ee=xi,Te=Ft}if(Ke.done)return a(B,Te),lt&&us(B,Pe),ve;if(Te===null){for(;!Ke.done;Pe++,Ke=z.next())Ke=ne(B,Ke.value,oe),Ke!==null&&(N=y(Ke,N,Pe),Ee===null?ve=Ke:Ee.sibling=Ke,Ee=Ke);return lt&&us(B,Pe),ve}for(Te=h(B,Te);!Ke.done;Pe++,Ke=z.next())Ke=ce(Te,B,Pe,Ke.value,oe),Ke!==null&&(r&&Ke.alternate!==null&&Te.delete(Ke.key===null?Pe:Ke.key),N=y(Ke,N,Pe),Ee===null?ve=Ke:Ee.sibling=Ke,Ee=Ke);return r&&Te.forEach(function(hx){return s(B,hx)}),lt&&us(B,Pe),ve}function vt(B,N,z,oe){if(typeof z=="object"&&z!==null&&z.type===I&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case J:e:{for(var ve=z.key,Ee=N;Ee!==null;){if(Ee.key===ve){if(ve=z.type,ve===I){if(Ee.tag===7){a(B,Ee.sibling),N=p(Ee,z.props.children),N.return=B,B=N;break e}}else if(Ee.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===pt&&Wg(ve)===Ee.type){a(B,Ee.sibling),N=p(Ee,z.props),N.ref=Ha(B,Ee,z),N.return=B,B=N;break e}a(B,Ee);break}else s(B,Ee);Ee=Ee.sibling}z.type===I?(N=ys(z.props.children,B.mode,oe,z.key),N.return=B,B=N):(oe=tc(z.type,z.key,z.props,null,B.mode,oe),oe.ref=Ha(B,N,z),oe.return=B,B=oe)}return E(B);case te:e:{for(Ee=z.key;N!==null;){if(N.key===Ee)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(B,N.sibling),N=p(N,z.children||[]),N.return=B,B=N;break e}else{a(B,N);break}else s(B,N);N=N.sibling}N=sd(z,B.mode,oe),N.return=B,B=N}return E(B);case pt:return Ee=z._init,vt(B,N,Ee(z._payload),oe)}if(Kn(z))return me(B,N,z,oe);if(ue(z))return ge(B,N,z,oe);Vu(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,N!==null&&N.tag===6?(a(B,N.sibling),N=p(N,z),N.return=B,B=N):(a(B,N),N=id(z,B.mode,oe),N.return=B,B=N),E(B)):a(B,N)}return vt}var yo=qg(!0),Kg=qg(!1),Du=di(null),bu=null,vo=null,pf=null;function mf(){pf=vo=bu=null}function gf(r){var s=Du.current;nt(Du),r._currentValue=s}function yf(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function _o(r,s){bu=r,pf=vo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(pn=!0),r.firstContext=null)}function Fn(r){var s=r._currentValue;if(pf!==r)if(r={context:r,memoizedValue:s,next:null},vo===null){if(bu===null)throw Error(t(308));vo=r,bu.dependencies={lanes:0,firstContext:r}}else vo=vo.next=r;return s}var cs=null;function vf(r){cs===null?cs=[r]:cs.push(r)}function Gg(r,s,a,h){var p=s.interleaved;return p===null?(a.next=a,vf(s)):(a.next=p.next,p.next=a),s.interleaved=a,$r(r,h)}function $r(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var gi=!1;function _f(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Hr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function yi(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(qe&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,$r(r,a)}return p=h.interleaved,p===null?(s.next=s,vf(h)):(s.next=p.next,p.next=s),h.interleaved=s,$r(r,a)}function Nu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,oi(r,a)}}function Yg(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?p=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?p=y=s:y=y.next=s}else p=y=s;a={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Mu(r,s,a,h){var p=r.updateQueue;gi=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var V=C,U=V.next;V.next=null,E===null?y=U:E.next=U,E=V;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,C=ee.lastBaseUpdate,C!==E&&(C===null?ee.firstBaseUpdate=U:C.next=U,ee.lastBaseUpdate=V))}if(y!==null){var ne=p.baseState;E=0,ee=U=V=null,C=y;do{var Z=C.lane,ce=C.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ce,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var me=r,ge=C;switch(Z=s,ce=a,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){ne=me.call(ce,ne,Z);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,Z=typeof me=="function"?me.call(ce,ne,Z):me,Z==null)break e;ne=le({},ne,Z);break e;case 2:gi=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,Z=p.effects,Z===null?p.effects=[C]:Z.push(C))}else ce={eventTime:ce,lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ee===null?(U=ee=ce,V=ne):ee=ee.next=ce,E|=Z;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;Z=C,C=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);if(ee===null&&(V=ne),p.baseState=V,p.firstBaseUpdate=U,p.lastBaseUpdate=ee,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);ds|=E,r.lanes=E,r.memoizedState=ne}}function Xg(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=a,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Wa={},Er=di(Wa),qa=di(Wa),Ka=di(Wa);function hs(r){if(r===Wa)throw Error(t(174));return r}function wf(r,s){switch(et(Ka,s),et(qa,r),et(Er,Wa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Pt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Pt(s,r)}nt(Er),et(Er,s)}function wo(){nt(Er),nt(qa),nt(Ka)}function Jg(r){hs(Ka.current);var s=hs(Er.current),a=Pt(s,r.type);s!==a&&(et(qa,r),et(Er,a))}function Ef(r){qa.current===r&&(nt(Er),nt(qa))}var ut=di(0);function Lu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Tf=[];function Sf(){for(var r=0;r<Tf.length;r++)Tf[r]._workInProgressVersionPrimary=null;Tf.length=0}var Ou=X.ReactCurrentDispatcher,xf=X.ReactCurrentBatchConfig,fs=0,ct=null,kt=null,Lt=null,Fu=!1,Ga=!1,Qa=0,bS=0;function Xt(){throw Error(t(321))}function Af(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!rr(r[a],s[a]))return!1;return!0}function If(r,s,a,h,p,y){if(fs=y,ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ou.current=r===null||r.memoizedState===null?OS:FS,r=a(h,p),Ga){y=0;do{if(Ga=!1,Qa=0,25<=y)throw Error(t(301));y+=1,Lt=kt=null,s.updateQueue=null,Ou.current=jS,r=a(h,p)}while(Ga)}if(Ou.current=zu,s=kt!==null&&kt.next!==null,fs=0,Lt=kt=ct=null,Fu=!1,s)throw Error(t(300));return r}function Cf(){var r=Qa!==0;return Qa=0,r}function Tr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ct.memoizedState=Lt=r:Lt=Lt.next=r,Lt}function jn(){if(kt===null){var r=ct.alternate;r=r!==null?r.memoizedState:null}else r=kt.next;var s=Lt===null?ct.memoizedState:Lt.next;if(s!==null)Lt=s,kt=r;else{if(r===null)throw Error(t(310));kt=r,r={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Lt===null?ct.memoizedState=Lt=r:Lt=Lt.next=r}return Lt}function Ya(r,s){return typeof s=="function"?s(r):s}function Pf(r){var s=jn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=kt,p=h.baseQueue,y=a.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}h.baseQueue=p=y,a.pending=null}if(p!==null){y=p.next,h=h.baseState;var C=E=null,V=null,U=y;do{var ee=U.lane;if((fs&ee)===ee)V!==null&&(V=V.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),h=U.hasEagerState?U.eagerState:r(h,U.action);else{var ne={lane:ee,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};V===null?(C=V=ne,E=h):V=V.next=ne,ct.lanes|=ee,ds|=ee}U=U.next}while(U!==null&&U!==y);V===null?E=h:V.next=C,rr(h,s.memoizedState)||(pn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=V,a.lastRenderedState=h}if(r=a.interleaved,r!==null){p=r;do y=p.lane,ct.lanes|=y,ds|=y,p=p.next;while(p!==r)}else p===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Rf(r){var s=jn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,p=a.pending,y=s.memoizedState;if(p!==null){a.pending=null;var E=p=p.next;do y=r(y,E.action),E=E.next;while(E!==p);rr(y,s.memoizedState)||(pn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,h]}function Zg(){}function ey(r,s){var a=ct,h=jn(),p=s(),y=!rr(h.memoizedState,p);if(y&&(h.memoizedState=p,pn=!0),h=h.queue,kf(ry.bind(null,a,h,r),[r]),h.getSnapshot!==s||y||Lt!==null&&Lt.memoizedState.tag&1){if(a.flags|=2048,Xa(9,ny.bind(null,a,h,p,s),void 0,null),Ot===null)throw Error(t(349));(fs&30)!==0||ty(a,s,p)}return p}function ty(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function ny(r,s,a,h){s.value=a,s.getSnapshot=h,iy(s)&&sy(r)}function ry(r,s,a){return a(function(){iy(s)&&sy(r)})}function iy(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!rr(r,a)}catch{return!0}}function sy(r){var s=$r(r,1);s!==null&&lr(s,r,1,-1)}function oy(r){var s=Tr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:r},s.queue=r,r=r.dispatch=LS.bind(null,ct,r),[s.memoizedState,r]}function Xa(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function ay(){return jn().memoizedState}function ju(r,s,a,h){var p=Tr();ct.flags|=r,p.memoizedState=Xa(1|s,a,void 0,h===void 0?null:h)}function Bu(r,s,a,h){var p=jn();h=h===void 0?null:h;var y=void 0;if(kt!==null){var E=kt.memoizedState;if(y=E.destroy,h!==null&&Af(h,E.deps)){p.memoizedState=Xa(s,a,y,h);return}}ct.flags|=r,p.memoizedState=Xa(1|s,a,y,h)}function ly(r,s){return ju(8390656,8,r,s)}function kf(r,s){return Bu(2048,8,r,s)}function uy(r,s){return Bu(4,2,r,s)}function cy(r,s){return Bu(4,4,r,s)}function hy(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function fy(r,s,a){return a=a!=null?a.concat([r]):null,Bu(4,4,hy.bind(null,s,r),a)}function Vf(){}function dy(r,s){var a=jn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Af(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function py(r,s){var a=jn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Af(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function my(r,s,a){return(fs&21)===0?(r.baseState&&(r.baseState=!1,pn=!0),r.memoizedState=a):(rr(a,s)||(a=ts(),ct.lanes|=a,ds|=a,r.baseState=!0),s)}function NS(r,s){var a=ze;ze=a!==0&&4>a?a:4,r(!0);var h=xf.transition;xf.transition={};try{r(!1),s()}finally{ze=a,xf.transition=h}}function gy(){return jn().memoizedState}function MS(r,s,a){var h=Ei(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},yy(r))vy(s,a);else if(a=Gg(r,s,a,h),a!==null){var p=un();lr(a,r,h,p),_y(a,s,h)}}function LS(r,s,a){var h=Ei(r),p={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(yy(r))vy(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,C=y(E,a);if(p.hasEagerState=!0,p.eagerState=C,rr(C,E)){var V=s.interleaved;V===null?(p.next=p,vf(s)):(p.next=V.next,V.next=p),s.interleaved=p;return}}catch{}finally{}a=Gg(r,s,p,h),a!==null&&(p=un(),lr(a,r,h,p),_y(a,s,h))}}function yy(r){var s=r.alternate;return r===ct||s!==null&&s===ct}function vy(r,s){Ga=Fu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function _y(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,oi(r,a)}}var zu={readContext:Fn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},OS={readContext:Fn,useCallback:function(r,s){return Tr().memoizedState=[r,s===void 0?null:s],r},useContext:Fn,useEffect:ly,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,ju(4194308,4,hy.bind(null,s,r),a)},useLayoutEffect:function(r,s){return ju(4194308,4,r,s)},useInsertionEffect:function(r,s){return ju(4,2,r,s)},useMemo:function(r,s){var a=Tr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=Tr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=MS.bind(null,ct,r),[h.memoizedState,r]},useRef:function(r){var s=Tr();return r={current:r},s.memoizedState=r},useState:oy,useDebugValue:Vf,useDeferredValue:function(r){return Tr().memoizedState=r},useTransition:function(){var r=oy(!1),s=r[0];return r=NS.bind(null,r[1]),Tr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=ct,p=Tr();if(lt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Ot===null)throw Error(t(349));(fs&30)!==0||ty(h,s,a)}p.memoizedState=a;var y={value:a,getSnapshot:s};return p.queue=y,ly(ry.bind(null,h,y,r),[r]),h.flags|=2048,Xa(9,ny.bind(null,h,y,a,s),void 0,null),a},useId:function(){var r=Tr(),s=Ot.identifierPrefix;if(lt){var a=Ur,h=zr;a=(h&~(1<<32-on(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Qa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=bS++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},FS={readContext:Fn,useCallback:dy,useContext:Fn,useEffect:kf,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:py,useReducer:Pf,useRef:ay,useState:function(){return Pf(Ya)},useDebugValue:Vf,useDeferredValue:function(r){var s=jn();return my(s,kt.memoizedState,r)},useTransition:function(){var r=Pf(Ya)[0],s=jn().memoizedState;return[r,s]},useMutableSource:Zg,useSyncExternalStore:ey,useId:gy,unstable_isNewReconciler:!1},jS={readContext:Fn,useCallback:dy,useContext:Fn,useEffect:kf,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:py,useReducer:Rf,useRef:ay,useState:function(){return Rf(Ya)},useDebugValue:Vf,useDeferredValue:function(r){var s=jn();return kt===null?s.memoizedState=r:my(s,kt.memoizedState,r)},useTransition:function(){var r=Rf(Ya)[0],s=jn().memoizedState;return[r,s]},useMutableSource:Zg,useSyncExternalStore:ey,useId:gy,unstable_isNewReconciler:!1};function sr(r,s){if(r&&r.defaultProps){s=le({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Df(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:le({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Uu={isMounted:function(r){return(r=r._reactInternals)?Yn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=un(),p=Ei(r),y=Hr(h,p);y.payload=s,a!=null&&(y.callback=a),s=yi(r,y,p),s!==null&&(lr(s,r,p,h),Nu(s,r,p))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=un(),p=Ei(r),y=Hr(h,p);y.tag=1,y.payload=s,a!=null&&(y.callback=a),s=yi(r,y,p),s!==null&&(lr(s,r,p,h),Nu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=un(),h=Ei(r),p=Hr(a,h);p.tag=2,s!=null&&(p.callback=s),s=yi(r,p,h),s!==null&&(lr(s,r,h,a),Nu(s,r,h))}};function wy(r,s,a,h,p,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,E):s.prototype&&s.prototype.isPureReactComponent?!Oa(a,h)||!Oa(p,y):!0}function Ey(r,s,a){var h=!1,p=pi,y=s.contextType;return typeof y=="object"&&y!==null?y=Fn(y):(p=dn(s)?as:Yt.current,h=s.contextTypes,y=(h=h!=null)?fo(r,p):pi),s=new s(a,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Uu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function Ty(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Uu.enqueueReplaceState(s,s.state,null)}function bf(r,s,a,h){var p=r.stateNode;p.props=a,p.state=r.memoizedState,p.refs={},_f(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Fn(y):(y=dn(s)?as:Yt.current,p.context=fo(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Df(r,s,y,a),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Uu.enqueueReplaceState(p,p.state,null),Mu(r,a,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Eo(r,s){try{var a="",h=s;do a+=ke(h),h=h.return;while(h);var p=a}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function Nf(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Mf(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var BS=typeof WeakMap=="function"?WeakMap:Map;function Sy(r,s,a){a=Hr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Qu||(Qu=!0,Yf=h),Mf(r,s)},a}function xy(r,s,a){a=Hr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;a.payload=function(){return h(p)},a.callback=function(){Mf(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Mf(r,s),typeof h!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function Ay(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new BS;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(a)||(p.add(a),r=ex.bind(null,r,s,a),s.then(r,r))}function Iy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Cy(r,s,a,h,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Hr(-1,1),s.tag=2,yi(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var zS=X.ReactCurrentOwner,pn=!1;function ln(r,s,a,h){s.child=r===null?Kg(s,null,a,h):yo(s,r.child,a,h)}function Py(r,s,a,h,p){a=a.render;var y=s.ref;return _o(s,p),h=If(r,s,a,h,y,p),a=Cf(),r!==null&&!pn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Wr(r,s,p)):(lt&&a&&uf(s),s.flags|=1,ln(r,s,h,p),s.child)}function Ry(r,s,a,h,p){if(r===null){var y=a.type;return typeof y=="function"&&!rd(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=y,ky(r,s,y,h,p)):(r=tc(a.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:Oa,a(E,h)&&r.ref===s.ref)return Wr(r,s,p)}return s.flags|=1,r=Si(y,h),r.ref=s.ref,r.return=s,s.child=r}function ky(r,s,a,h,p){if(r!==null){var y=r.memoizedProps;if(Oa(y,h)&&r.ref===s.ref)if(pn=!1,s.pendingProps=h=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(pn=!0);else return s.lanes=r.lanes,Wr(r,s,p)}return Lf(r,s,a,h,p)}function Vy(r,s,a){var h=s.pendingProps,p=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(So,In),In|=a;else{if((a&1073741824)===0)return r=y!==null?y.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,et(So,In),In|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,et(So,In),In|=h}else y!==null?(h=y.baseLanes|a,s.memoizedState=null):h=a,et(So,In),In|=h;return ln(r,s,p,a),s.child}function Dy(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Lf(r,s,a,h,p){var y=dn(a)?as:Yt.current;return y=fo(s,y),_o(s,p),a=If(r,s,a,h,y,p),h=Cf(),r!==null&&!pn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Wr(r,s,p)):(lt&&h&&uf(s),s.flags|=1,ln(r,s,a,p),s.child)}function by(r,s,a,h,p){if(dn(a)){var y=!0;Iu(s)}else y=!1;if(_o(s,p),s.stateNode===null)Hu(r,s),Ey(s,a,h),bf(s,a,h,p),h=!0;else if(r===null){var E=s.stateNode,C=s.memoizedProps;E.props=C;var V=E.context,U=a.contextType;typeof U=="object"&&U!==null?U=Fn(U):(U=dn(a)?as:Yt.current,U=fo(s,U));var ee=a.getDerivedStateFromProps,ne=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==h||V!==U)&&Ty(s,E,h,U),gi=!1;var Z=s.memoizedState;E.state=Z,Mu(s,h,E,p),V=s.memoizedState,C!==h||Z!==V||fn.current||gi?(typeof ee=="function"&&(Df(s,a,ee,h),V=s.memoizedState),(C=gi||wy(s,a,C,h,Z,V,U))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=V),E.props=h,E.state=V,E.context=U,h=C):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,Qg(r,s),C=s.memoizedProps,U=s.type===s.elementType?C:sr(s.type,C),E.props=U,ne=s.pendingProps,Z=E.context,V=a.contextType,typeof V=="object"&&V!==null?V=Fn(V):(V=dn(a)?as:Yt.current,V=fo(s,V));var ce=a.getDerivedStateFromProps;(ee=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==ne||Z!==V)&&Ty(s,E,h,V),gi=!1,Z=s.memoizedState,E.state=Z,Mu(s,h,E,p);var me=s.memoizedState;C!==ne||Z!==me||fn.current||gi?(typeof ce=="function"&&(Df(s,a,ce,h),me=s.memoizedState),(U=gi||wy(s,a,U,h,Z,me,V)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,me,V),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,me,V)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=me),E.props=h,E.state=me,E.context=V,h=U):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),h=!1)}return Of(r,s,a,h,y,p)}function Of(r,s,a,h,p,y){Dy(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return p&&Fg(s,a,!1),Wr(r,s,y);h=s.stateNode,zS.current=s;var C=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=yo(s,r.child,null,y),s.child=yo(s,null,C,y)):ln(r,s,C,y),s.memoizedState=h.state,p&&Fg(s,a,!0),s.child}function Ny(r){var s=r.stateNode;s.pendingContext?Lg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Lg(r,s.context,!1),wf(r,s.containerInfo)}function My(r,s,a,h,p){return go(),df(p),s.flags|=256,ln(r,s,a,h),s.child}var Ff={dehydrated:null,treeContext:null,retryLane:0};function jf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ly(r,s,a){var h=s.pendingProps,p=ut.current,y=!1,E=(s.flags&128)!==0,C;if((C=E)||(C=r!==null&&r.memoizedState===null?!1:(p&2)!==0),C?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),et(ut,p&1),r===null)return ff(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,r=h.fallback,y?(h=s.mode,y=s.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=nc(E,h,0,null),r=ys(r,h,a,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=jf(a),s.memoizedState=Ff,r):Bf(s,E));if(p=r.memoizedState,p!==null&&(C=p.dehydrated,C!==null))return US(r,s,E,h,C,p,a);if(y){y=h.fallback,E=s.mode,p=r.child,C=p.sibling;var V={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=V,s.deletions=null):(h=Si(p,V),h.subtreeFlags=p.subtreeFlags&14680064),C!==null?y=Si(C,y):(y=ys(y,E,a,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,E=r.child.memoizedState,E=E===null?jf(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~a,s.memoizedState=Ff,h}return y=r.child,r=y.sibling,h=Si(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Bf(r,s){return s=nc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function $u(r,s,a,h){return h!==null&&df(h),yo(s,r.child,null,a),r=Bf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function US(r,s,a,h,p,y,E){if(a)return s.flags&256?(s.flags&=-257,h=Nf(Error(t(422))),$u(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=nc({mode:"visible",children:h.children},p,0,null),y=ys(y,p,E,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&yo(s,r.child,null,E),s.child.memoizedState=jf(E),s.memoizedState=Ff,y);if((s.mode&1)===0)return $u(r,s,E,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var C=h.dgst;return h=C,y=Error(t(419)),h=Nf(y,h,void 0),$u(r,s,E,h)}if(C=(E&r.childLanes)!==0,pn||C){if(h=Ot,h!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|E))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,$r(r,p),lr(h,r,p,-1))}return nd(),h=Nf(Error(t(421))),$u(r,s,E,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=tx.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,An=fi(p.nextSibling),xn=s,lt=!0,ir=null,r!==null&&(Ln[On++]=zr,Ln[On++]=Ur,Ln[On++]=ls,zr=r.id,Ur=r.overflow,ls=s),s=Bf(s,h.children),s.flags|=4096,s)}function Oy(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),yf(r.return,s,a)}function zf(r,s,a,h,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=p)}function Fy(r,s,a){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(ln(r,s,h.children,a),h=ut.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Oy(r,a,s);else if(r.tag===19)Oy(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(et(ut,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(a=s.child,p=null;a!==null;)r=a.alternate,r!==null&&Lu(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),zf(s,!1,p,a,y);break;case"backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Lu(r)===null){s.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}zf(s,!0,a,null,y);break;case"together":zf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Hu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Wr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ds|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Si(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Si(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function $S(r,s,a){switch(s.tag){case 3:Ny(s),go();break;case 5:Jg(s);break;case 1:dn(s.type)&&Iu(s);break;case 4:wf(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;et(Du,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(et(ut,ut.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Ly(r,s,a):(et(ut,ut.current&1),r=Wr(r,s,a),r!==null?r.sibling:null);et(ut,ut.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return Fy(r,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),et(ut,ut.current),h)break;return null;case 22:case 23:return s.lanes=0,Vy(r,s,a)}return Wr(r,s,a)}var jy,Uf,By,zy;jy=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Uf=function(){},By=function(r,s,a,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,hs(Er.current);var y=null;switch(a){case"input":p=pe(r,p),h=pe(r,h),y=[];break;case"select":p=le({},p,{value:void 0}),h=le({},h,{value:void 0}),y=[];break;case"textarea":p=fa(r,p),h=fa(r,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Su)}va(a,h);var E;a=null;for(U in p)if(!h.hasOwnProperty(U)&&p.hasOwnProperty(U)&&p[U]!=null)if(U==="style"){var C=p[U];for(E in C)C.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(o.hasOwnProperty(U)?y||(y=[]):(y=y||[]).push(U,null));for(U in h){var V=h[U];if(C=p?.[U],h.hasOwnProperty(U)&&V!==C&&(V!=null||C!=null))if(U==="style")if(C){for(E in C)!C.hasOwnProperty(E)||V&&V.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in V)V.hasOwnProperty(E)&&C[E]!==V[E]&&(a||(a={}),a[E]=V[E])}else a||(y||(y=[]),y.push(U,a)),a=V;else U==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,C=C?C.__html:void 0,V!=null&&C!==V&&(y=y||[]).push(U,V)):U==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push(U,""+V):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(o.hasOwnProperty(U)?(V!=null&&U==="onScroll"&&tt("scroll",r),y||C===V||(y=[])):(y=y||[]).push(U,V))}a&&(y=y||[]).push("style",a);var U=y;(s.updateQueue=U)&&(s.flags|=4)}},zy=function(r,s,a,h){a!==h&&(s.flags|=4)};function Ja(r,s){if(!lt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Jt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function HS(r,s,a){var h=s.pendingProps;switch(cf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return dn(s.type)&&Au(),Jt(s),null;case 3:return h=s.stateNode,wo(),nt(fn),nt(Yt),Sf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(ku(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ir!==null&&(Zf(ir),ir=null))),Uf(r,s),Jt(s),null;case 5:Ef(s);var p=hs(Ka.current);if(a=s.type,r!==null&&s.stateNode!=null)By(r,s,a,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Jt(s),null}if(r=hs(Er.current),ku(s)){h=s.stateNode,a=s.type;var y=s.memoizedProps;switch(h[wr]=s,h[Ua]=y,r=(s.mode&1)!==0,a){case"dialog":tt("cancel",h),tt("close",h);break;case"iframe":case"object":case"embed":tt("load",h);break;case"video":case"audio":for(p=0;p<ja.length;p++)tt(ja[p],h);break;case"source":tt("error",h);break;case"img":case"image":case"link":tt("error",h),tt("load",h);break;case"details":tt("toggle",h);break;case"input":Ie(h,y),tt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},tt("invalid",h);break;case"textarea":Ls(h,y),tt("invalid",h)}va(a,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var C=y[E];E==="children"?typeof C=="string"?h.textContent!==C&&(y.suppressHydrationWarning!==!0&&Tu(h.textContent,C,r),p=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&Tu(h.textContent,C,r),p=["children",""+C]):o.hasOwnProperty(E)&&C!=null&&E==="onScroll"&&tt("scroll",h)}switch(a){case"input":Nt(h),Et(h,y,!0);break;case"textarea":Nt(h),da(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Su)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ct(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(a,{is:h.is}):(r=E.createElement(a),a==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,a),r[wr]=s,r[Ua]=h,jy(r,s,!1,!1),s.stateNode=r;e:{switch(E=_a(a,h),a){case"dialog":tt("cancel",r),tt("close",r),p=h;break;case"iframe":case"object":case"embed":tt("load",r),p=h;break;case"video":case"audio":for(p=0;p<ja.length;p++)tt(ja[p],r);p=h;break;case"source":tt("error",r),p=h;break;case"img":case"image":case"link":tt("error",r),tt("load",r),p=h;break;case"details":tt("toggle",r),p=h;break;case"input":Ie(r,h),p=pe(r,h),tt("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=le({},h,{value:void 0}),tt("invalid",r);break;case"textarea":Ls(r,h),p=fa(r,h),tt("invalid",r);break;default:p=h}va(a,p),C=p;for(y in C)if(C.hasOwnProperty(y)){var V=C[y];y==="style"?ga(r,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&pa(r,V)):y==="children"?typeof V=="string"?(a!=="textarea"||V!=="")&&ti(r,V):typeof V=="number"&&ti(r,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?V!=null&&y==="onScroll"&&tt("scroll",r):V!=null&&K(r,y,V,E))}switch(a){case"input":Nt(r),Et(r,h,!1);break;case"textarea":Nt(r),da(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Le(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?Vr(r,!!h.multiple,y,!1):h.defaultValue!=null&&Vr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Su)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Jt(s),null;case 6:if(r&&s.stateNode!=null)zy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=hs(Ka.current),hs(Er.current),ku(s)){if(h=s.stateNode,a=s.memoizedProps,h[wr]=s,(y=h.nodeValue!==a)&&(r=xn,r!==null))switch(r.tag){case 3:Tu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Tu(h.nodeValue,a,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[wr]=s,s.stateNode=h}return Jt(s),null;case 13:if(nt(ut),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(lt&&An!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Hg(),go(),s.flags|=98560,y=!1;else if(y=ku(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[wr]=s}else go(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),y=!1}else ir!==null&&(Zf(ir),ir=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(ut.current&1)!==0?Vt===0&&(Vt=3):nd())),s.updateQueue!==null&&(s.flags|=4),Jt(s),null);case 4:return wo(),Uf(r,s),r===null&&Ba(s.stateNode.containerInfo),Jt(s),null;case 10:return gf(s.type._context),Jt(s),null;case 17:return dn(s.type)&&Au(),Jt(s),null;case 19:if(nt(ut),y=s.memoizedState,y===null)return Jt(s),null;if(h=(s.flags&128)!==0,E=y.rendering,E===null)if(h)Ja(y,!1);else{if(Vt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=Lu(r),E!==null){for(s.flags|=128,Ja(y,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)y=a,r=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return et(ut,ut.current&1|2),s.child}r=r.sibling}y.tail!==null&&Ze()>xo&&(s.flags|=128,h=!0,Ja(y,!1),s.lanes=4194304)}else{if(!h)if(r=Lu(E),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ja(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!lt)return Jt(s),null}else 2*Ze()-y.renderingStartTime>xo&&a!==1073741824&&(s.flags|=128,h=!0,Ja(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(a=y.last,a!==null?a.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Ze(),s.sibling=null,a=ut.current,et(ut,h?a&1|2:a&1),s):(Jt(s),null);case 22:case 23:return td(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(In&1073741824)!==0&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function WS(r,s){switch(cf(s),s.tag){case 1:return dn(s.type)&&Au(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return wo(),nt(fn),nt(Yt),Sf(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Ef(s),null;case 13:if(nt(ut),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));go()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return nt(ut),null;case 4:return wo(),null;case 10:return gf(s.type._context),null;case 22:case 23:return td(),null;case 24:return null;default:return null}}var Wu=!1,Zt=!1,qS=typeof WeakSet=="function"?WeakSet:Set,fe=null;function To(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){mt(r,s,h)}else a.current=null}function $f(r,s,a){try{a()}catch(h){mt(r,s,h)}}var Uy=!1;function KS(r,s){if(ef=ui,r=wg(),qh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,C=-1,V=-1,U=0,ee=0,ne=r,Z=null;t:for(;;){for(var ce;ne!==a||p!==0&&ne.nodeType!==3||(C=E+p),ne!==y||h!==0&&ne.nodeType!==3||(V=E+h),ne.nodeType===3&&(E+=ne.nodeValue.length),(ce=ne.firstChild)!==null;)Z=ne,ne=ce;for(;;){if(ne===r)break t;if(Z===a&&++U===p&&(C=E),Z===y&&++ee===h&&(V=E),(ce=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=ce}a=C===-1||V===-1?null:{start:C,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(tf={focusedElem:r,selectionRange:a},ui=!1,fe=s;fe!==null;)if(s=fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fe=r;else for(;fe!==null;){s=fe;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,vt=me.memoizedState,B=s.stateNode,N=B.getSnapshotBeforeUpdate(s.elementType===s.type?ge:sr(s.type,ge),vt);B.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){mt(s,s.return,oe)}if(r=s.sibling,r!==null){r.return=s.return,fe=r;break}fe=s.return}return me=Uy,Uy=!1,me}function Za(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&$f(s,a,y)}p=p.next}while(p!==h)}}function qu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Hf(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function $y(r){var s=r.alternate;s!==null&&(r.alternate=null,$y(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[wr],delete s[Ua],delete s[of],delete s[RS],delete s[kS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Hy(r){return r.tag===5||r.tag===3||r.tag===4}function Wy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Hy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Wf(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Su));else if(h!==4&&(r=r.child,r!==null))for(Wf(r,s,a),r=r.sibling;r!==null;)Wf(r,s,a),r=r.sibling}function qf(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(qf(r,s,a),r=r.sibling;r!==null;)qf(r,s,a),r=r.sibling}var Ht=null,or=!1;function vi(r,s,a){for(a=a.child;a!==null;)qy(r,s,a),a=a.sibling}function qy(r,s,a){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Zi,a)}catch{}switch(a.tag){case 5:Zt||To(a,s);case 6:var h=Ht,p=or;Ht=null,vi(r,s,a),Ht=h,or=p,Ht!==null&&(or?(r=Ht,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Ht.removeChild(a.stateNode));break;case 18:Ht!==null&&(or?(r=Ht,a=a.stateNode,r.nodeType===8?sf(r.parentNode,a):r.nodeType===1&&sf(r,a),tr(r)):sf(Ht,a.stateNode));break;case 4:h=Ht,p=or,Ht=a.stateNode.containerInfo,or=!0,vi(r,s,a),Ht=h,or=p;break;case 0:case 11:case 14:case 15:if(!Zt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&$f(a,s,E),p=p.next}while(p!==h)}vi(r,s,a);break;case 1:if(!Zt&&(To(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(C){mt(a,s,C)}vi(r,s,a);break;case 21:vi(r,s,a);break;case 22:a.mode&1?(Zt=(h=Zt)||a.memoizedState!==null,vi(r,s,a),Zt=h):vi(r,s,a);break;default:vi(r,s,a)}}function Ky(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new qS),s.forEach(function(h){var p=nx.bind(null,r,h);a.has(h)||(a.add(h),h.then(p,p))})}}function ar(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var p=a[h];try{var y=r,E=s,C=E;e:for(;C!==null;){switch(C.tag){case 5:Ht=C.stateNode,or=!1;break e;case 3:Ht=C.stateNode.containerInfo,or=!0;break e;case 4:Ht=C.stateNode.containerInfo,or=!0;break e}C=C.return}if(Ht===null)throw Error(t(160));qy(y,E,p),Ht=null,or=!1;var V=p.alternate;V!==null&&(V.return=null),p.return=null}catch(U){mt(p,s,U)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Gy(s,r),s=s.sibling}function Gy(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(ar(s,r),Sr(r),h&4){try{Za(3,r,r.return),qu(3,r)}catch(ge){mt(r,r.return,ge)}try{Za(5,r,r.return)}catch(ge){mt(r,r.return,ge)}}break;case 1:ar(s,r),Sr(r),h&512&&a!==null&&To(a,a.return);break;case 5:if(ar(s,r),Sr(r),h&512&&a!==null&&To(a,a.return),r.flags&32){var p=r.stateNode;try{ti(p,"")}catch(ge){mt(r,r.return,ge)}}if(h&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,E=a!==null?a.memoizedProps:y,C=r.type,V=r.updateQueue;if(r.updateQueue=null,V!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&Ce(p,y),_a(C,E);var U=_a(C,y);for(E=0;E<V.length;E+=2){var ee=V[E],ne=V[E+1];ee==="style"?ga(p,ne):ee==="dangerouslySetInnerHTML"?pa(p,ne):ee==="children"?ti(p,ne):K(p,ee,ne,U)}switch(C){case"input":Ue(p,y);break;case"textarea":Os(p,y);break;case"select":var Z=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ce=y.value;ce!=null?Vr(p,!!y.multiple,ce,!1):Z!==!!y.multiple&&(y.defaultValue!=null?Vr(p,!!y.multiple,y.defaultValue,!0):Vr(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ua]=y}catch(ge){mt(r,r.return,ge)}}break;case 6:if(ar(s,r),Sr(r),h&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(ge){mt(r,r.return,ge)}}break;case 3:if(ar(s,r),Sr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{tr(s.containerInfo)}catch(ge){mt(r,r.return,ge)}break;case 4:ar(s,r),Sr(r);break;case 13:ar(s,r),Sr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Qf=Ze())),h&4&&Ky(r);break;case 22:if(ee=a!==null&&a.memoizedState!==null,r.mode&1?(Zt=(U=Zt)||ee,ar(s,r),Zt=U):ar(s,r),Sr(r),h&8192){if(U=r.memoizedState!==null,(r.stateNode.isHidden=U)&&!ee&&(r.mode&1)!==0)for(fe=r,ee=r.child;ee!==null;){for(ne=fe=ee;fe!==null;){switch(Z=fe,ce=Z.child,Z.tag){case 0:case 11:case 14:case 15:Za(4,Z,Z.return);break;case 1:To(Z,Z.return);var me=Z.stateNode;if(typeof me.componentWillUnmount=="function"){h=Z,a=Z.return;try{s=h,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(ge){mt(h,a,ge)}}break;case 5:To(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Xy(ne);continue}}ce!==null?(ce.return=Z,fe=ce):Xy(ne)}ee=ee.sibling}e:for(ee=null,ne=r;;){if(ne.tag===5){if(ee===null){ee=ne;try{p=ne.stateNode,U?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=ne.stateNode,V=ne.memoizedProps.style,E=V!=null&&V.hasOwnProperty("display")?V.display:null,C.style.display=ma("display",E))}catch(ge){mt(r,r.return,ge)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=U?"":ne.memoizedProps}catch(ge){mt(r,r.return,ge)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:ar(s,r),Sr(r),h&4&&Ky(r);break;case 21:break;default:ar(s,r),Sr(r)}}function Sr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Hy(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ti(p,""),h.flags&=-33);var y=Wy(r);qf(r,y,p);break;case 3:case 4:var E=h.stateNode.containerInfo,C=Wy(r);Wf(r,C,E);break;default:throw Error(t(161))}}catch(V){mt(r,r.return,V)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function GS(r,s,a){fe=r,Qy(r)}function Qy(r,s,a){for(var h=(r.mode&1)!==0;fe!==null;){var p=fe,y=p.child;if(p.tag===22&&h){var E=p.memoizedState!==null||Wu;if(!E){var C=p.alternate,V=C!==null&&C.memoizedState!==null||Zt;C=Wu;var U=Zt;if(Wu=E,(Zt=V)&&!U)for(fe=p;fe!==null;)E=fe,V=E.child,E.tag===22&&E.memoizedState!==null?Jy(p):V!==null?(V.return=E,fe=V):Jy(p);for(;y!==null;)fe=y,Qy(y),y=y.sibling;fe=p,Wu=C,Zt=U}Yy(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,fe=y):Yy(r)}}function Yy(r){for(;fe!==null;){var s=fe;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Zt||qu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Zt)if(a===null)h.componentDidMount();else{var p=s.elementType===s.type?a.memoizedProps:sr(s.type,a.memoizedProps);h.componentDidUpdate(p,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Xg(s,y,h);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Xg(s,E,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&a.focus();break;case"img":V.src&&(a.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var U=s.alternate;if(U!==null){var ee=U.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&tr(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Zt||s.flags&512&&Hf(s)}catch(Z){mt(s,s.return,Z)}}if(s===r){fe=null;break}if(a=s.sibling,a!==null){a.return=s.return,fe=a;break}fe=s.return}}function Xy(r){for(;fe!==null;){var s=fe;if(s===r){fe=null;break}var a=s.sibling;if(a!==null){a.return=s.return,fe=a;break}fe=s.return}}function Jy(r){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{qu(4,s)}catch(V){mt(s,a,V)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(V){mt(s,p,V)}}var y=s.return;try{Hf(s)}catch(V){mt(s,y,V)}break;case 5:var E=s.return;try{Hf(s)}catch(V){mt(s,E,V)}}}catch(V){mt(s,s.return,V)}if(s===r){fe=null;break}var C=s.sibling;if(C!==null){C.return=s.return,fe=C;break}fe=s.return}}var QS=Math.ceil,Ku=X.ReactCurrentDispatcher,Kf=X.ReactCurrentOwner,Bn=X.ReactCurrentBatchConfig,qe=0,Ot=null,St=null,Wt=0,In=0,So=di(0),Vt=0,el=null,ds=0,Gu=0,Gf=0,tl=null,mn=null,Qf=0,xo=1/0,qr=null,Qu=!1,Yf=null,_i=null,Yu=!1,wi=null,Xu=0,nl=0,Xf=null,Ju=-1,Zu=0;function un(){return(qe&6)!==0?Ze():Ju!==-1?Ju:Ju=Ze()}function Ei(r){return(r.mode&1)===0?1:(qe&2)!==0&&Wt!==0?Wt&-Wt:DS.transition!==null?(Zu===0&&(Zu=ts()),Zu):(r=ze,r!==0||(r=window.event,r=r===void 0?16:ka(r.type)),r)}function lr(r,s,a,h){if(50<nl)throw nl=0,Xf=null,Error(t(185));si(r,a,h),((qe&2)===0||r!==Ot)&&(r===Ot&&((qe&2)===0&&(Gu|=a),Vt===4&&Ti(r,Wt)),gn(r,h),a===1&&qe===0&&(s.mode&1)===0&&(xo=Ze()+500,Cu&&mi()))}function gn(r,s){var a=r.callbackNode;Nr(r,s);var h=es(r,r===Ot?Wt:0);if(h===0)a!==null&&Aa(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&Aa(a),s===1)r.tag===0?VS(ev.bind(null,r)):jg(ev.bind(null,r)),CS(function(){(qe&6)===0&&mi()}),a=null;else{switch(ai(h)){case 1:a=Ji;break;case 4:a=ni;break;case 16:a=bn;break;case 536870912:a=Zl;break;default:a=bn}a=lv(a,Zy.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Zy(r,s){if(Ju=-1,Zu=0,(qe&6)!==0)throw Error(t(327));var a=r.callbackNode;if(Ao()&&r.callbackNode!==a)return null;var h=es(r,r===Ot?Wt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=ec(r,h);else{s=h;var p=qe;qe|=2;var y=nv();(Ot!==r||Wt!==s)&&(qr=null,xo=Ze()+500,ms(r,s));do try{JS();break}catch(C){tv(r,C)}while(!0);mf(),Ku.current=y,qe=p,St!==null?s=0:(Ot=null,Wt=0,s=Vt)}if(s!==0){if(s===2&&(p=En(r),p!==0&&(h=p,s=Jf(r,p))),s===1)throw a=el,ms(r,0),Ti(r,h),gn(r,Ze()),a;if(s===6)Ti(r,h);else{if(p=r.current.alternate,(h&30)===0&&!YS(p)&&(s=ec(r,h),s===2&&(y=En(r),y!==0&&(h=y,s=Jf(r,y))),s===1))throw a=el,ms(r,0),Ti(r,h),gn(r,Ze()),a;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:gs(r,mn,qr);break;case 3:if(Ti(r,h),(h&130023424)===h&&(s=Qf+500-Ze(),10<s)){if(es(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){un(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=rf(gs.bind(null,r,mn,qr),s);break}gs(r,mn,qr);break;case 4:if(Ti(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var E=31-on(h);y=1<<E,E=s[E],E>p&&(p=E),h&=~y}if(h=p,h=Ze()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*QS(h/1960))-h,10<h){r.timeoutHandle=rf(gs.bind(null,r,mn,qr),h);break}gs(r,mn,qr);break;case 5:gs(r,mn,qr);break;default:throw Error(t(329))}}}return gn(r,Ze()),r.callbackNode===a?Zy.bind(null,r):null}function Jf(r,s){var a=tl;return r.current.memoizedState.isDehydrated&&(ms(r,s).flags|=256),r=ec(r,s),r!==2&&(s=mn,mn=a,s!==null&&Zf(s)),r}function Zf(r){mn===null?mn=r:mn.push.apply(mn,r)}function YS(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var p=a[h],y=p.getSnapshot;p=p.value;try{if(!rr(y(),p))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ti(r,s){for(s&=~Gf,s&=~Gu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-on(s),h=1<<a;r[a]=-1,s&=~h}}function ev(r){if((qe&6)!==0)throw Error(t(327));Ao();var s=es(r,0);if((s&1)===0)return gn(r,Ze()),null;var a=ec(r,s);if(r.tag!==0&&a===2){var h=En(r);h!==0&&(s=h,a=Jf(r,h))}if(a===1)throw a=el,ms(r,0),Ti(r,s),gn(r,Ze()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,gs(r,mn,qr),gn(r,Ze()),null}function ed(r,s){var a=qe;qe|=1;try{return r(s)}finally{qe=a,qe===0&&(xo=Ze()+500,Cu&&mi())}}function ps(r){wi!==null&&wi.tag===0&&(qe&6)===0&&Ao();var s=qe;qe|=1;var a=Bn.transition,h=ze;try{if(Bn.transition=null,ze=1,r)return r()}finally{ze=h,Bn.transition=a,qe=s,(qe&6)===0&&mi()}}function td(){In=So.current,nt(So)}function ms(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,IS(a)),St!==null)for(a=St.return;a!==null;){var h=a;switch(cf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Au();break;case 3:wo(),nt(fn),nt(Yt),Sf();break;case 5:Ef(h);break;case 4:wo();break;case 13:nt(ut);break;case 19:nt(ut);break;case 10:gf(h.type._context);break;case 22:case 23:td()}a=a.return}if(Ot=r,St=r=Si(r.current,null),Wt=In=s,Vt=0,el=null,Gf=Gu=ds=0,mn=tl=null,cs!==null){for(s=0;s<cs.length;s++)if(a=cs[s],h=a.interleaved,h!==null){a.interleaved=null;var p=h.next,y=a.pending;if(y!==null){var E=y.next;y.next=p,h.next=E}a.pending=h}cs=null}return r}function tv(r,s){do{var a=St;try{if(mf(),Ou.current=zu,Fu){for(var h=ct.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Fu=!1}if(fs=0,Lt=kt=ct=null,Ga=!1,Qa=0,Kf.current=null,a===null||a.return===null){Vt=1,el=s,St=null;break}e:{var y=r,E=a.return,C=a,V=s;if(s=Wt,C.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var U=V,ee=C,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ce=Iy(E);if(ce!==null){ce.flags&=-257,Cy(ce,E,C,y,s),ce.mode&1&&Ay(y,U,s),s=ce,V=U;var me=s.updateQueue;if(me===null){var ge=new Set;ge.add(V),s.updateQueue=ge}else me.add(V);break e}else{if((s&1)===0){Ay(y,U,s),nd();break e}V=Error(t(426))}}else if(lt&&C.mode&1){var vt=Iy(E);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),Cy(vt,E,C,y,s),df(Eo(V,C));break e}}y=V=Eo(V,C),Vt!==4&&(Vt=2),tl===null?tl=[y]:tl.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var B=Sy(y,V,s);Yg(y,B);break e;case 1:C=V;var N=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(_i===null||!_i.has(z)))){y.flags|=65536,s&=-s,y.lanes|=s;var oe=xy(y,C,s);Yg(y,oe);break e}}y=y.return}while(y!==null)}iv(a)}catch(ve){s=ve,St===a&&a!==null&&(St=a=a.return);continue}break}while(!0)}function nv(){var r=Ku.current;return Ku.current=zu,r===null?zu:r}function nd(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Ot===null||(ds&268435455)===0&&(Gu&268435455)===0||Ti(Ot,Wt)}function ec(r,s){var a=qe;qe|=2;var h=nv();(Ot!==r||Wt!==s)&&(qr=null,ms(r,s));do try{XS();break}catch(p){tv(r,p)}while(!0);if(mf(),qe=a,Ku.current=h,St!==null)throw Error(t(261));return Ot=null,Wt=0,Vt}function XS(){for(;St!==null;)rv(St)}function JS(){for(;St!==null&&!Xl();)rv(St)}function rv(r){var s=av(r.alternate,r,In);r.memoizedProps=r.pendingProps,s===null?iv(r):St=s,Kf.current=null}function iv(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=HS(a,s,In),a!==null){St=a;return}}else{if(a=WS(a,s),a!==null){a.flags&=32767,St=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Vt=6,St=null;return}}if(s=s.sibling,s!==null){St=s;return}St=s=r}while(s!==null);Vt===0&&(Vt=5)}function gs(r,s,a){var h=ze,p=Bn.transition;try{Bn.transition=null,ze=1,ZS(r,s,a,h)}finally{Bn.transition=p,ze=h}return null}function ZS(r,s,a,h){do Ao();while(wi!==null);if((qe&6)!==0)throw Error(t(327));a=r.finishedWork;var p=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(Je(r,y),r===Ot&&(St=Ot=null,Wt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Yu||(Yu=!0,lv(bn,function(){return Ao(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Bn.transition,Bn.transition=null;var E=ze;ze=1;var C=qe;qe|=4,Kf.current=null,KS(r,a),Gy(a,r),_S(tf),ui=!!ef,tf=ef=null,r.current=a,GS(a),Fh(),qe=C,ze=E,Bn.transition=y}else r.current=a;if(Yu&&(Yu=!1,wi=r,Xu=p),y=r.pendingLanes,y===0&&(_i=null),eu(a.stateNode),gn(r,Ze()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)p=s[a],h(p.value,{componentStack:p.stack,digest:p.digest});if(Qu)throw Qu=!1,r=Yf,Yf=null,r;return(Xu&1)!==0&&r.tag!==0&&Ao(),y=r.pendingLanes,(y&1)!==0?r===Xf?nl++:(nl=0,Xf=r):nl=0,mi(),null}function Ao(){if(wi!==null){var r=ai(Xu),s=Bn.transition,a=ze;try{if(Bn.transition=null,ze=16>r?16:r,wi===null)var h=!1;else{if(r=wi,wi=null,Xu=0,(qe&6)!==0)throw Error(t(331));var p=qe;for(qe|=4,fe=r.current;fe!==null;){var y=fe,E=y.child;if((fe.flags&16)!==0){var C=y.deletions;if(C!==null){for(var V=0;V<C.length;V++){var U=C[V];for(fe=U;fe!==null;){var ee=fe;switch(ee.tag){case 0:case 11:case 15:Za(8,ee,y)}var ne=ee.child;if(ne!==null)ne.return=ee,fe=ne;else for(;fe!==null;){ee=fe;var Z=ee.sibling,ce=ee.return;if($y(ee),ee===U){fe=null;break}if(Z!==null){Z.return=ce,fe=Z;break}fe=ce}}}var me=y.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var vt=ge.sibling;ge.sibling=null,ge=vt}while(ge!==null)}}fe=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,fe=E;else e:for(;fe!==null;){if(y=fe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Za(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,fe=B;break e}fe=y.return}}var N=r.current;for(fe=N;fe!==null;){E=fe;var z=E.child;if((E.subtreeFlags&2064)!==0&&z!==null)z.return=E,fe=z;else e:for(E=N;fe!==null;){if(C=fe,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:qu(9,C)}}catch(ve){mt(C,C.return,ve)}if(C===E){fe=null;break e}var oe=C.sibling;if(oe!==null){oe.return=C.return,fe=oe;break e}fe=C.return}}if(qe=p,mi(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Zi,r)}catch{}h=!0}return h}finally{ze=a,Bn.transition=s}}return!1}function sv(r,s,a){s=Eo(a,s),s=Sy(r,s,1),r=yi(r,s,1),s=un(),r!==null&&(si(r,1,s),gn(r,s))}function mt(r,s,a){if(r.tag===3)sv(r,r,a);else for(;s!==null;){if(s.tag===3){sv(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(_i===null||!_i.has(h))){r=Eo(a,r),r=xy(s,r,1),s=yi(s,r,1),r=un(),s!==null&&(si(s,1,r),gn(s,r));break}}s=s.return}}function ex(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=un(),r.pingedLanes|=r.suspendedLanes&a,Ot===r&&(Wt&a)===a&&(Vt===4||Vt===3&&(Wt&130023424)===Wt&&500>Ze()-Qf?ms(r,0):Gf|=a),gn(r,s)}function ov(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ks,Ks<<=1,(Ks&130023424)===0&&(Ks=4194304)));var a=un();r=$r(r,s),r!==null&&(si(r,s,a),gn(r,a))}function tx(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),ov(r,a)}function nx(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),ov(r,a)}var av;av=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||fn.current)pn=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return pn=!1,$S(r,s,a);pn=(r.flags&131072)!==0}else pn=!1,lt&&(s.flags&1048576)!==0&&Bg(s,Ru,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Hu(r,s),r=s.pendingProps;var p=fo(s,Yt.current);_o(s,a),p=If(null,s,h,r,p,a);var y=Cf();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,dn(h)?(y=!0,Iu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,_f(s),p.updater=Uu,s.stateNode=p,p._reactInternals=s,bf(s,h,r,a),s=Of(null,s,h,!0,y,a)):(s.tag=0,lt&&y&&uf(s),ln(null,s,p,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Hu(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=ix(h),r=sr(h,r),p){case 0:s=Lf(null,s,h,r,a);break e;case 1:s=by(null,s,h,r,a);break e;case 11:s=Py(null,s,h,r,a);break e;case 14:s=Ry(null,s,h,sr(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:sr(h,p),Lf(r,s,h,p,a);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:sr(h,p),by(r,s,h,p,a);case 3:e:{if(Ny(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,p=y.element,Qg(r,s),Mu(s,h,null,a);var E=s.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Eo(Error(t(423)),s),s=My(r,s,h,a,p);break e}else if(h!==p){p=Eo(Error(t(424)),s),s=My(r,s,h,a,p);break e}else for(An=fi(s.stateNode.containerInfo.firstChild),xn=s,lt=!0,ir=null,a=Kg(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(go(),h===p){s=Wr(r,s,a);break e}ln(r,s,h,a)}s=s.child}return s;case 5:return Jg(s),r===null&&ff(s),h=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,E=p.children,nf(h,p)?E=null:y!==null&&nf(h,y)&&(s.flags|=32),Dy(r,s),ln(r,s,E,a),s.child;case 6:return r===null&&ff(s),null;case 13:return Ly(r,s,a);case 4:return wf(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=yo(s,null,h,a):ln(r,s,h,a),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:sr(h,p),Py(r,s,h,p,a);case 7:return ln(r,s,s.pendingProps,a),s.child;case 8:return ln(r,s,s.pendingProps.children,a),s.child;case 12:return ln(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,E=p.value,et(Du,h._currentValue),h._currentValue=E,y!==null)if(rr(y.value,E)){if(y.children===p.children&&!fn.current){s=Wr(r,s,a);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var C=y.dependencies;if(C!==null){E=y.child;for(var V=C.firstContext;V!==null;){if(V.context===h){if(y.tag===1){V=Hr(-1,a&-a),V.tag=2;var U=y.updateQueue;if(U!==null){U=U.shared;var ee=U.pending;ee===null?V.next=V:(V.next=ee.next,ee.next=V),U.pending=V}}y.lanes|=a,V=y.alternate,V!==null&&(V.lanes|=a),yf(y.return,a,s),C.lanes|=a;break}V=V.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=a,C=E.alternate,C!==null&&(C.lanes|=a),yf(E,a,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}ln(r,s,p.children,a),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,_o(s,a),p=Fn(p),h=h(p),s.flags|=1,ln(r,s,h,a),s.child;case 14:return h=s.type,p=sr(h,s.pendingProps),p=sr(h.type,p),Ry(r,s,h,p,a);case 15:return ky(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:sr(h,p),Hu(r,s),s.tag=1,dn(h)?(r=!0,Iu(s)):r=!1,_o(s,a),Ey(s,h,p),bf(s,h,p,a),Of(null,s,h,!0,r,a);case 19:return Fy(r,s,a);case 22:return Vy(r,s,a)}throw Error(t(156,s.tag))};function lv(r,s){return Ws(r,s)}function rx(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(r,s,a,h){return new rx(r,s,a,h)}function rd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ix(r){if(typeof r=="function")return rd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===dt)return 14}return 2}function Si(r,s){var a=r.alternate;return a===null?(a=zn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function tc(r,s,a,h,p,y){var E=2;if(h=r,typeof r=="function")rd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case I:return ys(a.children,p,y,s);case x:E=8,p|=8;break;case P:return r=zn(12,a,s,p|2),r.elementType=P,r.lanes=y,r;case R:return r=zn(13,a,s,p),r.elementType=R,r.lanes=y,r;case Xe:return r=zn(19,a,s,p),r.elementType=Xe,r.lanes=y,r;case Se:return nc(a,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:E=10;break e;case b:E=9;break e;case F:E=11;break e;case dt:E=14;break e;case pt:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=zn(E,a,s,p),s.elementType=r,s.type=h,s.lanes=y,s}function ys(r,s,a,h){return r=zn(7,r,h,s),r.lanes=a,r}function nc(r,s,a,h){return r=zn(22,r,h,s),r.elementType=Se,r.lanes=a,r.stateNode={isHidden:!1},r}function id(r,s,a){return r=zn(6,r,null,s),r.lanes=a,r}function sd(r,s,a){return s=zn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function sx(r,s,a,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ii(0),this.expirationTimes=ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function od(r,s,a,h,p,y,E,C,V){return r=new sx(r,s,a,C,V),s===1?(s=1,y===!0&&(s|=8)):s=0,y=zn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},_f(y),r}function ox(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function uv(r){if(!r)return pi;r=r._reactInternals;e:{if(Yn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(dn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(dn(a))return Og(r,a,s)}return s}function cv(r,s,a,h,p,y,E,C,V){return r=od(a,h,!0,r,p,y,E,C,V),r.context=uv(null),a=r.current,h=un(),p=Ei(a),y=Hr(h,p),y.callback=s??null,yi(a,y,p),r.current.lanes=p,si(r,p,h),gn(r,h),r}function rc(r,s,a,h){var p=s.current,y=un(),E=Ei(p);return a=uv(a),s.context===null?s.context=a:s.pendingContext=a,s=Hr(y,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=yi(p,s,E),r!==null&&(lr(r,p,E,y),Nu(r,p,E)),E}function ic(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function hv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function ad(r,s){hv(r,s),(r=r.alternate)&&hv(r,s)}function ax(){return null}var fv=typeof reportError=="function"?reportError:function(r){console.error(r)};function ld(r){this._internalRoot=r}sc.prototype.render=ld.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));rc(r,s,null,null)},sc.prototype.unmount=ld.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ps(function(){rc(null,r,null,null)}),s[jr]=null}};function sc(r){this._internalRoot=r}sc.prototype.unstable_scheduleHydration=function(r){if(r){var s=su();r={blockedOn:null,target:r,priority:s};for(var a=0;a<gr.length&&s!==0&&s<gr[a].priority;a++);gr.splice(a,0,r),a===0&&lu(r)}};function ud(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function oc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function dv(){}function lx(r,s,a,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var U=ic(E);y.call(U)}}var E=cv(s,h,r,0,null,!1,!1,"",dv);return r._reactRootContainer=E,r[jr]=E.current,Ba(r.nodeType===8?r.parentNode:r),ps(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var C=h;h=function(){var U=ic(V);C.call(U)}}var V=od(r,0,!1,null,null,!1,!1,"",dv);return r._reactRootContainer=V,r[jr]=V.current,Ba(r.nodeType===8?r.parentNode:r),ps(function(){rc(s,V,a,h)}),V}function ac(r,s,a,h,p){var y=a._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var C=p;p=function(){var V=ic(E);C.call(V)}}rc(s,E,r,p)}else E=lx(a,s,r,p,h);return ic(E)}ru=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=ri(s.pendingLanes);a!==0&&(oi(s,a|1),gn(s,Ze()),(qe&6)===0&&(xo=Ze()+500,mi()))}break;case 13:ps(function(){var h=$r(r,1);if(h!==null){var p=un();lr(h,r,1,p)}}),ad(r,1)}},Gs=function(r){if(r.tag===13){var s=$r(r,134217728);if(s!==null){var a=un();lr(s,r,134217728,a)}ad(r,134217728)}},iu=function(r){if(r.tag===13){var s=Ei(r),a=$r(r,s);if(a!==null){var h=un();lr(a,r,s,h)}ad(r,s)}},su=function(){return ze},ou=function(r,s){var a=ze;try{return ze=r,s()}finally{ze=a}},js=function(r,s,a){switch(s){case"input":if(Ue(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var p=xu(h);if(!p)throw Error(t(90));zt(h),Ue(h,p)}}}break;case"textarea":Os(r,a);break;case"select":s=a.value,s!=null&&Vr(r,!!a.multiple,s,!1)}},Gi=ed,Ea=ps;var ux={usingClientEntryPoint:!1,Events:[$a,co,xu,pr,wa,ed]},rl={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cx={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=xa(r),r===null?null:r.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||ax,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Zi=lc.inject(cx),wn=lc}catch{}}return yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ux,yn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ud(s))throw Error(t(200));return ox(r,s,null,a)},yn.createRoot=function(r,s){if(!ud(r))throw Error(t(299));var a=!1,h="",p=fv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=od(r,1,!1,null,null,a,!1,h,p),r[jr]=s.current,Ba(r.nodeType===8?r.parentNode:r),new ld(s)},yn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=xa(s),r=r===null?null:r.stateNode,r},yn.flushSync=function(r){return ps(r)},yn.hydrate=function(r,s,a){if(!oc(s))throw Error(t(200));return ac(null,r,s,!0,a)},yn.hydrateRoot=function(r,s,a){if(!ud(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,p=!1,y="",E=fv;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=cv(s,null,r,1,a??null,p,!1,y,E),r[jr]=s.current,Ba(r),h)for(r=0;r<h.length;r++)a=h[r],p=a._getVersion,p=p(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,p]:s.mutableSourceEagerHydrationData.push(a,p);return new sc(s)},yn.render=function(r,s,a){if(!oc(s))throw Error(t(200));return ac(null,r,s,!1,a)},yn.unmountComponentAtNode=function(r){if(!oc(r))throw Error(t(40));return r._reactRootContainer?(ps(function(){ac(null,null,r,!1,function(){r._reactRootContainer=null,r[jr]=null})}),!0):!1},yn.unstable_batchedUpdates=ed,yn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!oc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return ac(r,s,a,!1,h)},yn.version="18.3.1-next-f1338f8080-20240426",yn}var Ev;function vx(){if(Ev)return fd.exports;Ev=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fd.exports=yx(),fd.exports}var Tv;function _x(){if(Tv)return uc;Tv=1;var n=vx();return uc.createRoot=n.createRoot,uc.hydrateRoot=n.hydrateRoot,uc}var wx=_x();const Ex=y1(wx);var v1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sv=Pn.createContext&&Pn.createContext(v1),Ri=function(){return Ri=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Ri.apply(this,arguments)},Tx=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};function _1(n){return n&&n.map(function(e,t){return Pn.createElement(e.tag,Ri({key:t},e.attr),_1(e.child))})}function hh(n){return function(e){return Pn.createElement(Sx,Ri({attr:Ri({},n.attr)},e),_1(n.child))}}function Sx(n){var e=function(t){var i=n.attr,o=n.size,l=n.title,c=Tx(n,["attr","size","title"]),f=o||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Pn.createElement("svg",Ri({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:d,style:Ri(Ri({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Pn.createElement("title",null,l),n.children)};return Sv!==void 0?Pn.createElement(Sv.Consumer,null,function(t){return e(t)}):e(v1)}function xx(n){return hh({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(n)}function Ax(n){return hh({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(n)}function Ix(n){return hh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(n)}function Cx(n){return hh({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"}}]})(n)}var _n=function(){return _n=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},_n.apply(this,arguments)};function Sl(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,l;i<o;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}var rt="-ms-",dl="-moz-",Ge="-webkit-",w1="comm",fh="rule",Lp="decl",Px="@import",E1="@keyframes",Rx="@layer",T1=Math.abs,Op=String.fromCharCode,Hd=Object.assign;function kx(n,e){return Bt(n,0)^45?(((e<<2^Bt(n,0))<<2^Bt(n,1))<<2^Bt(n,2))<<2^Bt(n,3):0}function S1(n){return n.trim()}function Kr(n,e){return(n=e.exec(n))?n[0]:n}function Ne(n,e,t){return n.replace(e,t)}function xc(n,e,t){return n.indexOf(e,t)}function Bt(n,e){return n.charCodeAt(e)|0}function zo(n,e,t){return n.slice(e,t)}function Ar(n){return n.length}function x1(n){return n.length}function ol(n,e){return e.push(n),n}function Vx(n,e){return n.map(e).join("")}function xv(n,e){return n.filter(function(t){return!Kr(t,e)})}var dh=1,Uo=1,A1=0,qn=0,At=0,ra="";function ph(n,e,t,i,o,l,c,f){return{value:n,root:e,parent:t,type:i,props:o,children:l,line:dh,column:Uo,length:c,return:"",siblings:f}}function Ii(n,e){return Hd(ph("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function Io(n){for(;n.root;)n=Ii(n.root,{children:[n]});ol(n,n.siblings)}function Dx(){return At}function bx(){return At=qn>0?Bt(ra,--qn):0,Uo--,At===10&&(Uo=1,dh--),At}function hr(){return At=qn<A1?Bt(ra,qn++):0,Uo++,At===10&&(Uo=1,dh++),At}function Is(){return Bt(ra,qn)}function Ac(){return qn}function mh(n,e){return zo(ra,n,e)}function Wd(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Nx(n){return dh=Uo=1,A1=Ar(ra=n),qn=0,[]}function Mx(n){return ra="",n}function md(n){return S1(mh(qn-1,qd(n===91?n+2:n===40?n+1:n)))}function Lx(n){for(;(At=Is())&&At<33;)hr();return Wd(n)>2||Wd(At)>3?"":" "}function Ox(n,e){for(;--e&&hr()&&!(At<48||At>102||At>57&&At<65||At>70&&At<97););return mh(n,Ac()+(e<6&&Is()==32&&hr()==32))}function qd(n){for(;hr();)switch(At){case n:return qn;case 34:case 39:n!==34&&n!==39&&qd(At);break;case 40:n===41&&qd(n);break;case 92:hr();break}return qn}function Fx(n,e){for(;hr()&&n+At!==57;)if(n+At===84&&Is()===47)break;return"/*"+mh(e,qn-1)+"*"+Op(n===47?n:hr())}function jx(n){for(;!Wd(Is());)hr();return mh(n,qn)}function Bx(n){return Mx(Ic("",null,null,null,[""],n=Nx(n),0,[0],n))}function Ic(n,e,t,i,o,l,c,f,d){for(var m=0,v=0,w=c,T=0,A=0,D=0,L=1,M=1,H=1,q=0,K="",X=o,J=l,te=i,I=K;M;)switch(D=q,q=hr()){case 40:if(D!=108&&Bt(I,w-1)==58){xc(I+=Ne(md(q),"&","&\f"),"&\f",T1(m?f[m-1]:0))!=-1&&(H=-1);break}case 34:case 39:case 91:I+=md(q);break;case 9:case 10:case 13:case 32:I+=Lx(D);break;case 92:I+=Ox(Ac()-1,7);continue;case 47:switch(Is()){case 42:case 47:ol(zx(Fx(hr(),Ac()),e,t,d),d);break;default:I+="/"}break;case 123*L:f[m++]=Ar(I)*H;case 125*L:case 59:case 0:switch(q){case 0:case 125:M=0;case 59+v:H==-1&&(I=Ne(I,/\f/g,"")),A>0&&Ar(I)-w&&ol(A>32?Iv(I+";",i,t,w-1,d):Iv(Ne(I," ","")+";",i,t,w-2,d),d);break;case 59:I+=";";default:if(ol(te=Av(I,e,t,m,v,o,f,K,X=[],J=[],w,l),l),q===123)if(v===0)Ic(I,e,te,te,X,l,w,f,J);else switch(T===99&&Bt(I,3)===110?100:T){case 100:case 108:case 109:case 115:Ic(n,te,te,i&&ol(Av(n,te,te,0,0,o,f,K,o,X=[],w,J),J),o,J,w,f,i?X:J);break;default:Ic(I,te,te,te,[""],J,0,f,J)}}m=v=A=0,L=H=1,K=I="",w=c;break;case 58:w=1+Ar(I),A=D;default:if(L<1){if(q==123)--L;else if(q==125&&L++==0&&bx()==125)continue}switch(I+=Op(q),q*L){case 38:H=v>0?1:(I+="\f",-1);break;case 44:f[m++]=(Ar(I)-1)*H,H=1;break;case 64:Is()===45&&(I+=md(hr())),T=Is(),v=w=Ar(K=I+=jx(Ac())),q++;break;case 45:D===45&&Ar(I)==2&&(L=0)}}return l}function Av(n,e,t,i,o,l,c,f,d,m,v,w){for(var T=o-1,A=o===0?l:[""],D=x1(A),L=0,M=0,H=0;L<i;++L)for(var q=0,K=zo(n,T+1,T=T1(M=c[L])),X=n;q<D;++q)(X=S1(M>0?A[q]+" "+K:Ne(K,/&\f/g,A[q])))&&(d[H++]=X);return ph(n,e,t,o===0?fh:f,d,m,v,w)}function zx(n,e,t,i){return ph(n,e,t,w1,Op(Dx()),zo(n,2,-2),0,i)}function Iv(n,e,t,i,o){return ph(n,e,t,Lp,zo(n,0,i),zo(n,i+1,-1),i,o)}function I1(n,e,t){switch(kx(n,e)){case 5103:return Ge+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ge+n+n;case 4789:return dl+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ge+n+dl+n+rt+n+n;case 5936:switch(Bt(n,e+11)){case 114:return Ge+n+rt+Ne(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ge+n+rt+Ne(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ge+n+rt+Ne(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Ge+n+rt+n+n;case 6165:return Ge+n+rt+"flex-"+n+n;case 5187:return Ge+n+Ne(n,/(\w+).+(:[^]+)/,Ge+"box-$1$2"+rt+"flex-$1$2")+n;case 5443:return Ge+n+rt+"flex-item-"+Ne(n,/flex-|-self/g,"")+(Kr(n,/flex-|baseline/)?"":rt+"grid-row-"+Ne(n,/flex-|-self/g,""))+n;case 4675:return Ge+n+rt+"flex-line-pack"+Ne(n,/align-content|flex-|-self/g,"")+n;case 5548:return Ge+n+rt+Ne(n,"shrink","negative")+n;case 5292:return Ge+n+rt+Ne(n,"basis","preferred-size")+n;case 6060:return Ge+"box-"+Ne(n,"-grow","")+Ge+n+rt+Ne(n,"grow","positive")+n;case 4554:return Ge+Ne(n,/([^-])(transform)/g,"$1"+Ge+"$2")+n;case 6187:return Ne(Ne(Ne(n,/(zoom-|grab)/,Ge+"$1"),/(image-set)/,Ge+"$1"),n,"")+n;case 5495:case 3959:return Ne(n,/(image-set\([^]*)/,Ge+"$1$`$1");case 4968:return Ne(Ne(n,/(.+:)(flex-)?(.*)/,Ge+"box-pack:$3"+rt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ge+n+n;case 4200:if(!Kr(n,/flex-|baseline/))return rt+"grid-column-align"+zo(n,e)+n;break;case 2592:case 3360:return rt+Ne(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(i,o){return e=o,Kr(i.props,/grid-\w+-end/)})?~xc(n+(t=t[e].value),"span",0)?n:rt+Ne(n,"-start","")+n+rt+"grid-row-span:"+(~xc(t,"span",0)?Kr(t,/\d+/):+Kr(t,/\d+/)-+Kr(n,/\d+/))+";":rt+Ne(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(i){return Kr(i.props,/grid-\w+-start/)})?n:rt+Ne(Ne(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return Ne(n,/(.+)-inline(.+)/,Ge+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ar(n)-1-e>6)switch(Bt(n,e+1)){case 109:if(Bt(n,e+4)!==45)break;case 102:return Ne(n,/(.+:)(.+)-([^]+)/,"$1"+Ge+"$2-$3$1"+dl+(Bt(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~xc(n,"stretch",0)?I1(Ne(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return Ne(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,o,l,c,f,d,m){return rt+o+":"+l+m+(c?rt+o+"-span:"+(f?d:+d-+l)+m:"")+n});case 4949:if(Bt(n,e+6)===121)return Ne(n,":",":"+Ge)+n;break;case 6444:switch(Bt(n,Bt(n,14)===45?18:11)){case 120:return Ne(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ge+(Bt(n,14)===45?"inline-":"")+"box$3$1"+Ge+"$2$3$1"+rt+"$2box$3")+n;case 100:return Ne(n,":",":"+rt)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ne(n,"scroll-","scroll-snap-")+n}return n}function jc(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function Ux(n,e,t,i){switch(n.type){case Rx:if(n.children.length)break;case Px:case Lp:return n.return=n.return||n.value;case w1:return"";case E1:return n.return=n.value+"{"+jc(n.children,i)+"}";case fh:if(!Ar(n.value=n.props.join(",")))return""}return Ar(t=jc(n.children,i))?n.return=n.value+"{"+t+"}":""}function $x(n){var e=x1(n);return function(t,i,o,l){for(var c="",f=0;f<e;f++)c+=n[f](t,i,o,l)||"";return c}}function Hx(n){return function(e){e.root||(e=e.return)&&n(e)}}function Wx(n,e,t,i){if(n.length>-1&&!n.return)switch(n.type){case Lp:n.return=I1(n.value,n.length,t);return;case E1:return jc([Ii(n,{value:Ne(n.value,"@","@"+Ge)})],i);case fh:if(n.length)return Vx(t=n.props,function(o){switch(Kr(o,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Io(Ii(n,{props:[Ne(o,/:(read-\w+)/,":"+dl+"$1")]})),Io(Ii(n,{props:[o]})),Hd(n,{props:xv(t,i)});break;case"::placeholder":Io(Ii(n,{props:[Ne(o,/:(plac\w+)/,":"+Ge+"input-$1")]})),Io(Ii(n,{props:[Ne(o,/:(plac\w+)/,":"+dl+"$1")]})),Io(Ii(n,{props:[Ne(o,/:(plac\w+)/,rt+"input-$1")]})),Io(Ii(n,{props:[o]})),Hd(n,{props:xv(t,i)});break}return""})}}var qx={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Cn={},$o=typeof process<"u"&&Cn!==void 0&&(Cn.REACT_APP_SC_ATTR||Cn.SC_ATTR)||"data-styled",C1="active",P1="data-styled-version",gh="6.1.19",Fp=`/*!sc*/
`,Bc=typeof window<"u"&&typeof document<"u",Kx=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Cn!==void 0&&Cn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Cn.REACT_APP_SC_DISABLE_SPEEDY!==""?Cn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Cn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Cn!==void 0&&Cn.SC_DISABLE_SPEEDY!==void 0&&Cn.SC_DISABLE_SPEEDY!==""&&Cn.SC_DISABLE_SPEEDY!=="false"&&Cn.SC_DISABLE_SPEEDY),yh=Object.freeze([]),Ho=Object.freeze({});function Gx(n,e,t){return t===void 0&&(t=Ho),n.theme!==t.theme&&n.theme||e||t.theme}var R1=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Qx=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Yx=/(^-|-$)/g;function Cv(n){return n.replace(Qx,"-").replace(Yx,"")}var Xx=/(a)(d)/gi,cc=52,Pv=function(n){return String.fromCharCode(n+(n>25?39:97))};function Kd(n){var e,t="";for(e=Math.abs(n);e>cc;e=e/cc|0)t=Pv(e%cc)+t;return(Pv(e%cc)+t).replace(Xx,"$1-$2")}var gd,k1=5381,Do=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},V1=function(n){return Do(k1,n)};function D1(n){return Kd(V1(n)>>>0)}function Jx(n){return n.displayName||n.name||"Component"}function yd(n){return typeof n=="string"&&!0}var b1=typeof Symbol=="function"&&Symbol.for,N1=b1?Symbol.for("react.memo"):60115,Zx=b1?Symbol.for("react.forward_ref"):60112,eA={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},tA={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},M1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nA=((gd={})[Zx]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gd[N1]=M1,gd);function Rv(n){return("type"in(e=n)&&e.type.$$typeof)===N1?M1:"$$typeof"in n?nA[n.$$typeof]:eA;var e}var rA=Object.defineProperty,iA=Object.getOwnPropertyNames,kv=Object.getOwnPropertySymbols,sA=Object.getOwnPropertyDescriptor,oA=Object.getPrototypeOf,Vv=Object.prototype;function L1(n,e,t){if(typeof e!="string"){if(Vv){var i=oA(e);i&&i!==Vv&&L1(n,i,t)}var o=iA(e);kv&&(o=o.concat(kv(e)));for(var l=Rv(n),c=Rv(e),f=0;f<o.length;++f){var d=o[f];if(!(d in tA||t&&t[d]||c&&d in c||l&&d in l)){var m=sA(e,d);try{rA(n,d,m)}catch{}}}}return n}function Wo(n){return typeof n=="function"}function jp(n){return typeof n=="object"&&"styledComponentId"in n}function Ts(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function Gd(n,e){if(n.length===0)return"";for(var t=n[0],i=1;i<n.length;i++)t+=n[i];return t}function xl(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function Qd(n,e,t){if(t===void 0&&(t=!1),!t&&!xl(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)n[i]=Qd(n[i],e[i]);else if(xl(e))for(var i in e)n[i]=Qd(n[i],e[i]);return n}function Bp(n,e){Object.defineProperty(n,"toString",{value:e})}function Bl(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var aA=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,l=o;e>=l;)if((l<<=1)<0)throw Bl(16,"".concat(e));this.groupSizes=new Uint32Array(l),this.groupSizes.set(i),this.length=l;for(var c=o;c<l;c++)this.groupSizes[c]=0}for(var f=this.indexOfGroup(e+1),d=(c=0,t.length);c<d;c++)this.tag.insertRule(f,t[c])&&(this.groupSizes[e]++,f++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),o=i+t;this.groupSizes[e]=0;for(var l=i;l<o;l++)this.tag.deleteRule(i)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var i=this.groupSizes[e],o=this.indexOfGroup(e),l=o+i,c=o;c<l;c++)t+="".concat(this.tag.getRule(c)).concat(Fp);return t},n}(),Cc=new Map,zc=new Map,Pc=1,hc=function(n){if(Cc.has(n))return Cc.get(n);for(;zc.has(Pc);)Pc++;var e=Pc++;return Cc.set(n,e),zc.set(e,n),e},lA=function(n,e){Pc=e+1,Cc.set(n,e),zc.set(e,n)},uA="style[".concat($o,"][").concat(P1,'="').concat(gh,'"]'),cA=new RegExp("^".concat($o,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),hA=function(n,e,t){for(var i,o=t.split(","),l=0,c=o.length;l<c;l++)(i=o[l])&&n.registerName(e,i)},fA=function(n,e){for(var t,i=((t=e.textContent)!==null&&t!==void 0?t:"").split(Fp),o=[],l=0,c=i.length;l<c;l++){var f=i[l].trim();if(f){var d=f.match(cA);if(d){var m=0|parseInt(d[1],10),v=d[2];m!==0&&(lA(v,m),hA(n,v,d[3]),n.getTag().insertRules(m,o)),o.length=0}else o.push(f)}}},Dv=function(n){for(var e=document.querySelectorAll(uA),t=0,i=e.length;t<i;t++){var o=e[t];o&&o.getAttribute($o)!==C1&&(fA(n,o),o.parentNode&&o.parentNode.removeChild(o))}};function dA(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var O1=function(n){var e=document.head,t=n||e,i=document.createElement("style"),o=function(f){var d=Array.from(f.querySelectorAll("style[".concat($o,"]")));return d[d.length-1]}(t),l=o!==void 0?o.nextSibling:null;i.setAttribute($o,C1),i.setAttribute(P1,gh);var c=dA();return c&&i.setAttribute("nonce",c),t.insertBefore(i,l),i},pA=function(){function n(e){this.element=O1(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var i=document.styleSheets,o=0,l=i.length;o<l;o++){var c=i[o];if(c.ownerNode===t)return c}throw Bl(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),mA=function(){function n(e){this.element=O1(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),gA=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),bv=Bc,yA={isServer:!Bc,useCSSOMInjection:!Kx},F1=function(){function n(e,t,i){e===void 0&&(e=Ho),t===void 0&&(t={});var o=this;this.options=_n(_n({},yA),e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&Bc&&bv&&(bv=!1,Dv(this)),Bp(this,function(){return function(l){for(var c=l.getTag(),f=c.length,d="",m=function(w){var T=function(H){return zc.get(H)}(w);if(T===void 0)return"continue";var A=l.names.get(T),D=c.getGroup(w);if(A===void 0||!A.size||D.length===0)return"continue";var L="".concat($o,".g").concat(w,'[id="').concat(T,'"]'),M="";A!==void 0&&A.forEach(function(H){H.length>0&&(M+="".concat(H,","))}),d+="".concat(D).concat(L,'{content:"').concat(M,'"}').concat(Fp)},v=0;v<f;v++)m(v);return d}(o)})}return n.registerId=function(e){return hc(e)},n.prototype.rehydrate=function(){!this.server&&Bc&&Dv(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(_n(_n({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var i=t.useCSSOMInjection,o=t.target;return t.isServer?new gA(o):i?new pA(o):new mA(o)}(this.options),new aA(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(hc(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},n.prototype.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(hc(e),i)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(hc(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),vA=/&/g,_A=/^\s*\/\/.*$/gm;function j1(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=j1(t.children,e)),t})}function wA(n){var e,t,i,o=Ho,l=o.options,c=l===void 0?Ho:l,f=o.plugins,d=f===void 0?yh:f,m=function(T,A,D){return D.startsWith(t)&&D.endsWith(t)&&D.replaceAll(t,"").length>0?".".concat(e):T},v=d.slice();v.push(function(T){T.type===fh&&T.value.includes("&")&&(T.props[0]=T.props[0].replace(vA,t).replace(i,m))}),c.prefix&&v.push(Wx),v.push(Ux);var w=function(T,A,D,L){A===void 0&&(A=""),D===void 0&&(D=""),L===void 0&&(L="&"),e=L,t=A,i=new RegExp("\\".concat(t,"\\b"),"g");var M=T.replace(_A,""),H=Bx(D||A?"".concat(D," ").concat(A," { ").concat(M," }"):M);c.namespace&&(H=j1(H,c.namespace));var q=[];return jc(H,$x(v.concat(Hx(function(K){return q.push(K)})))),q};return w.hash=d.length?d.reduce(function(T,A){return A.name||Bl(15),Do(T,A.name)},k1).toString():"",w}var EA=new F1,Yd=wA(),B1=Pn.createContext({shouldForwardProp:void 0,styleSheet:EA,stylis:Yd});B1.Consumer;Pn.createContext(void 0);function Nv(){return se.useContext(B1)}var z1=function(){function n(e,t){var i=this;this.inject=function(o,l){l===void 0&&(l=Yd);var c=i.name+l.hash;o.hasNameForId(i.id,c)||o.insertRules(i.id,c,l(i.rules,c,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Bp(this,function(){throw Bl(12,String(i.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=Yd),this.name+e.hash},n}(),TA=function(n){return n>="A"&&n<="Z"};function Mv(n){for(var e="",t=0;t<n.length;t++){var i=n[t];if(t===1&&i==="-"&&n[0]==="-")return n;TA(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var U1=function(n){return n==null||n===!1||n===""},$1=function(n){var e,t,i=[];for(var o in n){var l=n[o];n.hasOwnProperty(o)&&!U1(l)&&(Array.isArray(l)&&l.isCss||Wo(l)?i.push("".concat(Mv(o),":"),l,";"):xl(l)?i.push.apply(i,Sl(Sl(["".concat(o," {")],$1(l),!1),["}"],!1)):i.push("".concat(Mv(o),": ").concat((e=o,(t=l)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in qx||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return i};function Cs(n,e,t,i){if(U1(n))return[];if(jp(n))return[".".concat(n.styledComponentId)];if(Wo(n)){if(!Wo(l=n)||l.prototype&&l.prototype.isReactComponent||!e)return[n];var o=n(e);return Cs(o,e,t,i)}var l;return n instanceof z1?t?(n.inject(t,i),[n.getName(i)]):[n]:xl(n)?$1(n):Array.isArray(n)?Array.prototype.concat.apply(yh,n.map(function(c){return Cs(c,e,t,i)})):[n.toString()]}function SA(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Wo(t)&&!jp(t))return!1}return!0}var xA=V1(gh),AA=function(){function n(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&SA(e),this.componentId=t,this.baseHash=Do(xA,t),this.baseStyle=i,F1.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,i){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))o=Ts(o,this.staticRulesId);else{var l=Gd(Cs(this.rules,e,t,i)),c=Kd(Do(this.baseHash,l)>>>0);if(!t.hasNameForId(this.componentId,c)){var f=i(l,".".concat(c),void 0,this.componentId);t.insertRules(this.componentId,c,f)}o=Ts(o,c),this.staticRulesId=c}else{for(var d=Do(this.baseHash,i.hash),m="",v=0;v<this.rules.length;v++){var w=this.rules[v];if(typeof w=="string")m+=w;else if(w){var T=Gd(Cs(w,e,t,i));d=Do(d,T+v),m+=T}}if(m){var A=Kd(d>>>0);t.hasNameForId(this.componentId,A)||t.insertRules(this.componentId,A,i(m,".".concat(A),void 0,this.componentId)),o=Ts(o,A)}}return o},n}(),H1=Pn.createContext(void 0);H1.Consumer;var vd={};function IA(n,e,t){var i=jp(n),o=n,l=!yd(n),c=e.attrs,f=c===void 0?yh:c,d=e.componentId,m=d===void 0?function(X,J){var te=typeof X!="string"?"sc":Cv(X);vd[te]=(vd[te]||0)+1;var I="".concat(te,"-").concat(D1(gh+te+vd[te]));return J?"".concat(J,"-").concat(I):I}(e.displayName,e.parentComponentId):d,v=e.displayName,w=v===void 0?function(X){return yd(X)?"styled.".concat(X):"Styled(".concat(Jx(X),")")}(n):v,T=e.displayName&&e.componentId?"".concat(Cv(e.displayName),"-").concat(e.componentId):e.componentId||m,A=i&&o.attrs?o.attrs.concat(f).filter(Boolean):f,D=e.shouldForwardProp;if(i&&o.shouldForwardProp){var L=o.shouldForwardProp;if(e.shouldForwardProp){var M=e.shouldForwardProp;D=function(X,J){return L(X,J)&&M(X,J)}}else D=L}var H=new AA(t,T,i?o.componentStyle:void 0);function q(X,J){return function(te,I,x){var P=te.attrs,k=te.componentStyle,b=te.defaultProps,F=te.foldedComponentIds,R=te.styledComponentId,Xe=te.target,dt=Pn.useContext(H1),pt=Nv(),Se=te.shouldForwardProp||pt.shouldForwardProp,ie=Gx(I,dt,b)||Ho,ue=function(ke,be,Me){for(var Le,je=_n(_n({},be),{className:void 0,theme:Me}),ot=0;ot<ke.length;ot+=1){var Nt=Wo(Le=ke[ot])?Le(je):Le;for(var zt in Nt)je[zt]=zt==="className"?Ts(je[zt],Nt[zt]):zt==="style"?_n(_n({},je[zt]),Nt[zt]):Nt[zt]}return be.className&&(je.className=Ts(je.className,be.className)),je}(P,I,ie),le=ue.as||Xe,O={};for(var G in ue)ue[G]===void 0||G[0]==="$"||G==="as"||G==="theme"&&ue.theme===ie||(G==="forwardedAs"?O.as=ue.forwardedAs:Se&&!Se(G,le)||(O[G]=ue[G]));var ye=function(ke,be){var Me=Nv(),Le=ke.generateAndInjectStyles(be,Me.styleSheet,Me.stylis);return Le}(k,ue),Re=Ts(F,R);return ye&&(Re+=" "+ye),ue.className&&(Re+=" "+ue.className),O[yd(le)&&!R1.has(le)?"class":"className"]=Re,x&&(O.ref=x),se.createElement(le,O)}(K,X,J)}q.displayName=w;var K=Pn.forwardRef(q);return K.attrs=A,K.componentStyle=H,K.displayName=w,K.shouldForwardProp=D,K.foldedComponentIds=i?Ts(o.foldedComponentIds,o.styledComponentId):"",K.styledComponentId=T,K.target=i?o.target:n,Object.defineProperty(K,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(X){this._foldedDefaultProps=i?function(J){for(var te=[],I=1;I<arguments.length;I++)te[I-1]=arguments[I];for(var x=0,P=te;x<P.length;x++)Qd(J,P[x],!0);return J}({},o.defaultProps,X):X}}),Bp(K,function(){return".".concat(K.styledComponentId)}),l&&L1(K,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),K}function Lv(n,e){for(var t=[n[0]],i=0,o=e.length;i<o;i+=1)t.push(e[i],n[i+1]);return t}var Ov=function(n){return Object.assign(n,{isCss:!0})};function W1(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Wo(n)||xl(n))return Ov(Cs(Lv(yh,Sl([n],e,!0))));var i=n;return e.length===0&&i.length===1&&typeof i[0]=="string"?Cs(i):Ov(Cs(Lv(i,e)))}function Xd(n,e,t){if(t===void 0&&(t=Ho),!e)throw Bl(1,e);var i=function(o){for(var l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];return n(e,t,W1.apply(void 0,Sl([o],l,!1)))};return i.attrs=function(o){return Xd(n,e,_n(_n({},t),{attrs:Array.prototype.concat(t.attrs,o).filter(Boolean)}))},i.withConfig=function(o){return Xd(n,e,_n(_n({},t),o))},i}var q1=function(n){return Xd(IA,n)},we=q1;R1.forEach(function(n){we[n]=q1(n)});function CA(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var i=Gd(W1.apply(void 0,Sl([n],e,!1))),o=D1(i);return new z1(o,i)}const PA={github:$.jsx(xx,{}),scholar:$.jsx(Cx,{}),email:$.jsx(Ix,{})},RA=we.aside`
  width: var(--sidebar-width);
  min-height: calc(100vh - 76px);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 32px 0 0 0;
  margin-left: 0;
  background: none;
  border: none;
`,kA=we.img`
  width: 240px;
  height: 300px;
  /* border-radius: 50%; */
  object-fit: cover;
  margin-bottom: 10px;
  border: 0px solid var(--primary);
`,VA=we.h2`
  margin: 0 0 8px 0;
  font-size: 1.7rem;
  font-weight: 700;
`,DA=we.div`
  color: var(--primary);
  font-size: 1.1rem;
  margin-bottom: 8px;
`,bA=we.div`
  color: #222;
  font-size: 1rem;
  margin-bottom: 0px;
  text-align: center;
`,NA=we.div`
  margin: 18px 0 0 0;
  padding: 0 0 12px 0;
  display: flex;
  gap: 18px;
`,MA=we.div`
  width: 90%;
  margin-top: 0px;
`,LA=we.div`
  color: var(--primary);
  font-weight: 700;
  margin-bottom: 8px;
  font-size: 1.4rem;
`,OA=we.ul`
  list-style: none;
  padding: 0;
  margin: 0;
  max-height: 400px;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: #3674B5 #e0e7ef; /* Firefox */
  &::-webkit-scrollbar {
    width: 8px;
    background: #e0e7ef;
  }
  &::-webkit-scrollbar-thumb {
    background: #3674B5;
    border-radius: 4px;
  }
  &::-webkit-scrollbar-thumb:hover {
    background: #3674B5;
  }
`,FA=we.li`
  font-size: 0.98rem;
  color: var(--text);
  margin-bottom: 6px;
  border-left: 3px solid var(--primary);
  padding-left: 8px;
  line-height: 1.7;
`,jA=we.span`
  color: #000;
  font-size: 0.92rem;
  margin-right: 6px;
  font-weight: bold;
`;function BA(n){if(!n)return null;let e=n.replace(/\*\*([^*]+)\*\*/g,"<b>$1</b>");return e=e.replace(/\[([^\]]+)\]\(([^\)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" style="color:#2563eb;text-decoration:underline;">$1</a>'),e}function zA({config:n}){return $.jsxs(RA,{children:[$.jsx(kA,{src:n.avatar,alt:"avatar"}),$.jsx(VA,{children:n.name}),$.jsx(DA,{children:n.title}),$.jsx(bA,{children:"The Hong Kong University of Science and Technology (Guangzhou)"}),$.jsx(NA,{children:n.social.map(e=>$.jsx("a",{href:e.type==="email"?`mailto:${n.email}`:e.url,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--text)",fontSize:22},children:PA[e.type]||$.jsx(Ax,{})},e.type))}),$.jsxs(MA,{children:[$.jsx(LA,{children:"News"}),$.jsx(OA,{children:n.news.map((e,t)=>$.jsxs(FA,{children:[$.jsx(jA,{children:e.date}),$.jsx("span",{dangerouslySetInnerHTML:{__html:BA(e.content)}})]},t))})]})]})}const Ss={name:"Hehai LIN",name_cn:"",title:"Ph.D. Student",avatar:"/materials/avatar.png",bio:"Hi! I'm currently a PhD student at LAnguage and Intelligence (LAI) Lab, The Hong Kong University of Science and Technology (Guangzhou), supervised by Prof. [Chengwei Qin](https://qcwthu.github.io/). Before that, I received my Bachelor degree in the School of Artificial Intelligence from Sun Yat-sen University, supervised by Prof. [Zhenhui Peng](https://zhenhuipeng.com) and Prof. [Xiaobin Chang](https://xb-chang.github.io). I am fortunate to work as a research intern with Prof. [Yi R. (May) Fung](https://mayrfung.github.io/) and Prof. [Wenya Wang](https://personal.ntu.edu.sg/wangwy/). I am deeply grateful to everyone who has stepped forward to share their guidance and wisdom with me, both in my academic pursuits and throughout life's journey. My current research interests include:",bioList:["(1) LLM Reasoning","(2) Multi-agent System (MAS)","(3) Multimodal Learning"],bioAfterList:"If you are interested in my research topics and would like to schedule a chat with me, please feel free to contact me via email.",location:"Guangzhou, China",email:"hlin709@connect.hkust-gz.edu.cn",social:[{type:"github",url:"https://github.com/linhh29"},{type:"scholar",url:"https://scholar.google.com/citations?user=u2TFzcAAAAAJ"},{type:"email",url:"hlin709@connect.hkust-gz.edu.cn"},{type:"orcid",url:"https://orcid.org/0009-0009-2602-9059"}],topNav:[{label:"Publications",url:"#"},{label:"Life",url:"#"}],education:[{department:"Thrust of Artificial Intelligence",school:"The Hong Kong University of Science and Technology (Guangzhou)",degree:"Ph.D. Student",time:"2025 - Present"},{department:"School of Artificial Intelligence",school:"Sun Yat-sen University",degree:"Bachelor of Engineering (B.E.)",time:"2020 - 2024"}],experience:[{company:"HKUST(GZ), supervised by Prof. [Chengwei Qin](https://qcwthu.github.io/)",title:"Research assistant",time:"2025.05 - 2025.08"},{company:"NTU, supervised by Prof. [Wenya Wang](https://personal.ntu.edu.sg/wangwy/)",title:"Research intern",time:"2024.06 - 2024.10"},{company:"HKUST, supervised by Prof. [Yi R. (May) Fung](https://mayrfung.github.io/)",title:"Research intern",time:"2024.04 - 2024.08"}],research:["Research Interest 1","Research Interest 2","Research Interest 3"],news:[{date:"Aug. 2025",content:"Start my PhD journey in HKUST(GZ). Looking forward to any collaboration."},{date:"May. 2025",content:"One **ACL 2025** paper accepted. Thanks to my co-authors."},{date:"Jun. 2024",content:"Graduate from SYSU with a B.E. in Artificial Intelligence. Thanks to all people I met!"},{date:"Jun. 2023",content:"One **UIST 2023** paper accepted. Start my research journey and thanks to all my collaborators!"}],papers:[{title:"[ACL Findings 2025] Self-correction is more than refinement: A learning framework for visual and language reasoning tasks",authors:"**Jiayi He**, ==Hehai Lin==, Qingyun Wang, Yi Fung, Heng Ji",venue:"ACL Findings",year:"2025, co-first author",link:"https://aclanthology.org/2025.findings-acl.331/"},{title:"[ICONIP 2024] SAFE: A Spatial-aware Framework for Arable Land Quality Evaluation",authors:"==Hehai Lin==, Wei Liu, Mengting Li, Kangyu Yuan, Zhao Liu, Huaijie Zhu, Jianxing Yu, Jian Yin",venue:"ICONIP",year:"2024",link:"https://link.springer.com/chapter/10.1007/978-981-96-6951-6_12"},{title:"[UIST 2023] CriTrainer: An Adaptive Training Tool for Critical Paper Reading",authors:"**Kangyu YUAN**, ==Hehai Lin==, **Shilei Cao**, Zhenhui Peng, Qingyu Guo, Xiaojuan Ma",venue:"UIST",year:"2023, co-first author",link:"https://dl.acm.org/doi/abs/10.1145/3586183.3606816"}],projects:[{name:"Project Name",desc:"Project Description",link:"#"}]},UA=we.header`
  width: 100%;
  height: 76px;
  background: var(--primary);
  display: flex;
  align-items: flex-end;
  justify-content: center;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100;
  border-bottom: 1.5px solid var(--primary-light);
`,$A=we.div`
  width: 100%;
  max-width: 1200px;
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  padding: 32px 48px 0 48px;
  box-sizing: border-box;
`,HA=we.div`
  display: flex;
  flex-direction: column;
  align-items: center;
`,WA=we.h1`
  font-size: 2.1rem;
  font-weight: 600;
  margin: 0;
  color: #fff;
`,qA=we.span`
  font-size: 1.1rem;
  color: #fff;
  margin-top: 2px;
`,KA=we.nav`
  display: flex;
  gap: 36px;
  align-items: center;
`,GA=we.button`
  background: none;
  border: none;
  color: ${({active:n})=>n?"#fff":"#c7e3fa"};
  font-size: 1.25rem;
  font-weight: 500;
  text-decoration: none;
  cursor: pointer;
  transition: color var(--transition);
  outline: none;
  &:hover {
    color: #fff;
    text-decoration: underline;
  }
`;function QA({theme:n,setTheme:e,current:t,activeSection:i,onChange:o}){const l=[{label:"Home",key:"home"},...Ss.topNav.map((f,d)=>({...f,key:f.label.toLowerCase()}))],c=f=>{o(f)};return $.jsx(UA,{children:$.jsxs($A,{children:[$.jsxs(HA,{children:[$.jsx(WA,{children:Ss.name}),Ss.name_cn&&$.jsx(qA,{children:Ss.name_cn})]}),$.jsx(KA,{children:l.map(f=>{const d=t==="home"?f.key==="publications"?i==="publications":i==="home"&&f.key==="home":t===f.key;return $.jsx(GA,{active:d,onClick:()=>c(f.key),children:f.label},f.key)})})]})})}const YA=we.h3`
  margin-top: 32px;
  color: #3674B5;
  font-size: 1.25rem;
`,_d=we.h3`
  margin-top: 20px;
  color: var(--primary);
  font-size: 1.25rem;
  margin-bottom: 12px;
`,Fv=we.ul`
  margin: 8px 0 0 0;
  padding-left: 20px;
`,XA=we.div`
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-top: 12px;
`,JA=we.div`
  background: var(--card-bg);
  border-radius: 5px;
  box-shadow: 0 10px 12px rgba(54,116,181,0.10);
  border: 0px solid var(--border);
  display: flex;
  flex-direction: row;
  gap: 22px;
  padding: 15px 24px 15px 18px;
  align-items: flex-start;
  min-height: 120px;
`,ZA=we.img`
  width: 140px;
  height: 105px;
  object-fit: cover;
  border-radius: 8px;
  background: #eee;
  flex-shrink: 0;
`,eI=we.div`
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
`,tI=we.a`
  font-size: 1.08rem;
  font-weight: bold;
  color: var(--title);
  text-decoration: none;
  &:hover { text-decoration: underline; }
  display: block;
`,nI=we.div`
  color: #444;
  font-size: 0.98rem;
  margin: 4px 0 2px 0;
`,rI=we.div`
  color: #888;
  font-size: 0.95rem;
`,iI=we.div`
  color: #333;
  font-size: 0.97rem;
  margin-top: 4px;
`;function wd(n){if(!n)return null;let e=n.replace(/\[([^\]]+)\]\(([^\)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" style="color:#3674B5;text-decoration:underline;">$1</a>');return e=e.replace(/\*\*([^*]+)\*\*/g,"<b>$1</b>"),e=e.replace(/==([^=]+)==/g,'<span style="color:#3674B5;font-weight:bold;">$1</span>'),e}function sI(n){if(!n)return null;let e=n.replace(/\[([^\]]+)\]\(([^\)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" style="color:#3674B5;text-decoration:underline;">$1</a>');return e=e.replace(/\*\*([^*]+)\*\*/g,"<b>$1</b>"),e}function fc(n){if(!n)return null;let e=n.replace(/\*\*([^*]+)\*\*/g,"<b>$1</b>");return e=e.replace(/==([^=]+)==/g,'<span style="color:#3674B5;font-weight:bold;">$1</span>'),e=e.replace(/\[([^\]]+)\]\(([^\)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" style="color:#3674B5;text-decoration:underline;">$1</a>'),e}function K1({config:n,pubRef:e}){return $.jsxs("div",{style:{background:"none",boxShadow:"none",border:"none",padding:"0 24px"},children:[$.jsx(YA,{style:{marginTop:10,marginBottom:12},children:"About Me"}),$.jsx("div",{style:{fontSize:"1.1rem",marginBottom:12},dangerouslySetInnerHTML:{__html:wd(n.bio)}}),n.bioList&&n.bioList.length>0&&$.jsx("ul",{style:{margin:"12px 0 12px 24px"},children:n.bioList.map((t,i)=>$.jsx("li",{style:{marginBottom:4},dangerouslySetInnerHTML:{__html:wd(t)}},i))}),n.bioAfterList&&$.jsx("div",{style:{fontSize:"1.1rem",margin:"12px 0 24px 0"},dangerouslySetInnerHTML:{__html:wd(n.bioAfterList)}}),$.jsx(_d,{children:"Experience"}),$.jsx(Fv,{children:n.experience.map((t,i)=>$.jsx("li",{dangerouslySetInnerHTML:{__html:sI(`${t.company}, ${t.title} (${t.time})`)}},i))}),$.jsx(_d,{children:"Education"}),$.jsx(Fv,{children:n.education.map((t,i)=>$.jsxs("li",{children:[t.school,", ",t.degree," (",t.time,")"]},i))}),$.jsx(_d,{ref:e,id:"publications",children:"Publications"}),$.jsx(XA,{children:n.papers.map((t,i,o)=>{let l=t.img||`/materials/publications/${o.length-i}.jpg`;const c=f=>{f.target.src.endsWith(".png")||(f.target.src=`/materials/publications/${o.length-i}.png`)};return $.jsxs(JA,{children:[$.jsx(ZA,{src:l,alt:"pub",onError:c}),$.jsxs(eI,{children:[$.jsx(tI,{href:t.link,target:"_blank",rel:"noopener noreferrer",dangerouslySetInnerHTML:{__html:fc(t.title)}}),$.jsx(nI,{dangerouslySetInnerHTML:{__html:fc(t.authors)}}),$.jsx(rI,{dangerouslySetInnerHTML:{__html:fc(t.venue+(t.year?`, ${t.year}`:""))}}),t.desc&&$.jsx(iI,{dangerouslySetInnerHTML:{__html:fc(t.desc)}})]})]},i)})})]})}we.div`
  background: var(--card-bg);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(37,99,235,0.05);
  padding: 24px 20px;
  margin-bottom: 20px;
  border: 1px solid var(--border);
  transition: box-shadow var(--transition), background var(--transition);
`;we.a`
  color: var(--primary);
  font-size: 1.1rem;
  font-weight: 700;
  text-decoration: none;
  &:hover { text-decoration: underline; }
`;we.div`
  color: var(--text);
  font-size: 1rem;
  margin: 6px 0;
`;we.div`
  color: #888;
  font-size: 0.95rem;
`;we.div`
  background: var(--card-bg);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(37,99,235,0.05);
  padding: 24px 20px;
  margin-bottom: 20px;
  border: 1px solid var(--border);
  transition: box-shadow var(--transition), background var(--transition);
`;we.a`
  color: var(--primary);
  font-size: 1.1rem;
  font-weight: 700;
  text-decoration: none;
  &:hover { text-decoration: underline; }
`;we.div`
  color: var(--text);
  font-size: 1rem;
  margin: 6px 0;
`;const oI=()=>{};var jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},aI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],d=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Q1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,d=o+2<n.length,m=d?n[o+2]:0,v=l>>2,w=(l&3)<<4|f>>4;let T=(f&15)<<2|m>>6,A=m&63;d||(A=64,c||(T=64)),i.push(t[v],t[w],t[T],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(G1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||m==null||w==null)throw new lI;const T=l<<2|f>>4;if(i.push(T),m!==64){const A=f<<4&240|m>>2;if(i.push(A),w!==64){const D=m<<6&192|w;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uI=function(n){const e=G1(n);return Q1.encodeByteArray(e,!0)},Uc=function(n){return uI(n).replace(/\./g,"")},cI=function(n){try{return Q1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=()=>hI().__FIREBASE_DEFAULTS__,dI=()=>{if(typeof process>"u"||typeof jv>"u")return;const n=jv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&cI(n[1]);return e&&JSON.parse(e)},zp=()=>{try{return oI()||fI()||dI()||pI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mI=n=>{var e,t;return(t=(e=zp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gI=n=>{const e=mI(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Y1=()=>{var n;return(n=zp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n){return n.endsWith(".cloudworkstations.dev")}async function vI(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Uc(JSON.stringify(t)),Uc(JSON.stringify(c)),""].join(".")}const pl={};function wI(){const n={prod:[],emulator:[]};for(const e of Object.keys(pl))pl[e]?n.emulator.push(e):n.prod.push(e);return n}function EI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Bv=!1;function TI(n,e){if(typeof window>"u"||typeof document>"u"||!Up(window.location.host)||pl[n]===e||pl[n]||Bv)return;pl[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=wI().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Bv=!0,c()},T}function v(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=EI(i),A=t("text"),D=document.getElementById(A)||document.createElement("span"),L=t("learnmore"),M=document.getElementById(L)||document.createElement("a"),H=t("preprendIcon"),q=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const K=T.element;f(K),v(M,L);const X=m();d(q,H),K.append(q,D,M,X),document.body.appendChild(K)}l?(D.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xI(){var n;const e=(n=zp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AI(){return!xI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function II(){try{return typeof indexedDB=="object"}catch{return!1}}function CI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="FirebaseError";class ia extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=PI,Object.setPrototypeOf(this,ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X1.prototype.create)}}class X1{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?RI(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new ia(o,f,i)}}function RI(n,e){return n.replace(kI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const kI=/\{\$([^}]+)}/g;function $c(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(zv(l)&&zv(c)){if(!$c(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function zv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(n){return n&&n._delegate?n._delegate:n}class Al{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new yI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bI(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:DI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DI(n){return n===_s?void 0:n}function bI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new VI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(We||(We={}));const MI={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},LI=We.INFO,OI={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},FI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=OI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class J1{constructor(e){this.name=e,this._logLevel=LI,this._logHandler=FI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const jI=(n,e)=>e.some(t=>n instanceof t);let Uv,$v;function BI(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zI(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z1=new WeakMap,Jd=new WeakMap,ew=new WeakMap,Ed=new WeakMap,$p=new WeakMap;function UI(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ki(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Z1.set(t,n)}).catch(()=>{}),$p.set(e,n),e}function $I(n){if(Jd.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Jd.set(n,e)}let Zd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ew.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ki(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HI(n){Zd=n(Zd)}function WI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Td(this),e,...t);return ew.set(i,e.sort?e.sort():[e]),ki(i)}:zI().includes(n)?function(...e){return n.apply(Td(this),e),ki(Z1.get(this))}:function(...e){return ki(n.apply(Td(this),e))}}function qI(n){return typeof n=="function"?WI(n):(n instanceof IDBTransaction&&$I(n),jI(n,BI())?new Proxy(n,Zd):n)}function ki(n){if(n instanceof IDBRequest)return UI(n);if(Ed.has(n))return Ed.get(n);const e=qI(n);return e!==n&&(Ed.set(n,e),$p.set(e,n)),e}const Td=n=>$p.get(n);function KI(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=ki(c);return i&&c.addEventListener("upgradeneeded",d=>{i(ki(c.result),d.oldVersion,d.newVersion,ki(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),f.then(d=>{l&&d.addEventListener("close",()=>l()),o&&d.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const GI=["get","getKey","getAll","getAllKeys","count"],QI=["put","add","delete","clear"],Sd=new Map;function Hv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Sd.get(e))return Sd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=QI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||GI.includes(t)))return;const l=async function(c,...f){const d=this.transaction(c,o?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),o&&d.done]))[0]};return Sd.set(e,l),l}HI(n=>({...n,get:(e,t,i)=>Hv(e,t)||n.get(e,t,i),has:(e,t)=>!!Hv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function XI(n){const e=n.getComponent();return e?.type==="VERSION"}const ep="@firebase/app",Wv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new J1("@firebase/app"),JI="@firebase/app-compat",ZI="@firebase/analytics-compat",eC="@firebase/analytics",tC="@firebase/app-check-compat",nC="@firebase/app-check",rC="@firebase/auth",iC="@firebase/auth-compat",sC="@firebase/database",oC="@firebase/data-connect",aC="@firebase/database-compat",lC="@firebase/functions",uC="@firebase/functions-compat",cC="@firebase/installations",hC="@firebase/installations-compat",fC="@firebase/messaging",dC="@firebase/messaging-compat",pC="@firebase/performance",mC="@firebase/performance-compat",gC="@firebase/remote-config",yC="@firebase/remote-config-compat",vC="@firebase/storage",_C="@firebase/storage-compat",wC="@firebase/firestore",EC="@firebase/ai",TC="@firebase/firestore-compat",SC="firebase",xC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",AC={[ep]:"fire-core",[JI]:"fire-core-compat",[eC]:"fire-analytics",[ZI]:"fire-analytics-compat",[nC]:"fire-app-check",[tC]:"fire-app-check-compat",[rC]:"fire-auth",[iC]:"fire-auth-compat",[sC]:"fire-rtdb",[oC]:"fire-data-connect",[aC]:"fire-rtdb-compat",[lC]:"fire-fn",[uC]:"fire-fn-compat",[cC]:"fire-iid",[hC]:"fire-iid-compat",[fC]:"fire-fcm",[dC]:"fire-fcm-compat",[pC]:"fire-perf",[mC]:"fire-perf-compat",[gC]:"fire-rc",[yC]:"fire-rc-compat",[vC]:"fire-gcs",[_C]:"fire-gcs-compat",[wC]:"fire-fst",[TC]:"fire-fst-compat",[EC]:"fire-vertex","fire-js":"fire-js",[SC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,IC=new Map,np=new Map;function qv(n,e){try{n.container.addComponent(e)}catch(t){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wc(n){const e=n.name;if(np.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,n);for(const t of Hc.values())qv(t,n);for(const t of IC.values())qv(t,n);return!0}function CC(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function PC(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new X1("app","Firebase",RC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Al("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=xC;function tw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:tp,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Vi.create("bad-app-name",{appName:String(o)});if(t||(t=Y1()),!t)throw Vi.create("no-options");const l=Hc.get(o);if(l){if($c(t,l.options)&&$c(i,l.config))return l;throw Vi.create("duplicate-app",{appName:o})}const c=new NI(o);for(const d of np.values())c.addComponent(d);const f=new kC(t,i,c);return Hc.set(o,f),f}function DC(n=tp){const e=Hc.get(n);if(!e&&n===tp&&Y1())return tw();if(!e)throw Vi.create("no-app",{appName:n});return e}function Fo(n,e,t){var i;let o=(i=AC[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(f.join(" "));return}Wc(new Al(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="firebase-heartbeat-database",NC=1,Il="firebase-heartbeat-store";let xd=null;function nw(){return xd||(xd=KI(bC,NC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Il)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vi.create("idb-open",{originalErrorMessage:n.message})})),xd}async function MC(n){try{const t=(await nw()).transaction(Il),i=await t.objectStore(Il).get(rw(n));return await t.done,i}catch(e){if(e instanceof ia)Xr.warn(e.message);else{const t=Vi.create("idb-get",{originalErrorMessage:e?.message});Xr.warn(t.message)}}}async function Kv(n,e){try{const i=(await nw()).transaction(Il,"readwrite");await i.objectStore(Il).put(e,rw(n)),await i.done}catch(t){if(t instanceof ia)Xr.warn(t.message);else{const i=Vi.create("idb-set",{originalErrorMessage:t?.message});Xr.warn(i.message)}}}function rw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=1024,OC=30;class FC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new BC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Gv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>OC){const c=zC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Gv(),{heartbeatsToSend:i,unsentEntries:o}=jC(this._heartbeatsCache.heartbeats),l=Uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Xr.warn(t),""}}}function Gv(){return new Date().toISOString().substring(0,10)}function jC(n,e=LC){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Qv(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Qv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class BC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return II()?CI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Qv(n){return Uc(JSON.stringify({version:2,heartbeats:n})).length}function zC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(n){Wc(new Al("platform-logger",e=>new YI(e),"PRIVATE")),Wc(new Al("heartbeat",e=>new FC(e),"PRIVATE")),Fo(ep,Wv,n),Fo(ep,Wv,"esm2017"),Fo("fire-js","")}UC("");var $C="firebase",HC="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fo($C,HC,"app");var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,iw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function P(){}P.prototype=x.prototype,I.D=x.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(k,b,F){for(var R=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)R[Xe-2]=arguments[Xe];return x.prototype[b].apply(k,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,P){P||(P=0);var k=Array(16);if(typeof x=="string")for(var b=0;16>b;++b)k[b]=x.charCodeAt(P++)|x.charCodeAt(P++)<<8|x.charCodeAt(P++)<<16|x.charCodeAt(P++)<<24;else for(b=0;16>b;++b)k[b]=x[P++]|x[P++]<<8|x[P++]<<16|x[P++]<<24;x=I.g[0],P=I.g[1],b=I.g[2];var F=I.g[3],R=x+(F^P&(b^F))+k[0]+3614090360&4294967295;x=P+(R<<7&4294967295|R>>>25),R=F+(b^x&(P^b))+k[1]+3905402710&4294967295,F=x+(R<<12&4294967295|R>>>20),R=b+(P^F&(x^P))+k[2]+606105819&4294967295,b=F+(R<<17&4294967295|R>>>15),R=P+(x^b&(F^x))+k[3]+3250441966&4294967295,P=b+(R<<22&4294967295|R>>>10),R=x+(F^P&(b^F))+k[4]+4118548399&4294967295,x=P+(R<<7&4294967295|R>>>25),R=F+(b^x&(P^b))+k[5]+1200080426&4294967295,F=x+(R<<12&4294967295|R>>>20),R=b+(P^F&(x^P))+k[6]+2821735955&4294967295,b=F+(R<<17&4294967295|R>>>15),R=P+(x^b&(F^x))+k[7]+4249261313&4294967295,P=b+(R<<22&4294967295|R>>>10),R=x+(F^P&(b^F))+k[8]+1770035416&4294967295,x=P+(R<<7&4294967295|R>>>25),R=F+(b^x&(P^b))+k[9]+2336552879&4294967295,F=x+(R<<12&4294967295|R>>>20),R=b+(P^F&(x^P))+k[10]+4294925233&4294967295,b=F+(R<<17&4294967295|R>>>15),R=P+(x^b&(F^x))+k[11]+2304563134&4294967295,P=b+(R<<22&4294967295|R>>>10),R=x+(F^P&(b^F))+k[12]+1804603682&4294967295,x=P+(R<<7&4294967295|R>>>25),R=F+(b^x&(P^b))+k[13]+4254626195&4294967295,F=x+(R<<12&4294967295|R>>>20),R=b+(P^F&(x^P))+k[14]+2792965006&4294967295,b=F+(R<<17&4294967295|R>>>15),R=P+(x^b&(F^x))+k[15]+1236535329&4294967295,P=b+(R<<22&4294967295|R>>>10),R=x+(b^F&(P^b))+k[1]+4129170786&4294967295,x=P+(R<<5&4294967295|R>>>27),R=F+(P^b&(x^P))+k[6]+3225465664&4294967295,F=x+(R<<9&4294967295|R>>>23),R=b+(x^P&(F^x))+k[11]+643717713&4294967295,b=F+(R<<14&4294967295|R>>>18),R=P+(F^x&(b^F))+k[0]+3921069994&4294967295,P=b+(R<<20&4294967295|R>>>12),R=x+(b^F&(P^b))+k[5]+3593408605&4294967295,x=P+(R<<5&4294967295|R>>>27),R=F+(P^b&(x^P))+k[10]+38016083&4294967295,F=x+(R<<9&4294967295|R>>>23),R=b+(x^P&(F^x))+k[15]+3634488961&4294967295,b=F+(R<<14&4294967295|R>>>18),R=P+(F^x&(b^F))+k[4]+3889429448&4294967295,P=b+(R<<20&4294967295|R>>>12),R=x+(b^F&(P^b))+k[9]+568446438&4294967295,x=P+(R<<5&4294967295|R>>>27),R=F+(P^b&(x^P))+k[14]+3275163606&4294967295,F=x+(R<<9&4294967295|R>>>23),R=b+(x^P&(F^x))+k[3]+4107603335&4294967295,b=F+(R<<14&4294967295|R>>>18),R=P+(F^x&(b^F))+k[8]+1163531501&4294967295,P=b+(R<<20&4294967295|R>>>12),R=x+(b^F&(P^b))+k[13]+2850285829&4294967295,x=P+(R<<5&4294967295|R>>>27),R=F+(P^b&(x^P))+k[2]+4243563512&4294967295,F=x+(R<<9&4294967295|R>>>23),R=b+(x^P&(F^x))+k[7]+1735328473&4294967295,b=F+(R<<14&4294967295|R>>>18),R=P+(F^x&(b^F))+k[12]+2368359562&4294967295,P=b+(R<<20&4294967295|R>>>12),R=x+(P^b^F)+k[5]+4294588738&4294967295,x=P+(R<<4&4294967295|R>>>28),R=F+(x^P^b)+k[8]+2272392833&4294967295,F=x+(R<<11&4294967295|R>>>21),R=b+(F^x^P)+k[11]+1839030562&4294967295,b=F+(R<<16&4294967295|R>>>16),R=P+(b^F^x)+k[14]+4259657740&4294967295,P=b+(R<<23&4294967295|R>>>9),R=x+(P^b^F)+k[1]+2763975236&4294967295,x=P+(R<<4&4294967295|R>>>28),R=F+(x^P^b)+k[4]+1272893353&4294967295,F=x+(R<<11&4294967295|R>>>21),R=b+(F^x^P)+k[7]+4139469664&4294967295,b=F+(R<<16&4294967295|R>>>16),R=P+(b^F^x)+k[10]+3200236656&4294967295,P=b+(R<<23&4294967295|R>>>9),R=x+(P^b^F)+k[13]+681279174&4294967295,x=P+(R<<4&4294967295|R>>>28),R=F+(x^P^b)+k[0]+3936430074&4294967295,F=x+(R<<11&4294967295|R>>>21),R=b+(F^x^P)+k[3]+3572445317&4294967295,b=F+(R<<16&4294967295|R>>>16),R=P+(b^F^x)+k[6]+76029189&4294967295,P=b+(R<<23&4294967295|R>>>9),R=x+(P^b^F)+k[9]+3654602809&4294967295,x=P+(R<<4&4294967295|R>>>28),R=F+(x^P^b)+k[12]+3873151461&4294967295,F=x+(R<<11&4294967295|R>>>21),R=b+(F^x^P)+k[15]+530742520&4294967295,b=F+(R<<16&4294967295|R>>>16),R=P+(b^F^x)+k[2]+3299628645&4294967295,P=b+(R<<23&4294967295|R>>>9),R=x+(b^(P|~F))+k[0]+4096336452&4294967295,x=P+(R<<6&4294967295|R>>>26),R=F+(P^(x|~b))+k[7]+1126891415&4294967295,F=x+(R<<10&4294967295|R>>>22),R=b+(x^(F|~P))+k[14]+2878612391&4294967295,b=F+(R<<15&4294967295|R>>>17),R=P+(F^(b|~x))+k[5]+4237533241&4294967295,P=b+(R<<21&4294967295|R>>>11),R=x+(b^(P|~F))+k[12]+1700485571&4294967295,x=P+(R<<6&4294967295|R>>>26),R=F+(P^(x|~b))+k[3]+2399980690&4294967295,F=x+(R<<10&4294967295|R>>>22),R=b+(x^(F|~P))+k[10]+4293915773&4294967295,b=F+(R<<15&4294967295|R>>>17),R=P+(F^(b|~x))+k[1]+2240044497&4294967295,P=b+(R<<21&4294967295|R>>>11),R=x+(b^(P|~F))+k[8]+1873313359&4294967295,x=P+(R<<6&4294967295|R>>>26),R=F+(P^(x|~b))+k[15]+4264355552&4294967295,F=x+(R<<10&4294967295|R>>>22),R=b+(x^(F|~P))+k[6]+2734768916&4294967295,b=F+(R<<15&4294967295|R>>>17),R=P+(F^(b|~x))+k[13]+1309151649&4294967295,P=b+(R<<21&4294967295|R>>>11),R=x+(b^(P|~F))+k[4]+4149444226&4294967295,x=P+(R<<6&4294967295|R>>>26),R=F+(P^(x|~b))+k[11]+3174756917&4294967295,F=x+(R<<10&4294967295|R>>>22),R=b+(x^(F|~P))+k[2]+718787259&4294967295,b=F+(R<<15&4294967295|R>>>17),R=P+(F^(b|~x))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(b+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+b&4294967295,I.g[3]=I.g[3]+F&4294967295}i.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var P=x-this.blockSize,k=this.B,b=this.h,F=0;F<x;){if(b==0)for(;F<=P;)o(this,I,F),F+=this.blockSize;if(typeof I=="string"){for(;F<x;)if(k[b++]=I.charCodeAt(F++),b==this.blockSize){o(this,k),b=0;break}}else for(;F<x;)if(k[b++]=I[F++],b==this.blockSize){o(this,k),b=0;break}}this.h=b,this.o+=x},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var P=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=P&255,P/=256;for(this.u(I),I=Array(16),x=P=0;4>x;++x)for(var k=0;32>k;k+=8)I[P++]=this.g[x]>>>k&255;return I};function l(I,x){var P=f;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=x(I)}function c(I,x){this.h=x;for(var P=[],k=!0,b=I.length-1;0<=b;b--){var F=I[b]|0;k&&F==x||(P[b]=F,k=!1)}this.g=P}var f={};function d(I){return-128<=I&&128>I?l(I,function(x){return new c([x|0],0>x?-1:0)}):new c([I|0],0>I?-1:0)}function m(I){if(isNaN(I)||!isFinite(I))return w;if(0>I)return M(m(-I));for(var x=[],P=1,k=0;I>=P;k++)x[k]=I/P|0,P*=4294967296;return new c(x,0)}function v(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return M(v(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(x,8)),k=w,b=0;b<I.length;b+=8){var F=Math.min(8,I.length-b),R=parseInt(I.substring(b,b+F),x);8>F?(F=m(Math.pow(x,F)),k=k.j(F).add(m(R))):(k=k.j(P),k=k.add(m(R)))}return k}var w=d(0),T=d(1),A=d(16777216);n=c.prototype,n.m=function(){if(L(this))return-M(this).m();for(var I=0,x=1,P=0;P<this.g.length;P++){var k=this.i(P);I+=(0<=k?k:4294967296+k)*x,x*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D(this))return"0";if(L(this))return"-"+M(this).toString(I);for(var x=m(Math.pow(I,6)),P=this,k="";;){var b=X(P,x).g;P=H(P,b.j(x));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=b,D(P))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function D(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function L(I){return I.h==-1}n.l=function(I){return I=H(this,I),L(I)?-1:D(I)?0:1};function M(I){for(var x=I.g.length,P=[],k=0;k<x;k++)P[k]=~I.g[k];return new c(P,~I.h).add(T)}n.abs=function(){return L(this)?M(this):this},n.add=function(I){for(var x=Math.max(this.g.length,I.g.length),P=[],k=0,b=0;b<=x;b++){var F=k+(this.i(b)&65535)+(I.i(b)&65535),R=(F>>>16)+(this.i(b)>>>16)+(I.i(b)>>>16);k=R>>>16,F&=65535,R&=65535,P[b]=R<<16|F}return new c(P,P[P.length-1]&-2147483648?-1:0)};function H(I,x){return I.add(M(x))}n.j=function(I){if(D(this)||D(I))return w;if(L(this))return L(I)?M(this).j(M(I)):M(M(this).j(I));if(L(I))return M(this.j(M(I)));if(0>this.l(A)&&0>I.l(A))return m(this.m()*I.m());for(var x=this.g.length+I.g.length,P=[],k=0;k<2*x;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(var b=0;b<I.g.length;b++){var F=this.i(k)>>>16,R=this.i(k)&65535,Xe=I.i(b)>>>16,dt=I.i(b)&65535;P[2*k+2*b]+=R*dt,q(P,2*k+2*b),P[2*k+2*b+1]+=F*dt,q(P,2*k+2*b+1),P[2*k+2*b+1]+=R*Xe,q(P,2*k+2*b+1),P[2*k+2*b+2]+=F*Xe,q(P,2*k+2*b+2)}for(k=0;k<x;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=x;k<2*x;k++)P[k]=0;return new c(P,0)};function q(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function K(I,x){this.g=I,this.h=x}function X(I,x){if(D(x))throw Error("division by zero");if(D(I))return new K(w,w);if(L(I))return x=X(M(I),x),new K(M(x.g),M(x.h));if(L(x))return x=X(I,M(x)),new K(M(x.g),x.h);if(30<I.g.length){if(L(I)||L(x))throw Error("slowDivide_ only works with positive integers.");for(var P=T,k=x;0>=k.l(I);)P=J(P),k=J(k);var b=te(P,1),F=te(k,1);for(k=te(k,2),P=te(P,2);!D(k);){var R=F.add(k);0>=R.l(I)&&(b=b.add(P),F=R),k=te(k,1),P=te(P,1)}return x=H(I,b.j(x)),new K(b,x)}for(b=w;0<=I.l(x);){for(P=Math.max(1,Math.floor(I.m()/x.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=m(P),R=F.j(x);L(R)||0<R.l(I);)P-=k,F=m(P),R=F.j(x);D(F)&&(F=T),b=b.add(F),I=H(I,R)}return new K(b,I)}n.A=function(I){return X(this,I).h},n.and=function(I){for(var x=Math.max(this.g.length,I.g.length),P=[],k=0;k<x;k++)P[k]=this.i(k)&I.i(k);return new c(P,this.h&I.h)},n.or=function(I){for(var x=Math.max(this.g.length,I.g.length),P=[],k=0;k<x;k++)P[k]=this.i(k)|I.i(k);return new c(P,this.h|I.h)},n.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),P=[],k=0;k<x;k++)P[k]=this.i(k)^I.i(k);return new c(P,this.h^I.h)};function J(I){for(var x=I.g.length+1,P=[],k=0;k<x;k++)P[k]=I.i(k)<<1|I.i(k-1)>>>31;return new c(P,I.h)}function te(I,x){var P=x>>5;x%=32;for(var k=I.g.length-P,b=[],F=0;F<k;F++)b[F]=0<x?I.i(F+P)>>>x|I.i(F+P+1)<<32-x:I.i(F+P);return new c(b,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,iw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,Di=c}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sw,al,ow,Rc,rp,aw,lw,uw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var _=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var j=u[S];if(!(j in _))break e;_=_[j]}u=u[u.length-1],S=_[u],g=g(S),g!=S&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function l(u,g){u instanceof String&&(u+="");var _=0,S=!1,j={next:function(){if(!S&&_<u.length){var W=_++;return{value:g(W,u[W]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return l(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function d(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function v(u,g,_){return u.call.apply(u.bind,arguments)}function w(u,g,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),u.apply(g,j)}}return function(){return u.apply(g,arguments)}}function T(u,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function A(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function D(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,j,W){for(var ae=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ae[Ye-2]=arguments[Ye];return g.prototype[j].apply(S,ae)}}function L(u){const g=u.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=u[S];return _}return[]}function M(u,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(d(S)){const j=u.length||0,W=S.length||0;u.length=j+W;for(let ae=0;ae<W;ae++)u[j+ae]=S[ae]}else u.push(S)}}class H{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function q(u){return/^[\s\xa0]*$/.test(u)}function K(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function X(u){return X[" "](u),u}X[" "]=function(){};var J=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function te(u,g,_){for(const S in u)g.call(_,u[S],S,u)}function I(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function x(u){const g={};for(const _ in u)g[_]=u[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,g){let _,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(_ in S)u[_]=S[_];for(let W=0;W<P.length;W++)_=P[W],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function b(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function F(u){f.setTimeout(()=>{throw u},0)}function R(){var u=ue;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Xe{constructor(){this.h=this.g=null}add(g,_){const S=dt.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var dt=new H(()=>new pt,u=>u.reset());class pt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,ie=!1,ue=new Xe,le=()=>{const u=f.Promise.resolve(void 0);Se=()=>{u.then(O)}};var O=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){F(_)}var g=dt;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ie=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return u}();function ke(u,g){if(ye.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(J){e:{try{X(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}D(ke,ye);var be={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Le=0;function je(u,g,_,S,j){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=j,this.key=++Le,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Nt(u){this.src=u,this.g={},this.h=0}Nt.prototype.add=function(u,g,_,S,j){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var ae=re(u,g,S,j);return-1<ae?(g=u[ae],_||(g.fa=!1)):(g=new je(g,this.src,W,!!S,j),g.fa=_,u.push(g)),g};function zt(u,g){var _=g.type;if(_ in u.g){var S=u.g[_],j=Array.prototype.indexOf.call(S,g,void 0),W;(W=0<=j)&&Array.prototype.splice.call(S,j,1),W&&(ot(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function re(u,g,_,S){for(var j=0;j<u.length;++j){var W=u[j];if(!W.da&&W.listener==g&&W.capture==!!_&&W.ha==S)return j}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),Ie={};function Ce(u,g,_,S,j){if(Array.isArray(g)){for(var W=0;W<g.length;W++)Ce(u,g[W],_,S,j);return null}return _=da(_),u&&u[Me]?u.K(g,_,m(S)?!!S.capture:!1,j):Ue(u,g,_,!1,S,j)}function Ue(u,g,_,S,j,W){if(!g)throw Error("Invalid event type");var ae=m(j)?!!j.capture:!!j,Ye=Ls(u);if(Ye||(u[pe]=Ye=new Nt(u)),_=Ye.add(g,_,S,ae,W),_.proxy)return _;if(S=Et(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)Re||(j=ae),j===void 0&&(j=!1),u.addEventListener(g.toString(),S,j);else if(u.attachEvent)u.attachEvent(Vr(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Et(){function u(_){return g.call(u.src,u.listener,_)}const g=fa;return u}function Vn(u,g,_,S,j){if(Array.isArray(g))for(var W=0;W<g.length;W++)Vn(u,g[W],_,S,j);else S=m(S)?!!S.capture:!!S,_=da(_),u&&u[Me]?(u=u.i,g=String(g).toString(),g in u.g&&(W=u.g[g],_=re(W,_,S,j),-1<_&&(ot(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete u.g[g],u.h--)))):u&&(u=Ls(u))&&(g=u.g[g.toString()],u=-1,g&&(u=re(g,_,S,j)),(_=-1<u?g[u]:null)&&Kn(_))}function Kn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Me])zt(g.i,u);else{var _=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(_,S,u.capture):g.detachEvent?g.detachEvent(Vr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Ls(g))?(zt(_,u),_.h==0&&(_.src=null,g[pe]=null)):ot(u)}}}function Vr(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function fa(u,g){if(u.da)u=!0;else{g=new ke(g,this);var _=u.listener,S=u.ha||u.src;u.fa&&Kn(u),u=_.call(S,g)}return u}function Ls(u){return u=u[pe],u instanceof Nt?u:null}var Os="__closure_events_fn_"+(1e9*Math.random()>>>0);function da(u){return typeof u=="function"?u:(u[Os]||(u[Os]=function(g){return u.handleEvent(g)}),u[Os])}function Ct(){G.call(this),this.i=new Nt(this),this.M=this,this.F=null}D(Ct,G),Ct.prototype[Me]=!0,Ct.prototype.removeEventListener=function(u,g,_,S){Vn(this,u,g,_,S)};function Pt(u,g){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new ye(g,u);else if(g instanceof ye)g.target=g.target||u;else{var j=g;g=new ye(S,u),k(g,j)}if(j=!0,_)for(var W=_.length-1;0<=W;W--){var ae=g.g=_[W];j=Dr(ae,S,!0,g)&&j}if(ae=g.g=u,j=Dr(ae,S,!0,g)&&j,j=Dr(ae,S,!1,g)&&j,_)for(W=0;W<_.length;W++)ae=g.g=_[W],j=Dr(ae,S,!1,g)&&j}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],S=0;S<_.length;S++)ot(_[S]);delete u.g[g],u.h--}}this.F=null},Ct.prototype.K=function(u,g,_,S){return this.i.add(String(u),g,!1,_,S)},Ct.prototype.L=function(u,g,_,S){return this.i.add(String(u),g,!0,_,S)};function Dr(u,g,_,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,W=0;W<g.length;++W){var ae=g[W];if(ae&&!ae.da&&ae.capture==_){var Ye=ae.listener,Rt=ae.ha||ae.src;ae.fa&&zt(u.i,ae),j=Ye.call(Rt,S)!==!1&&j}}return j&&!S.defaultPrevented}function pa(u,g,_){if(typeof u=="function")_&&(u=T(u,_));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(u,g||0)}function ti(u){u.g=pa(()=>{u.g=null,u.i&&(u.i=!1,ti(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Wi extends G{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ti(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(u){G.call(this),this.h=u,this.g={}}D(qi,G);var ma=[];function ga(u){te(u.g,function(g,_){this.g.hasOwnProperty(_)&&Kn(g)},u),u.g={}}qi.prototype.N=function(){qi.aa.N.call(this),ga(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ya=f.JSON.stringify,va=f.JSON.parse,_a=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ki(){}Ki.prototype.h=null;function Fs(u){return u.h||(u.h=u.i())}function js(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dr(){ye.call(this,"d")}D(dr,ye);function Bs(){ye.call(this,"c")}D(Bs,ye);var pr={},wa=null;function Gi(){return wa=wa||new Ct}pr.La="serverreachability";function Ea(u){ye.call(this,pr.La,u)}D(Ea,ye);function br(u){const g=Gi();Pt(g,new Ea(g))}pr.STAT_EVENT="statevent";function Ta(u,g){ye.call(this,pr.STAT_EVENT,u),this.stat=g}D(Ta,ye);function yt(u){const g=Gi();Pt(g,new Ta(g,u))}pr.Ma="timingevent";function zs(u,g){ye.call(this,pr.Ma,u),this.size=g}D(zs,ye);function Gn(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},g)}function Qi(){this.g=!0}Qi.prototype.xa=function(){this.g=!1};function Yi(u,g,_,S,j,W){u.info(function(){if(u.g)if(W)for(var ae="",Ye=W.split("&"),Rt=0;Rt<Ye.length;Rt++){var $e=Ye[Rt].split("=");if(1<$e.length){var Mt=$e[0];$e=$e[1];var Tt=Mt.split("_");ae=2<=Tt.length&&Tt[1]=="type"?ae+(Mt+"="+$e+"&"):ae+(Mt+"=redacted&")}}else ae=null;else ae=W;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+g+`
`+_+`
`+ae})}function Us(u,g,_,S,j,W,ae){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+g+`
`+_+`
`+W+" "+ae})}function Qn(u,g,_,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Oh(u,_)+(S?" "+S:"")})}function Sa(u,g){u.info(function(){return"TIMEOUT: "+g})}Qi.prototype.info=function(){};function Oh(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var W=j[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ae=1;ae<j.length;ae++)j[ae]=""}}}}return ya(_)}catch{return g}}var $s={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ql={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yn;function Xi(){}D(Xi,Ki),Xi.prototype.g=function(){return new XMLHttpRequest},Xi.prototype.i=function(){return{}},Yn=new Xi;function Xn(u,g,_,S){this.j=u,this.i=g,this.l=_,this.R=S||1,this.U=new qi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yl}function Yl(){this.i=null,this.g="",this.h=!1}var xa={},Hs={};function Ws(u,g,_){u.L=1,u.v=oi(En(g)),u.m=_,u.P=!0,Aa(u,null)}function Aa(u,g){u.F=Date.now(),Ze(u),u.A=En(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),li(_.i,"t",S),u.C=0,_=u.j.J,u.h=new Yl,u.g=pu(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Wi(T(u.Y,u,u.g),u.O)),g=u.U,_=u.g,S=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(ma[0]=j.toString()),j=ma);for(var W=0;W<j.length;W++){var ae=Ce(_,j[W],S||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),br(),Yi(u.i,u.u,u.A,u.l,u.R,u.m)}Xn.prototype.ca=function(u){u=u.target;const g=this.M;g&&hn(u)==3?g.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const Tt=hn(this.g);var g=this.g.Ba();const Mn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Va(this.g)))){this.J||Tt!=4||g==7||(g==8||0>=Mn?br(3):br(2)),Ji(this);var _=this.g.Z();this.X=_;t:if(Xl(this)){var S=Va(this.g);u="";var j=S.length,W=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),ni(this);var ae="";break t}this.h.i=new f.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(W&&g==j-1)});S.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,Us(this.i,this.u,this.A,this.l,this.R,Tt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Rt=this.g;if((Ye=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ye)){var $e=Ye;break t}}$e=null}if(_=$e)Qn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,_);else{this.o=!1,this.s=3,yt(12),bn(this),ni(this);break e}}if(this.P){_=!0;let Sn;for(;!this.J&&this.C<ae.length;)if(Sn=Fh(this,ae),Sn==Hs){Tt==4&&(this.s=4,yt(14),_=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==xa){this.s=4,yt(15),Qn(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else Qn(this.i,this.l,Sn,null),Ia(this,Sn);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ae.length!=0||this.h.h||(this.s=1,yt(16),_=!1),this.o=this.o&&_,!_)Qn(this.i,this.l,ae,"[Invalid Chunked Response]"),bn(this),ni(this);else if(0<ae.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ba(Mt),Mt.M=!0,yt(11))}}else Qn(this.i,this.l,ae,null),Ia(this,ae);Tt==4&&bn(this),this.o&&!this.J&&(Tt==4?no(this.j,this):(this.o=!1,Ze(this)))}else Xs(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),bn(this),ni(this)}}}catch{}finally{}};function Xl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Fh(u,g){var _=u.C,S=g.indexOf(`
`,_);return S==-1?Hs:(_=Number(g.substring(_,S)),isNaN(_)?xa:(S+=1,S+_>g.length?Hs:(g=g.slice(S,S+_),u.C=S+_,g)))}Xn.prototype.cancel=function(){this.J=!0,bn(this)};function Ze(u){u.S=Date.now()+u.I,Jl(u,u.I)}function Jl(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Gn(T(u.ba,u),g)}function Ji(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Xn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Sa(this.i,this.A),this.L!=2&&(br(),yt(17)),bn(this),this.s=2,ni(this)):Jl(this,this.S-u)};function ni(u){u.j.G==0||u.J||no(u.j,u)}function bn(u){Ji(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,ga(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Ia(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||on(_.h,u))){if(!u.K&&on(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)to(_),nr(_);else break e;eo(_),yt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Gn(T(_.Za,_),6e3));if(1>=eu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Fr(_,11)}else if((u.K||_.g==u)&&to(_),!q(g))for(j=_.Da.g.parse(g),g=0;g<j.length;g++){let $e=j[g];if(_.T=$e[0],$e=$e[1],_.G==2)if($e[0]=="c"){_.K=$e[1],_.ia=$e[2];const Mt=$e[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const Tt=$e[4];Tt!=null&&(_.Aa=Tt,_.j.info("SVER="+_.Aa));const Mn=$e[5];Mn!=null&&typeof Mn=="number"&&0<Mn&&(S=1.5*Mn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Sn=u.g;if(Sn){const ss=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ss){var W=S.h;W.g||ss.indexOf("spdy")==-1&&ss.indexOf("quic")==-1&&ss.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ca(W,W.h),W.h=null))}if(S.D){const io=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(S.ya=io,Je(S.I,S.D,io))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ae=u;if(S.qa=du(S,S.J?S.ia:null,S.W),ae.K){tu(S.h,ae);var Ye=ae,Rt=S.L;Rt&&(Ye.I=Rt),Ye.B&&(Ji(Ye),Ze(Ye)),S.g=ae}else is(S);0<_.i.length&&vr(_)}else $e[0]!="stop"&&$e[0]!="close"||Fr(_,7);else _.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Fr(_,7):$t(_):$e[0]!="noop"&&_.l&&_.l.ta($e),_.v=0)}}br(4)}catch{}}var Zl=class{constructor(u,g){this.g=u,this.map=g}};function Zi(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function eu(u){return u.h?1:u.g?u.g.size:0}function on(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Ca(u,g){u.g?u.g.add(g):u.h=g}function tu(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Zi.prototype.cancel=function(){if(this.i=nu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return L(u.i)}function qs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(d(u)){for(var g=[],_=u.length,S=0;S<_;S++)g.push(u[S]);return g}g=[],_=0;for(S in u)g[_++]=u[S];return g}function Ks(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(d(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const S in u)g[_++]=S;return g}}}function ri(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(d(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Ks(u),S=qs(u),j=S.length,W=0;W<j;W++)g.call(void 0,S[W],_&&_[W],u)}var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jh(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),j=null;if(0<=S){var W=u[_].substring(0,S);j=u[_].substring(S+1)}else W=u[_];g(W,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Nr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Nr){this.h=u.h,ts(this,u.j),this.o=u.o,this.g=u.g,ii(this,u.s),this.l=u.l;var g=u.i,_=new mr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),si(this,_),this.m=u.m}else u&&(g=String(u).match(es))?(this.h=!1,ts(this,g[1]||"",!0),this.o=ze(g[2]||""),this.g=ze(g[3]||"",!0),ii(this,g[4]),this.l=ze(g[5]||"",!0),si(this,g[6]||"",!0),this.m=ze(g[7]||"")):(this.h=!1,this.i=new mr(null,this.h))}Nr.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ai(g,Gs,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ai(g,Gs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ai(_,_.charAt(0)=="/"?su:iu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ai(_,Pa)),u.join("")};function En(u){return new Nr(u)}function ts(u,g,_){u.j=_?ze(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ii(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function si(u,g,_){g instanceof mr?(u.i=g,gr(u.i,u.h)):(_||(g=ai(g,ou)),u.i=new mr(g,u.h))}function Je(u,g,_){u.i.set(g,_)}function oi(u){return Je(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ze(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ai(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,ru),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ru(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gs=/[#\/\?@]/g,iu=/[#\?:]/g,su=/[#\?]/g,ou=/[#\?@]/g,Pa=/#/g;function mr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Ut(u){u.g||(u.g=new Map,u.h=0,u.i&&jh(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=mr.prototype,n.add=function(u,g){Ut(this),this.i=null,u=Nn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Jn(u,g){Ut(u),g=Nn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Zn(u,g){return Ut(u),g=Nn(u,g),u.g.has(g)}n.forEach=function(u,g){Ut(this),this.g.forEach(function(_,S){_.forEach(function(j){u.call(g,j,S,this)},this)},this)},n.na=function(){Ut(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const j=u[S];for(let W=0;W<j.length;W++)_.push(g[S])}return _},n.V=function(u){Ut(this);let g=[];if(typeof u=="string")Zn(this,u)&&(g=g.concat(this.g.get(Nn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},n.set=function(u,g){return Ut(this),this.i=null,u=Nn(this,u),Zn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function li(u,g,_){Jn(u,g),0<_.length&&(u.i=null,u.g.set(Nn(u,g),L(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const W=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var j=W;ae[S]!==""&&(j+="="+encodeURIComponent(String(ae[S]))),u.push(j)}}return this.i=u.join("&")};function Nn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function gr(u,g){g&&!u.j&&(Ut(u),u.i=null,u.g.forEach(function(_,S){var j=S.toLowerCase();S!=j&&(Jn(this,S),li(this,j,_))},u)),u.j=g}function Bh(u,g){const _=new Qi;if(f.Image){const S=new Image;S.onload=A(cn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=A(cn,_,"TestLoadImage: error",!1,g,S),S.onabort=A(cn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=A(cn,_,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function au(u,g){const _=new Qi,S=new AbortController,j=setTimeout(()=>{S.abort(),cn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(W=>{clearTimeout(j),W.ok?cn(_,"TestPingServer: ok",!0,g):cn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),cn(_,"TestPingServer: error",!1,g)})}function cn(u,g,_,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(_)}catch{}}function zh(){this.g=new _a}function lu(u,g,_){const S=_||"";try{ri(u,function(j,W){let ae=j;m(j)&&(ae=ya(j)),g.push(S+W+"="+encodeURIComponent(ae))})}catch(j){throw g.push(S+"type="+encodeURIComponent("_badmap")),j}}function Mr(u){this.l=u.Ub||null,this.j=u.eb||!1}D(Mr,Ki),Mr.prototype.g=function(){return new ns(this.l,this.j)},Mr.prototype.i=function(u){return function(){return u}}({});function ns(u,g){Ct.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(ns,Ct),n=ns.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,tr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function uu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?er(this):tr(this),this.readyState==3&&uu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,er(this))},n.Qa=function(u){this.g&&(this.response=u,er(this))},n.ga=function(){this.g&&er(this)};function er(u){u.readyState=4,u.l=null,u.j=null,u.v=null,tr(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function tr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Lr(u){let g="";return te(u,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function ui(u,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Lr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Je(u,g,_))}function at(u){Ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(at,Ct);var Uh=/^https?$/i,Ra=["POST","PUT"];n=at.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yn.g(),this.v=this.o?Fs(this.o):Fs(Yn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(W){rs(this,W);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)_.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())_.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),j=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ra,g,void 0))||S||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ae]of _)this.g.setRequestHeader(W,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){rs(this,W)}};function rs(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Qs(u),Tn(u)}function Qs(u){u.A||(u.A=!0,Pt(u,"complete"),Pt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Pt(this,"complete"),Pt(this,"abort"),Tn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tn(this,!0)),at.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},n.bb=function(){ka(this)};function ka(u){if(u.h&&typeof c<"u"&&(!u.v[1]||hn(u)!=4||u.Z()!=2)){if(u.u&&hn(u)==4)pa(u.Ea,0,u);else if(Pt(u,"readystatechange"),hn(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=ae===0){var j=String(u.D).match(es)[1]||null;!j&&f.self&&f.self.location&&(j=f.self.location.protocol.slice(0,-1)),S=!Uh.test(j?j.toLowerCase():"")}_=S}if(_)Pt(u,"complete"),Pt(u,"success");else{u.m=6;try{var W=2<hn(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",Qs(u)}}finally{Tn(u)}}}}function Tn(u,g){if(u.g){Ys(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Pt(u,"ready");try{_.onreadystatechange=S}catch{}}}function Ys(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function hn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),va(g)}};function Va(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xs(u){const g={};u=(u.g&&2<=hn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(q(u[S]))continue;var _=b(u[S]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=g[j]||[];g[j]=W,W.push(_)}I(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yr(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Da(u){this.Aa=0,this.i=[],this.j=new Qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yr("baseRetryDelayMs",5e3,u),this.cb=yr("retryDelaySeedMs",1e4,u),this.Wa=yr("forwardChannelMaxRetries",2,u),this.wa=yr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Zi(u&&u.concurrentRequestLimit),this.Da=new zh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Da.prototype,n.la=8,n.G=1,n.connect=function(u,g,_,S){yt(0),this.W=u,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=du(this,null,this.W),vr(this)};function $t(u){if(Js(u),u.G==3){var g=u.U++,_=En(u.I);if(Je(_,"SID",u.K),Je(_,"RID",g),Je(_,"TYPE","terminate"),Or(u,_),g=new Xn(u,u.j,g),g.L=2,g.v=oi(En(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.v,_=!0),_||(g.g=pu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ze(g)}fu(u)}function nr(u){u.g&&(ba(u),u.g.cancel(),u.g=null)}function Js(u){nr(u),u.u&&(f.clearTimeout(u.u),u.u=null),to(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function vr(u){if(!wn(u.h)&&!u.s){u.s=!0;var g=u.Ga;Se||le(),ie||(Se(),ie=!0),ue.add(g,u),u.B=0}}function $h(u,g){return eu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Gn(T(u.Ga,u,g),hu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Xn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=x(W),k(W,this.S)):W=this.S),this.m!==null||this.O||(j.H=W,W=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ci(this,j,g),_=En(this.I),Je(_,"RID",u),Je(_,"CVER",22),this.D&&Je(_,"X-HTTP-Session-Id",this.D),Or(this,_),W&&(this.O?g="headers="+encodeURIComponent(String(Lr(W)))+"&"+g:this.m&&ui(_,this.m,W)),Ca(this.h,j),this.Ua&&Je(_,"TYPE","init"),this.P?(Je(_,"$req",g),Je(_,"SID","null"),j.T=!0,Ws(j,_,null)):Ws(j,_,g),this.G=2}}else this.G==3&&(u?Zs(this,u):this.i.length==0||wn(this.h)||Zs(this))};function Zs(u,g){var _;g?_=g.l:_=u.U++;const S=En(u.I);Je(S,"SID",u.K),Je(S,"RID",_),Je(S,"AID",u.T),Or(u,S),u.m&&u.o&&ui(S,u.m,u.o),_=new Xn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=ci(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ca(u.h,_),Ws(_,S,g)}function Or(u,g){u.H&&te(u.H,function(_,S){Je(g,S,_)}),u.l&&ri({},function(_,S){Je(g,S,_)})}function ci(u,g,_){_=Math.min(u.i.length,_);var S=u.l?T(u.l.Na,u.l,u):null;e:{var j=u.i;let W=-1;for(;;){const ae=["count="+_];W==-1?0<_?(W=j[0].g,ae.push("ofs="+W)):W=0:ae.push("ofs="+W);let Ye=!0;for(let Rt=0;Rt<_;Rt++){let $e=j[Rt].g;const Mt=j[Rt].map;if($e-=W,0>$e)W=Math.max(0,j[Rt].g-100),Ye=!1;else try{lu(Mt,ae,"req"+$e+"_")}catch{S&&S(Mt)}}if(Ye){S=ae.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,S}function is(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Se||le(),ie||(Se(),ie=!0),ue.add(g,u),u.v=0}}function eo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Gn(T(u.Fa,u),hu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Gn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),nr(this),cu(this))};function ba(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function cu(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=En(u.qa);Je(g,"RID","rpc"),Je(g,"SID",u.K),Je(g,"AID",u.T),Je(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Je(g,"TO",u.ja),Je(g,"TYPE","xmlhttp"),Or(u,g),u.m&&u.o&&ui(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=oi(En(g)),_.m=null,_.P=!0,Aa(_,u)}n.Za=function(){this.C!=null&&(this.C=null,nr(this),eo(this),yt(19))};function to(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function no(u,g){var _=null;if(u.g==g){to(u),ba(u),u.g=null;var S=2}else if(on(u.h,g))_=g.D,tu(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var j=u.B;S=Gi(),Pt(S,new zs(S,_)),vr(u)}else is(u);else if(j=g.s,j==3||j==0&&0<g.X||!(S==1&&$h(u,g)||S==2&&eo(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),j){case 1:Fr(u,5);break;case 4:Fr(u,10);break;case 3:Fr(u,6);break;default:Fr(u,2)}}}function hu(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Fr(u,g){if(u.j.info("Error code "+g),g==2){var _=T(u.fb,u),S=u.Xa;const j=!S;S=new Nr(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ts(S,"https"),oi(S),j?Bh(S.toString(),_):au(S.toString(),_)}else yt(2);u.G=0,u.l&&u.l.sa(g),fu(u),Js(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function fu(u){if(u.G=0,u.ka=[],u.l){const g=nu(u.h);(g.length!=0||u.i.length!=0)&&(M(u.ka,g),M(u.ka,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.ra()}}function du(u,g,_){var S=_ instanceof Nr?En(_):new Nr(_);if(S.g!="")g&&(S.g=g+"."+S.g),ii(S,S.s);else{var j=f.location;S=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var W=new Nr(null);S&&ts(W,S),g&&(W.g=g),j&&ii(W,j),_&&(W.l=_),S=W}return _=u.D,g=u.ya,_&&g&&Je(S,_,g),Je(S,"VER",u.la),Or(u,S),S}function pu(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new at(new Mr({eb:_})):new at(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Na(){}n=Na.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ro(){}ro.prototype.g=function(u,g){return new an(u,g)};function an(u,g){Ct.call(this),this.g=new Da(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!q(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!q(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new _r(this)}D(an,Ct),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){$t(this.g)},an.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=ya(u),u=_);g.i.push(new Zl(g.Ya++,u)),g.G==3&&vr(g)},an.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,an.aa.N.call(this)};function mu(u){dr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}D(mu,dr);function gu(){Bs.call(this),this.status=1}D(gu,Bs);function _r(u){this.g=u}D(_r,Na),_r.prototype.ua=function(){Pt(this.g,"a")},_r.prototype.ta=function(u){Pt(this.g,new mu(u))},_r.prototype.sa=function(u){Pt(this.g,new gu)},_r.prototype.ra=function(){Pt(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,uw=function(){return new ro},lw=function(){return Gi()},aw=pr,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$s.NO_ERROR=0,$s.TIMEOUT=8,$s.HTTP_ERROR=6,Rc=$s,Ql.COMPLETE="complete",ow=Ql,js.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,al=js,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,sw=at}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});const Xv="@firebase/firestore",Jv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new J1("@firebase/firestore");function Po(){return Rs.logLevel}function he(n,...e){if(Rs.logLevel<=We.DEBUG){const t=e.map(Hp);Rs.debug(`Firestore (${sa}): ${n}`,...t)}}function Jr(n,...e){if(Rs.logLevel<=We.ERROR){const t=e.map(Hp);Rs.error(`Firestore (${sa}): ${n}`,...t)}}function Ko(n,...e){if(Rs.logLevel<=We.WARN){const t=e.map(Hp);Rs.warn(`Firestore (${sa}): ${n}`,...t)}}function Hp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,cw(n,i,t)}function cw(n,e,t){let i=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Jr(i),new Error(i)}function Qe(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||cw(e,o,i)}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ia{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}}class qC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KC{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let i=this.i;const o=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let l=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new bi,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},f=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new bi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string",31837,{l:i}),new hw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class GC{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QC{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new GC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,PC(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);const i=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Zv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Zv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=XC(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Oe(n,e){return n<e?-1:n>e?1:0}function ip(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return Oe(i,o);{const l=fw(),c=JC(l.encode(e0(n,t)),l.encode(e0(e,t)));return c!==0?c:Oe(i,o)}}t+=i>65535?2:1}return Oe(n.length,e.length)}function e0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function JC(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Oe(n[t],e[t]);return Oe(n.length,e.length)}function Go(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=-62135596800,n0=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*n0);return new Dt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<t0)throw new de(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n0}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-t0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Dt(0,0))}static max(){return new Ve(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="__name__";class xr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ae(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=xr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Oe(e.length,t.length)}static compareSegments(e,t){const i=xr.isNumericId(e),o=xr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?xr.extractNumericId(e).compare(xr.extractNumericId(t)):ip(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Di.fromString(e.substring(4,e.length-2))}}class it extends xr{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new it(t)}static emptyPath(){return new it([])}}const ZC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends xr{construct(e,t,i){return new Gt(e,t,i)}static isValidIdentifier(e){return ZC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r0}static keyField(){return new Gt([r0])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new de(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new de(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new de(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=-1;function eP(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(i===1e9?new Dt(t+1,0):new Dt(t,i));return new Mi(o,_e.empty(),e)}function tP(n){return new Mi(n.readTime,n.key,Cl)}class Mi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Mi(Ve.min(),_e.empty(),Cl)}static max(){return new Mi(Ve.max(),_e.empty(),Cl)}}function nP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==rP)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,i)=>{t(e)})}static reject(e){return new Q((t,i)=>{i(e)})}static waitFor(e){return new Q((t,i)=>{let o=0,l=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++l,c&&l===o&&t()},d=>i(d))}),c=!0,l===o&&t()})}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next(o=>o?Q.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new Q((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let d=0;d<l;d++){const m=d;t(e[m]).next(v=>{c[m]=v,++f,f===l&&i(c)},v=>o(v))}})}static doWhile(e,t){return new Q((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function sP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function aa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}vh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=-1;function _h(n){return n==null}function qc(n){return n===0&&1/n==-1/0}function oP(n){return typeof n=="number"&&Number.isInteger(n)&&!qc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="";function aP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=i0(e)),e=lP(n.get(t),e);return i0(e)}function lP(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case pw:t+="";break;default:t+=l}}return t}function i0(n){return n+pw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||Kt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}}class pc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Kt.RED,this.left=o??Kt.EMPTY,this.right=l??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Kt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new o0(this.data.getIterator())}getIteratorFrom(e){return new o0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bt(this.comparator);return t.data=e,t}}class o0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new cr([])}unionWith(e){let t=new bt(Gt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new cr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new gw("Invalid base64 string: "+l):l}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const uP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(n){if(Qe(!!n,39018),typeof n=="string"){let e=0;const t=uP.exec(n);if(Qe(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Oi(n){return typeof n=="string"?Qt.fromBase64String(n):Qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="server_timestamp",vw="__type__",_w="__previous_value__",ww="__local_write_time__";function qp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[vw])===null||t===void 0?void 0:t.stringValue)===yw}function wh(n){const e=n.mapValue.fields[_w];return qp(e)?wh(e):e}function Pl(n){const e=Li(n.mapValue.fields[ww].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t,i,o,l,c,f,d,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=v}}const Kc="(default)";class Rl{constructor(e,t){this.projectId=e,this.database=t||Kc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(e){return e instanceof Rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="__type__",hP="__max__",mc={mapValue:{}},Tw="__vector__",Gc="value";function Fi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qp(n)?4:dP(n)?9007199254740991:fP(n)?10:11:Ae(28295,{value:n})}function kr(n,e){if(n===e)return!0;const t=Fi(n);if(t!==Fi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pl(n).isEqual(Pl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Li(o.timestampValue),f=Li(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Oi(o.bytesValue).isEqual(Oi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return wt(o.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return wt(o.integerValue)===wt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=wt(o.doubleValue),f=wt(l.doubleValue);return c===f?qc(c)===qc(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return Go(n.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(s0(c)!==s0(f))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(f[d]===void 0||!kr(c[d],f[d])))return!1;return!0}(n,e);default:return Ae(52216,{left:n})}}function kl(n,e){return(n.values||[]).find(t=>kr(t,e))!==void 0}function Qo(n,e){if(n===e)return 0;const t=Fi(n),i=Fi(e);if(t!==i)return Oe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=wt(l.integerValue||l.doubleValue),d=wt(c.integerValue||c.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(n,e);case 3:return a0(n.timestampValue,e.timestampValue);case 4:return a0(Pl(n),Pl(e));case 5:return ip(n.stringValue,e.stringValue);case 6:return function(l,c){const f=Oi(l),d=Oi(c);return f.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),d=c.split("/");for(let m=0;m<f.length&&m<d.length;m++){const v=Oe(f[m],d[m]);if(v!==0)return v}return Oe(f.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Oe(wt(l.latitude),wt(c.latitude));return f!==0?f:Oe(wt(l.longitude),wt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return l0(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,d,m,v;const w=l.fields||{},T=c.fields||{},A=(f=w[Gc])===null||f===void 0?void 0:f.arrayValue,D=(d=T[Gc])===null||d===void 0?void 0:d.arrayValue,L=Oe(((m=A?.values)===null||m===void 0?void 0:m.length)||0,((v=D?.values)===null||v===void 0?void 0:v.length)||0);return L!==0?L:l0(A,D)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===mc.mapValue&&c===mc.mapValue)return 0;if(l===mc.mapValue)return 1;if(c===mc.mapValue)return-1;const f=l.fields||{},d=Object.keys(f),m=c.fields||{},v=Object.keys(m);d.sort(),v.sort();for(let w=0;w<d.length&&w<v.length;++w){const T=ip(d[w],v[w]);if(T!==0)return T;const A=Qo(f[d[w]],m[v[w]]);if(A!==0)return A}return Oe(d.length,v.length)}(n.mapValue,e.mapValue);default:throw Ae(23264,{Pe:t})}}function a0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=Li(n),i=Li(e),o=Oe(t.seconds,i.seconds);return o!==0?o:Oe(t.nanos,i.nanos)}function l0(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Qo(t[o],i[o]);if(l)return l}return Oe(t.length,i.length)}function Yo(n){return sp(n)}function sp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Li(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Oi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=sp(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${sp(t.fields[c])}`;return o+"}"}(n.mapValue):Ae(61005,{value:n})}function kc(n){switch(Fi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(n);return e?16+kc(e):16;case 5:return 2*n.stringValue.length;case 6:return Oi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+kc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Vs(i.fields,(l,c)=>{o+=l.length+kc(c)}),o}(n.mapValue);default:throw Ae(13486,{value:n})}}function u0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function op(n){return!!n&&"integerValue"in n}function Kp(n){return!!n&&"arrayValue"in n}function c0(n){return!!n&&"nullValue"in n}function h0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vc(n){return!!n&&"mapValue"in n}function fP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ew])===null||t===void 0?void 0:t.stringValue)===Tw}function ml(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ml(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ml(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===hP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Vc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ml(t)}setAll(e){let t=Gt.emptyPath(),i={},o=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const d=this.getFieldsMap(t);this.applyChanges(d,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=ml(c):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Vs(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Hn(ml(this.value))}}function Sw(n){const e=[];return Vs(n.fields,(t,i)=>{const o=new Gt([t]);if(Vc(i)){const l=Sw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new rn(e,0,Ve.min(),Ve.min(),Ve.min(),Hn.empty(),0)}static newFoundDocument(e,t,i,o){return new rn(e,1,t,Ve.min(),i,o,0)}static newNoDocument(e,t){return new rn(e,2,t,Ve.min(),Ve.min(),Hn.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Ve.min(),Ve.min(),Hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t){this.position=e,this.inclusive=t}}function f0(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(c.referenceValue),t.key):i=Qo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function d0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!kr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,t="asc"){this.field=e,this.dir=t}}function pP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{}class It extends xw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new gP(e,t,i):t==="array-contains"?new _P(e,i):t==="in"?new wP(e,i):t==="not-in"?new EP(e,i):t==="array-contains-any"?new TP(e,i):new It(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new yP(e,i):new vP(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Qo(t,this.value)):t!==null&&Fi(this.value)===Fi(t)&&this.matchesComparison(Qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends xw{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new fr(e,t)}matches(e){return Aw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Aw(n){return n.op==="and"}function Iw(n){return mP(n)&&Aw(n)}function mP(n){for(const e of n.filters)if(e instanceof fr)return!1;return!0}function ap(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+Yo(n.value);if(Iw(n))return n.filters.map(e=>ap(e)).join(",");{const e=n.filters.map(t=>ap(t)).join(",");return`${n.op}(${e})`}}function Cw(n,e){return n instanceof It?function(i,o){return o instanceof It&&i.op===o.op&&i.field.isEqual(o.field)&&kr(i.value,o.value)}(n,e):n instanceof fr?function(i,o){return o instanceof fr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,f)=>l&&Cw(c,o.filters[f]),!0):!1}(n,e):void Ae(19439)}function Pw(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${Yo(t.value)}`}(n):n instanceof fr?function(t){return t.op.toString()+" {"+t.getFilters().map(Pw).join(" ,")+"}"}(n):"Filter"}class gP extends It{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class yP extends It{constructor(e,t){super(e,"in",t),this.keys=Rw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vP extends It{constructor(e,t){super(e,"not-in",t),this.keys=Rw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Rw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>_e.fromName(i.referenceValue))}class _P extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kp(t)&&kl(t.arrayValue,this.value)}}class wP extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&kl(this.value.arrayValue,t)}}class EP extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!kl(this.value.arrayValue,t)}}class TP extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>kl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.Ie=null}}function p0(n,e=null,t=[],i=[],o=null,l=null,c=null){return new SP(n,e,t,i,o,l,c)}function Gp(n){const e=De(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>ap(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),_h(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Yo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Yo(i)).join(",")),e.Ie=t}return e.Ie}function Qp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Cw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!d0(n.startAt,e.startAt)&&d0(n.endAt,e.endAt)}function lp(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function xP(n,e,t,i,o,l,c,f){return new la(n,e,t,i,o,l,c,f)}function kw(n){return new la(n)}function m0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Vw(n){return n.collectionGroup!==null}function gl(n){const e=De(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new bt(Gt.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Vl(l,i))}),t.has(Gt.keyField().canonicalString())||e.Ee.push(new Vl(Gt.keyField(),i))}return e.Ee}function Ir(n){const e=De(n);return e.de||(e.de=AP(e,gl(n))),e.de}function AP(n,e){if(n.limitType==="F")return p0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Vl(o.field,l)});const t=n.endAt?new Qc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Qc(n.startAt.position,n.startAt.inclusive):null;return p0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function up(n,e){const t=n.filters.concat([e]);return new la(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Yc(n,e,t){return new la(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Eh(n,e){return Qp(Ir(n),Ir(e))&&n.limitType===e.limitType}function Dw(n){return`${Gp(Ir(n))}|lt:${n.limitType}`}function Ro(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Pw(o)).join(", ")}]`),_h(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Yo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Yo(o)).join(",")),`Target(${i})`}(Ir(n))}; limitType=${n.limitType})`}function Th(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of gl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,f,d){const m=f0(c,f,d);return c.inclusive?m<=0:m<0}(i.startAt,gl(i),o)||i.endAt&&!function(c,f,d){const m=f0(c,f,d);return c.inclusive?m>=0:m>0}(i.endAt,gl(i),o))}(n,e)}function IP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bw(n){return(e,t)=>{let i=!1;for(const o of gl(n)){const l=CP(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function CP(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):function(l,c,f){const d=c.data.field(l),m=f.data.field(l);return d!==null&&m!==null?Qo(d,m):Ae(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Vs(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return mw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=new ft(_e.comparator);function Zr(){return PP}const Nw=new ft(_e.comparator);function ll(...n){let e=Nw;for(const t of n)e=e.insert(t.key,t);return e}function Mw(n){let e=Nw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function xs(){return yl()}function Lw(){return yl()}function yl(){return new Ds(n=>n.toString(),(n,e)=>n.isEqual(e))}const RP=new ft(_e.comparator),kP=new bt(_e.comparator);function Be(...n){let e=kP;for(const t of n)e=e.add(t);return e}const VP=new bt(Oe);function DP(){return VP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function Ow(n){return{integerValue:""+n}}function bP(n,e){return oP(e)?Ow(e):Yp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function NP(n,e,t){return n instanceof Dl?function(o,l){const c={fields:{[vw]:{stringValue:yw},[ww]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&qp(l)&&(l=wh(l)),l&&(c.fields[_w]=l),{mapValue:c}}(t,e):n instanceof bl?jw(n,e):n instanceof Nl?Bw(n,e):function(o,l){const c=Fw(o,l),f=g0(c)+g0(o.Re);return op(c)&&op(o.Re)?Ow(f):Yp(o.serializer,f)}(n,e)}function MP(n,e,t){return n instanceof bl?jw(n,e):n instanceof Nl?Bw(n,e):t}function Fw(n,e){return n instanceof Xc?function(i){return op(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Dl extends Sh{}class bl extends Sh{constructor(e){super(),this.elements=e}}function jw(n,e){const t=zw(e);for(const i of n.elements)t.some(o=>kr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Nl extends Sh{constructor(e){super(),this.elements=e}}function Bw(n,e){let t=zw(e);for(const i of n.elements)t=t.filter(o=>!kr(o,i));return{arrayValue:{values:t}}}class Xc extends Sh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function g0(n){return wt(n.integerValue||n.doubleValue)}function zw(n){return Kp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,t){this.field=e,this.transform=t}}function OP(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof bl&&o instanceof bl||i instanceof Nl&&o instanceof Nl?Go(i.elements,o.elements,kr):i instanceof Xc&&o instanceof Xc?kr(i.Re,o.Re):i instanceof Dl&&o instanceof Dl}(n.transform,e.transform)}class FP{constructor(e,t){this.version=e,this.transformResults=t}}class Gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class xh{}function Uw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hw(n.key,Gr.none()):new zl(n.key,n.data,Gr.none());{const t=n.data,i=Hn.empty();let o=new bt(Gt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new bs(n.key,i,new cr(o.toArray()),Gr.none())}}function jP(n,e,t){n instanceof zl?function(o,l,c){const f=o.value.clone(),d=v0(o.fieldTransforms,l,c.transformResults);f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof bs?function(o,l,c){if(!Dc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=v0(o.fieldTransforms,l,c.transformResults),d=l.data;d.setAll($w(o)),d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function vl(n,e,t,i){return n instanceof zl?function(l,c,f,d){if(!Dc(l.precondition,c))return f;const m=l.value.clone(),v=_0(l.fieldTransforms,d,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof bs?function(l,c,f,d){if(!Dc(l.precondition,c))return f;const m=_0(l.fieldTransforms,d,c),v=c.data;return v.setAll($w(l)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(l,c,f){return Dc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function BP(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=Fw(i.transform,o||null);l!=null&&(t===null&&(t=Hn.empty()),t.set(i.field,l))}return t||null}function y0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Go(i,o,(l,c)=>OP(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zl extends xh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bs extends xh{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function $w(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function v0(n,e,t){const i=new Map;Qe(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,MP(c,f,t[o]))}return i}function _0(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,NP(l,c,e))}return i}class Hw extends xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zP extends xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&jP(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=vl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=vl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Lw();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const d=Uw(c,f);d!==null&&i.set(o.key,d),c.isValidDocument()||c.convertToNoDocument(Ve.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,(t,i)=>y0(t,i))&&Go(this.baseMutations,e.baseMutations,(t,i)=>y0(t,i))}}class Xp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Qe(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return RP}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Xp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $P=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,He;function WP(n){switch(n){case Y.OK:return Ae(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function Ww(n){if(n===void 0)return Jr("GRPC error has no .code"),Y.UNKNOWN;switch(n){case xt.OK:return Y.OK;case xt.CANCELLED:return Y.CANCELLED;case xt.UNKNOWN:return Y.UNKNOWN;case xt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case xt.INTERNAL:return Y.INTERNAL;case xt.UNAVAILABLE:return Y.UNAVAILABLE;case xt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case xt.NOT_FOUND:return Y.NOT_FOUND;case xt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case xt.ABORTED:return Y.ABORTED;case xt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case xt.DATA_LOSS:return Y.DATA_LOSS;default:return Ae(39323,{code:n})}}(He=xt||(xt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=new Di([4294967295,4294967295],0);function w0(n){const e=fw().encode(n),t=new iw;return t.update(e),new Uint8Array(t.digest())}function E0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Di([t,i],0),new Di([o,l],0)]}class Jp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ul(`Invalid padding: ${t}`);if(i<0)throw new ul(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ul(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ul(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Di.fromNumber(this.pe)}we(e,t,i){let o=e.add(t.multiply(Di.fromNumber(i)));return o.compare(qP)===1&&(o=new Di([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=w0(e),[i,o]=E0(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,o,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Jp(l,o,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.pe===0)return;const t=w0(e),[i,o]=E0(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Ul.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ah(Ve.min(),o,new ft(Oe),Zr(),Be())}}class Ul{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ul(i,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t,i,o){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=o}}class qw{constructor(e,t){this.targetId=e,this.Ce=t}}class Kw{constructor(e,t,i=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class T0{constructor(){this.Fe=0,this.Me=S0(),this.xe=Qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Be(),t=Be(),i=Be();return this.Me.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ae(38017,{changeType:l})}}),new Ul(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=S0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class KP{constructor(e){this.ze=e,this.je=new Map,this.He=Zr(),this.Je=gc(),this.Ye=gc(),this.Ze=new ft(Oe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,i=e.Ce.count,o=this._t(t);if(o){const l=o.target;if(lp(l))if(i===0){const c=new _e(l.path);this.tt(t,c,rn.newNoDocument(c,Ve.min()))}else Qe(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const f=this.ct(e),d=f?this.lt(f,e,c):1;if(d!==0){this.st(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=Oi(i).toUint8Array()}catch(d){if(d instanceof gw)return Ko("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new Jp(c,o,l)}catch(d){return Ko(d instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.pe===0?null:f}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,l,null),o++)}),o}It(e){const t=new Map;this.je.forEach((l,c)=>{const f=this._t(c);if(f){if(l.current&&lp(f.target)){const d=new _e(f.target.path);this.Et(d).has(c)||this.dt(c,d)||this.tt(c,d,rn.newNoDocument(d,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=Be();this.Ye.forEach((l,c)=>{let f=!0;c.forEachWhile(d=>{const m=this._t(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const o=new Ah(e,t,this.Ze,this.He,i);return this.He=Zr(),this.Je=gc(),this.Ye=gc(),this.Ze=new ft(Oe),o}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new T0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new bt(Oe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new bt(Oe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new T0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function gc(){return new ft(_e.comparator)}function S0(){return new ft(_e.comparator)}const GP={asc:"ASCENDING",desc:"DESCENDING"},QP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YP={and:"AND",or:"OR"};class XP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cp(n,e){return n.useProto3Json||_h(e)?e:{value:e}}function Jc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function JP(n,e){return Jc(n,e.toTimestamp())}function Cr(n){return Qe(!!n,49232),Ve.fromTimestamp(function(t){const i=Li(t);return new Dt(i.seconds,i.nanos)}(n))}function Zp(n,e){return hp(n,e).canonicalString()}function hp(n,e){const t=function(o){return new it(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Qw(n){const e=it.fromString(n);return Qe(eE(e),10190,{key:e.toString()}),e}function fp(n,e){return Zp(n.databaseId,e.path)}function Ad(n,e){const t=Qw(e);if(t.get(1)!==n.databaseId.projectId)throw new de(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(Xw(t))}function Yw(n,e){return Zp(n.databaseId,e)}function ZP(n){const e=Qw(n);return e.length===4?it.emptyPath():Xw(e)}function dp(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Xw(n){return Qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function x0(n,e,t){return{name:fp(n,e),fields:t.value.mapValue.fields}}function eR(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ae(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(m,v){return m.useProto3Json?(Qe(v===void 0||typeof v=="string",58123),Qt.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Qt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const v=m.code===void 0?Y.UNKNOWN:Ww(m.code);return new de(v,m.message||"")}(c);t=new Kw(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ad(n,i.document.name),l=Cr(i.document.updateTime),c=i.document.createTime?Cr(i.document.createTime):Ve.min(),f=new Hn({mapValue:{fields:i.document.fields}}),d=rn.newFoundDocument(o,l,c,f),m=i.targetIds||[],v=i.removedTargetIds||[];t=new bc(m,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Ad(n,i.document),l=i.readTime?Cr(i.readTime):Ve.min(),c=rn.newNoDocument(o,l),f=i.removedTargetIds||[];t=new bc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Ad(n,i.document),l=i.removedTargetIds||[];t=new bc([],l,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new HP(o,l),f=i.targetId;t=new qw(f,c)}}return t}function tR(n,e){let t;if(e instanceof zl)t={update:x0(n,e.key,e.value)};else if(e instanceof Hw)t={delete:fp(n,e.key)};else if(e instanceof bs)t={update:x0(n,e.key,e.data),updateMask:cR(e.fieldMask)};else{if(!(e instanceof zP))return Ae(16599,{ft:e.type});t={verify:fp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof Dl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof bl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Nl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Xc)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw Ae(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:JP(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)}(n,e.precondition)),t}function nR(n,e){return n&&n.length>0?(Qe(e!==void 0,14353),n.map(t=>function(o,l){let c=o.updateTime?Cr(o.updateTime):Cr(l);return c.isEqual(Ve.min())&&(c=Cr(l)),new FP(c,o.transformResults||[])}(t,e))):[]}function rR(n,e){return{documents:[Yw(n,e.path)]}}function iR(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Yw(n,o);const l=function(m){if(m.length!==0)return Zw(fr.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(v=>function(T){return{field:ko(T.field),direction:aR(T.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=cp(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:o}}function sR(n){let e=ZP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Qe(i===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(w){const T=Jw(w);return T instanceof fr&&Iw(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(T=>function(D){return new Vl(Vo(D.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(w){let T;return T=typeof w=="object"?w.value:w,_h(T)?null:T}(t.limit));let d=null;t.startAt&&(d=function(w){const T=!!w.before,A=w.values||[];return new Qc(A,T)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const T=!w.before,A=w.values||[];return new Qc(A,T)}(t.endAt)),xP(e,o,c,l,f,"F",d,m)}function oR(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Jw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Vo(t.unaryFilter.field);return It.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Vo(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Vo(t.unaryFilter.field);return It.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vo(t.unaryFilter.field);return It.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(n):n.fieldFilter!==void 0?function(t){return It.create(Vo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return fr.create(t.compositeFilter.filters.map(i=>Jw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(n):Ae(30097,{filter:n})}function aR(n){return GP[n]}function lR(n){return QP[n]}function uR(n){return YP[n]}function ko(n){return{fieldPath:n.canonicalString()}}function Vo(n){return Gt.fromServerFormat(n.fieldPath)}function Zw(n){return n instanceof It?function(t){if(t.op==="=="){if(h0(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NAN"}};if(c0(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(h0(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NAN"}};if(c0(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(t.field),op:lR(t.op),value:t.value}}}(n):n instanceof fr?function(t){const i=t.getFilters().map(o=>Zw(o));return i.length===1?i[0]:{compositeFilter:{op:uR(t.op),filters:i}}}(n):Ae(54877,{filter:n})}function cR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function eE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,t,i,o,l=Ve.min(),c=Ve.min(),f=Qt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.wt=e}}function fR(n){const e=sR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Yc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.Cn=new pR}addToCollectionParentIndex(e,t){return this.Cn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Mi.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class pR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new bt(it.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new bt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tE=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(tE,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Xo(0)}static lr(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="LruGarbageCollector",mR=1048576;function C0([n,e],[t,i]){const o=Oe(n,t);return o===0?Oe(e,i):o}class gR{constructor(e){this.Er=e,this.buffer=new bt(C0),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();C0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){he(I0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){aa(t)?he(I0,"Ignoring IndexedDB error during garbage collection: ",t):await oa(t)}await this.mr(3e5)})}}class vR{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(vh.le);const i=new gR(t);return this.gr.forEachTarget(e,o=>i.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>i.Rr(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(A0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A0):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,o,l,c,f,d,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,f=Date.now(),this.removeTargets(e,i,t))).next(w=>(l=w,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(m=Date.now(),Po()<=We.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(d-f)+`ms
	Removed ${w} documents in `+(m-d)+`ms
Total Duration: ${m-v}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function _R(n,e){return new vR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.changes=new Ds(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&vl(i.mutation,o,cr.empty(),Dt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Be()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Be()){const o=xs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=ll();return l.forEach((f,d)=>{c=c.insert(f,d.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=xs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Be()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,o){let l=Zr();const c=yl(),f=function(){return yl()}();return t.forEach((d,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof bs)?l=l.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),vl(v.mutation,m,v.mutation.getFieldMask(),Dt.now())):c.set(m.key,cr.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((m,v)=>c.set(m,v)),t.forEach((m,v)=>{var w;return f.set(m,new ER(v,(w=c.get(m))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,t){const i=yl();let o=new ft((c,f)=>c-f),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(d=>{const m=t.get(d);if(m===null)return;let v=i.get(d)||cr.empty();v=f.applyToLocalView(m,v),i.set(d,v);const w=(o.get(f.batchId)||Be()).add(d);o=o.insert(f.batchId,w)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),m=d.key,v=d.value,w=Lw();v.forEach(T=>{if(!l.has(T)){const A=Uw(t.get(T),i.get(T));A!==null&&w.set(T,A),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,w))}return Q.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Q.resolve(xs());let f=Cl,d=l;return c.next(m=>Q.forEach(m,(v,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(v)?Q.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{d=d.insert(v,T)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,d,m,Be())).next(v=>({batchId:f,changes:Mw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(i=>{let o=ll();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=ll();return this.indexManager.getCollectionParents(e,l).next(f=>Q.forEach(f,d=>{const m=function(w,T){return new la(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(v=>{v.forEach((w,T)=>{c=c.insert(w,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((d,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,rn.newInvalidDocument(v)))});let f=ll();return c.forEach((d,m)=>{const v=l.get(d);v!==void 0&&vl(v.mutation,m,cr.empty(),Dt.now()),Th(t,m)&&(f=f.insert(d,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Q.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Cr(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:fR(o.bundledQuery),readTime:Cr(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.overlays=new ft(_e.comparator),this.Qr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=xs();return Q.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.St(e,t,l)}),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Qr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=xs(),l=t.length+1,c=new _e(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const d=f.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>i&&o.set(d.getKey(),d)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new ft((m,v)=>m-v);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=l.get(m.largestBatchId);v===null&&(v=xs(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=xs(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return Q.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Qr.get(o.largestBatchId).delete(i.key);this.Qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new $P(t,i));let l=this.Qr.get(t);l===void 0&&(l=Be(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this.$r=new bt(jt.Ur),this.Kr=new bt(jt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new jt(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new jt(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new _e(new it([])),i=new jt(t,e),o=new jt(t,e+1),l=[];return this.Kr.forEachInRange([i,o],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new _e(new it([])),i=new jt(t,e),o=new jt(t,e+1);let l=Be();return this.Kr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new jt(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class jt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return _e.comparator(e.key,t.key)||Oe(e.Zr,t.Zr)}static Wr(e,t){return Oe(e.Zr,t.Zr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new bt(jt.Ur)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new UP(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.Xr=this.Xr.add(new jt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(c)}lookupMutationBatch(e,t){return Q.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ti(i),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Wp:this.nr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,o],c=>{const f=this.ei(c.Zr);l.push(f)}),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new bt(Oe);return t.forEach(o=>{const l=new jt(o,0),c=new jt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],f=>{i=i.add(f.Zr)})}),Q.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const c=new jt(new _e(l),0);let f=new bt(Oe);return this.Xr.forEachWhile(d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(f=f.add(d.Zr)),!0)},c),Q.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(i=>{const o=this.ei(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Qe(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return Q.forEach(t.mutations,o=>{const l=new jt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new jt(t,0),o=this.Xr.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.ii=e,this.docs=function(){return new ft(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let i=Zr();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():rn.newInvalidDocument(o))}),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Zr();const c=t.path,f=new _e(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||nP(tP(v),i)<=0||(o.has(v.key)||Th(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ae(9500)}si(e,t){return Q.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new PR(this)}getSize(e){return Q.resolve(this.size)}}class PR extends wR{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(i)}),Q.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.persistence=e,this.oi=new Ds(t=>Gp(t),Qp),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this._i=0,this.ai=new em,this.targetCount=0,this.ui=Xo.cr()}forEachTarget(e,t){return this.oi.forEach((i,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),Q.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Xo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Tr(t),Q.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.oi.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),Q.waitFor(l).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t){this.ci={},this.overlays={},this.li=new vh(0),this.hi=!1,this.hi=!0,this.Pi=new AR,this.referenceDelegate=e(this),this.Ti=new RR(this),this.indexManager=new dR,this.remoteDocumentCache=function(o){return new CR(o)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new hR(t),this.Ei=new SR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new IR(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const o=new kR(this.li.next());return this.referenceDelegate.di(),i(o).next(l=>this.referenceDelegate.Ai(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ri(e,t){return Q.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class kR extends iP{constructor(e){super(),this.currentSequenceNumber=e}}class tm{constructor(e){this.persistence=e,this.Vi=new em,this.mi=null}static fi(e){return new tm(e)}get gi(){if(this.mi)return this.mi;throw Ae(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.gi,i=>{const o=_e.fromPath(i);return this.pi(e,o).next(l=>{l||t.removeEntry(o,Ve.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Q.or([()=>Q.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Zc{constructor(e,t){this.persistence=e,this.yi=new Ds(i=>aP(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=_R(this,t)}static fi(e,t){return new Zc(e,t)}di(){}Ai(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return Q.forEach(this.yi,(i,o)=>this.Dr(e,i,o).next(l=>l?Q.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.si(e,c=>this.Dr(e,c,t).next(f=>{f||(i++,l.removeEntry(c,Ve.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Q.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kc(e.data.value)),t}Dr(e,t,i){return Q.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.ds=i,this.As=o}static Rs(e,t){let i=Be(),o=Be();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new nm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return AI()?8:sP(SI())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new VR;return this.Ss(e,t,c).next(f=>{if(l.result=f,this.fs)return this.Ds(e,t,c,f.size)})}).next(()=>l.result)}Ds(e,t,i,o){return i.documentReadCount<this.gs?(Po()<=We.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ro(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Q.resolve()):(Po()<=We.DEBUG&&he("QueryEngine","Query:",Ro(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ps*o?(Po()<=We.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ro(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(t))):Q.resolve())}ws(e,t){if(m0(t))return Q.resolve(null);let i=Ir(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Yc(t,null,"F"),i=Ir(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Be(...l);return this.ys.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(d=>{const m=this.vs(t,f);return this.Cs(t,m,c,d.readTime)?this.ws(e,Yc(t,null,"F")):this.Fs(e,m,t,d)}))})))}bs(e,t,i,o){return m0(t)||o.isEqual(Ve.min())?Q.resolve(null):this.ys.getDocuments(e,i).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,i,o)?Q.resolve(null):(Po()<=We.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ro(t)),this.Fs(e,c,t,eP(o,Cl)).next(f=>f))})}vs(e,t){let i=new bt(bw(e));return t.forEach((o,l)=>{Th(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return Po()<=We.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ro(t)),this.ys.getDocumentsMatchingQuery(e,t,Mi.min(),i)}Fs(e,t,i,o){return this.ys.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="LocalStore",bR=3e8;class NR{constructor(e,t,i,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new ft(Oe),this.Os=new Ds(l=>Gp(l),Qp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TR(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function MR(n,e,t,i){return new NR(n,e,t,i)}async function rE(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let d=Be();for(const m of o){c.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}for(const m of l){f.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}return t.localDocuments.getDocuments(i,d).next(m=>({ks:m,removedBatchIds:c,addedBatchIds:f}))})})}function LR(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,d,m,v){const w=m.batch,T=w.keys();let A=Q.resolve();return T.forEach(D=>{A=A.next(()=>v.getEntry(d,D)).next(L=>{const M=m.docVersions.get(D);Qe(M!==null,48541),L.version.compareTo(M)<0&&(w.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),v.addEntry(L)))})}),A.next(()=>f.mutationQueue.removeMutationBatch(d,w))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let d=Be();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(d=d.add(f.batch.mutations[m].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function iE(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function OR(n,e){const t=De(n),i=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const f=[];e.targetChanges.forEach((v,w)=>{const T=o.get(w);if(!T)return;f.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,w).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,w)));let A=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?A=A.withResumeToken(Qt.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),o=o.insert(w,A),function(L,M,H){return L.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=bR?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(T,A,v)&&f.push(t.Ti.updateTargetData(l,A))});let d=Zr(),m=Be();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(FR(l,c,e.documentUpdates).next(v=>{d=v.qs,m=v.Qs})),!i.isEqual(Ve.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(w=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(v)}return Q.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,d,m)).next(()=>d)}).then(l=>(t.xs=o,l))}function FR(n,e,t){let i=Be(),o=Be();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Zr();return t.forEach((f,d)=>{const m=l.get(f);d.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),d.isNoDocument()&&d.version.isEqual(Ve.min())?(e.removeEntry(f,d.readTime),c=c.insert(f,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(f,d)):he(rm,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",d.version)}),{qs:c,Qs:o}})}function jR(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Wp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function BR(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Ti.getTargetData(i,e).next(l=>l?(o=l,Q.resolve(o)):t.Ti.allocateTargetId(i).next(c=>(o=new Pi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.xs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function pp(n,e,t){const i=De(n),o=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!aa(c))throw c;he(rm,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(o.target)}function P0(n,e,t){const i=De(n);let o=Ve.min(),l=Be();return i.persistence.runTransaction("Execute query","readwrite",c=>function(d,m,v){const w=De(d),T=w.Os.get(v);return T!==void 0?Q.resolve(w.xs.get(T)):w.Ti.getTargetData(m,v)}(i,c,Ir(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,f.targetId).next(d=>{l=d})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?o:Ve.min(),t?l:Be())).next(f=>(zR(i,IP(e),f),{documents:f,$s:l})))}function zR(n,e,t){let i=n.Ns.get(e)||Ve.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class R0{constructor(){this.activeTargetIds=DP()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UR{constructor(){this.xo=new R0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new R0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="ConnectivityMonitor";class V0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){he(k0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){he(k0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc=null;function mp(){return yc===null?yc=function(){return 268435456+Math.round(2147483648*Math.random())}():yc++,"0x"+yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="RestConnection",HR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WR{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${o}`,this.Go=this.databaseId.database===Kc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}zo(e,t,i,o,l){const c=mp(),f=this.jo(e,t.toUriEncodedString());he(Id,`Sending RPC '${e}' ${c}:`,f,i);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,o,l);const{host:m}=new URL(f),v=Up(m);return this.Jo(e,f,d,i,v).then(w=>(he(Id,`Received RPC '${e}' ${c}: `,w),w),w=>{throw Ko(Id,`RPC '${e}' ${c} failed with error: `,w,"url: ",f,"request:",i),w})}Yo(e,t,i,o,l,c){return this.zo(e,t,i,o,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}jo(e,t){const i=HR[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class KR extends WR{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const c=mp();return new Promise((f,d)=>{const m=new sw;m.setWithCredentials(!0),m.listenOnce(ow.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Rc.NO_ERROR:const w=m.getResponseJson();he(en,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case Rc.TIMEOUT:he(en,`RPC '${e}' ${c} timed out`),d(new de(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const T=m.getStatus();if(he(en,`RPC '${e}' ${c} failed with status:`,T,"response text:",m.getResponseText()),T>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const L=function(H){const q=H.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(q)>=0?q:Y.UNKNOWN}(D.status);d(new de(L,D.message))}else d(new de(Y.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new de(Y.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{h_:e,streamId:c,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{he(en,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(o);he(en,`RPC '${e}' ${c} sending request:`,o),m.send(t,"POST",v,i,15)})}I_(e,t,i){const o=mp(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=uw(),f=lw(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const v=l.join("");he(en,`Creating RPC '${e}' stream ${o}: ${v}`,d);const w=c.createWebChannel(v,d);this.E_(w);let T=!1,A=!1;const D=new qR({Zo:M=>{A?he(en,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(T||(he(en,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),he(en,`RPC '${e}' stream ${o} sending:`,M),w.send(M))},Xo:()=>w.close()}),L=(M,H,q)=>{M.listen(H,K=>{try{q(K)}catch(X){setTimeout(()=>{throw X},0)}})};return L(w,al.EventType.OPEN,()=>{A||(he(en,`RPC '${e}' stream ${o} transport opened.`),D.__())}),L(w,al.EventType.CLOSE,()=>{A||(A=!0,he(en,`RPC '${e}' stream ${o} transport closed`),D.u_(),this.d_(w))}),L(w,al.EventType.ERROR,M=>{A||(A=!0,Ko(en,`RPC '${e}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),D.u_(new de(Y.UNAVAILABLE,"The operation could not be completed")))}),L(w,al.EventType.MESSAGE,M=>{var H;if(!A){const q=M.data[0];Qe(!!q,16349);const K=q,X=K?.error||((H=K[0])===null||H===void 0?void 0:H.error);if(X){he(en,`RPC '${e}' stream ${o} received error:`,X);const J=X.status;let te=function(P){const k=xt[P];if(k!==void 0)return Ww(k)}(J),I=X.message;te===void 0&&(te=Y.INTERNAL,I="Unknown error status: "+J+" with message "+X.message),A=!0,D.u_(new de(te,I)),w.close()}else he(en,`RPC '${e}' stream ${o} received:`,q),D.c_(q)}}),L(f,aw.STAT_EVENT,M=>{M.stat===rp.PROXY?he(en,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===rp.NOPROXY&&he(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.a_()},0),D}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Cd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(n){return new XP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,t,i=1e3,o=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=o,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),o=Math.max(0,t-i);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="PersistentStream";class oE{constructor(e,t,i,o,l,c,f,d){this.xi=e,this.S_=i,this.D_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new sE(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Jr(t.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.v_===t&&this.z_(i,o)},i=>{e(()=>{const o=new de(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(o)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{i(()=>this.j_(o))}),this.stream.onMessage(o=>{i(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return he(D0,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(he(D0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GR extends oE{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=eR(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?Cr(c.readTime):Ve.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=dp(this.serializer),t.addTarget=function(l,c){let f;const d=c.target;if(f=lp(d)?{documents:rR(l,d)}:{query:iR(l,d).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Gw(l,c.resumeToken);const m=cp(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ve.min())>0){f.readTime=Jc(l,c.snapshotVersion.toTimestamp());const m=cp(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=oR(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=dp(this.serializer),t.removeTarget=e,this.Q_(t)}}class QR extends oE{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=nR(e.writeResults,e.commitTime),i=Cr(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=dp(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>tR(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{}class XR extends YR{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new de(Y.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,hp(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(Y.UNKNOWN,l.toString())})}Yo(e,t,i,o,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Yo(e,hp(t,i),o,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(Y.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class JR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Jr(t),this.ua=!1):he("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class ZR{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{i.enqueueAndForget(async()=>{Ns(this)&&(he(ks,"Restarting streams for network reachability change."),await async function(d){const m=De(d);m.da.add(4),await $l(m),m.Va.set("Unknown"),m.da.delete(4),await Ch(m)}(this))})}),this.Va=new JR(i,o)}}async function Ch(n){if(Ns(n))for(const e of n.Aa)await e(!0)}async function $l(n){for(const e of n.Aa)await e(!1)}function aE(n,e){const t=De(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),am(t)?om(t):ua(t).N_()&&sm(t,e))}function im(n,e){const t=De(n),i=ua(t);t.Ea.delete(e),i.N_()&&lE(t,e),t.Ea.size===0&&(i.N_()?i.k_():Ns(t)&&t.Va.set("Unknown"))}function sm(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ua(n).Z_(e)}function lE(n,e){n.ma.Ke(e),ua(n).X_(e)}function om(n){n.ma=new KP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),ua(n).start(),n.Va.ca()}function am(n){return Ns(n)&&!ua(n).O_()&&n.Ea.size>0}function Ns(n){return De(n).da.size===0}function uE(n){n.ma=void 0}async function e2(n){n.Va.set("Online")}async function t2(n){n.Ea.forEach((e,t)=>{sm(n,e)})}async function n2(n,e){uE(n),am(n)?(n.Va.Pa(e),om(n)):n.Va.set("Unknown")}async function r2(n,e,t){if(n.Va.set("Online"),e instanceof Kw&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const f of l.targetIds)o.Ea.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ea.delete(f),o.ma.removeTarget(f))}(n,e)}catch(i){he(ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await eh(n,i)}else if(e instanceof bc?n.ma.Xe(e):e instanceof qw?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Ve.min()))try{const i=await iE(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.ma.It(c);return f.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const v=l.Ea.get(m);v&&l.Ea.set(m,v.withResumeToken(d.resumeToken,c))}}),f.targetMismatches.forEach((d,m)=>{const v=l.Ea.get(d);if(!v)return;l.Ea.set(d,v.withResumeToken(Qt.EMPTY_BYTE_STRING,v.snapshotVersion)),lE(l,d);const w=new Pi(v.target,d,m,v.sequenceNumber);sm(l,w)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){he(ks,"Failed to raise snapshot:",i),await eh(n,i)}}async function eh(n,e,t){if(!aa(e))throw e;n.da.add(1),await $l(n),n.Va.set("Offline"),t||(t=()=>iE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(ks,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Ch(n)})}function cE(n,e){return e().catch(t=>eh(n,t,e))}async function Ph(n){const e=De(n),t=ji(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Wp;for(;i2(e);)try{const o=await jR(e.localStore,i);if(o===null){e.Ia.length===0&&t.k_();break}i=o.batchId,s2(e,o)}catch(o){await eh(e,o)}hE(e)&&fE(e)}function i2(n){return Ns(n)&&n.Ia.length<10}function s2(n,e){n.Ia.push(e);const t=ji(n);t.N_()&&t.ea&&t.ta(e.mutations)}function hE(n){return Ns(n)&&!ji(n).O_()&&n.Ia.length>0}function fE(n){ji(n).start()}async function o2(n){ji(n).ia()}async function a2(n){const e=ji(n);for(const t of n.Ia)e.ta(t.mutations)}async function l2(n,e,t){const i=n.Ia.shift(),o=Xp.from(i,e,t);await cE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Ph(n)}async function u2(n,e){e&&ji(n).ea&&await async function(i,o){if(function(c){return WP(c)&&c!==Y.ABORTED}(o.code)){const l=i.Ia.shift();ji(i).L_(),await cE(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Ph(i)}}(n,e),hE(n)&&fE(n)}async function b0(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),he(ks,"RemoteStore received new credentials");const i=Ns(t);t.da.add(3),await $l(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Ch(t)}async function c2(n,e){const t=De(n);e?(t.da.delete(2),await Ch(t)):e||(t.da.add(2),await $l(t),t.Va.set("Unknown"))}function ua(n){return n.fa||(n.fa=function(t,i,o){const l=De(t);return l.oa(),new GR(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{e_:e2.bind(null,n),n_:t2.bind(null,n),i_:n2.bind(null,n),Y_:r2.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),am(n)?om(n):n.Va.set("Unknown")):(await n.fa.stop(),uE(n))})),n.fa}function ji(n){return n.ga||(n.ga=function(t,i,o){const l=De(t);return l.oa(),new QR(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:o2.bind(null,n),i_:u2.bind(null,n),na:a2.bind(null,n),ra:l2.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Ph(n)):(await n.ga.stop(),n.Ia.length>0&&(he(ks,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new lm(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function um(n,e){if(Jr("AsyncQueue",`${e}: ${n}`),aa(n))return new de(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=ll(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new jo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.pa=new ft(_e.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Jo{constructor(e,t,i,o,l,c,f,d,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Jo(e,t,jo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class f2{constructor(){this.queries=M0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=De(t),l=o.queries;o.queries=M0(),l.forEach((c,f)=>{for(const d of f.Sa)d.onError(i)})})(this,new de(Y.ABORTED,"Firestore shutting down"))}}function M0(){return new Ds(n=>Dw(n),Eh)}async function d2(n,e){const t=De(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Da()&&e.va()&&(i=2):(l=new h2,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(o,!0);break;case 1:l.ba=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=um(c,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&cm(t)}async function p2(n,e){const t=De(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.va()?0:1:!l.Da()&&e.va()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function m2(n,e){const t=De(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Ma(o)&&(i=!0);c.ba=o}}i&&cm(t)}function g2(n,e,t){const i=De(n),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function cm(n){n.Ca.forEach(e=>{e.next()})}var gp,L0;(L0=gp||(gp={})).xa="default",L0.Cache="cache";class y2{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Jo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.key=e}}class pE{constructor(e){this.key=e}}class v2{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.Za=bw(e),this.Xa=new jo(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new N0,o=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const T=o.get(v),A=Th(this.query,w)?w:null,D=!!T&&this.mutatedKeys.has(T.key),L=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;T&&A?T.data.isEqual(A.data)?D!==L&&(i.track({type:3,doc:A}),M=!0):this.ru(T,A)||(i.track({type:2,doc:A}),M=!0,(d&&this.Za(A,d)>0||m&&this.Za(A,m)<0)&&(f=!0)):!T&&A?(i.track({type:0,doc:A}),M=!0):T&&!A&&(i.track({type:1,doc:T}),M=!0,(d||m)&&(f=!0)),M&&(A?(c=c.add(A),l=L?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Xa:c,nu:i,Cs:f,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((v,w)=>function(A,D){const L=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:M})}};return L(A)-L(D)}(v.type,w.type)||this.Za(v.doc,w.doc)),this.iu(i),o=o!=null&&o;const f=t&&!o?this.su():[],d=this.Ya.size===0&&this.current&&!o?1:0,m=d!==this.Ja;return this.Ja=d,c.length!==0||m?{snapshot:new Jo(this.query,e.Xa,l,c,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new N0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new pE(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new dE(i))}),t}au(e){this.Ha=e.$s,this.Ya=Be();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Jo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const hm="SyncEngine";class _2{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class w2{constructor(e){this.key=e,this.cu=!1}}class E2{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Ds(f=>Dw(f),Eh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ft(_e.comparator),this.Eu=new Map,this.du=new em,this.Au={},this.Ru=new Map,this.Vu=Xo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function T2(n,e,t=!0){const i=wE(n);let o;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.uu()):o=await mE(i,e,t,!0),o}async function S2(n,e){const t=wE(n);await mE(t,e,!0,!1)}async function mE(n,e,t,i){const o=await BR(n.localStore,Ir(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await x2(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&aE(n.remoteStore,o),f}async function x2(n,e,t,i,o){n.fu=(w,T,A)=>async function(L,M,H,q){let K=M.view.tu(H);K.Cs&&(K=await P0(L.localStore,M.query,!1).then(({documents:I})=>M.view.tu(I,K)));const X=q&&q.targetChanges.get(M.targetId),J=q&&q.targetMismatches.get(M.targetId)!=null,te=M.view.applyChanges(K,L.isPrimaryClient,X,J);return F0(L,M.targetId,te.ou),te.snapshot}(n,w,T,A);const l=await P0(n.localStore,e,!0),c=new v2(e,l.$s),f=c.tu(l.documents),d=Ul.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=c.applyChanges(f,n.isPrimaryClient,d);F0(n,t,m.ou);const v=new _2(e,t,c);return n.hu.set(e,v),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),m.snapshot}async function A2(n,e,t){const i=De(n),o=i.hu.get(e),l=i.Pu.get(o.targetId);if(l.length>1)return i.Pu.set(o.targetId,l.filter(c=>!Eh(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&im(i.remoteStore,o.targetId),yp(i,o.targetId)}).catch(oa)):(yp(i,o.targetId),await pp(i.localStore,o.targetId,!0))}async function I2(n,e){const t=De(n),i=t.hu.get(e),o=t.Pu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),im(t.remoteStore,i.targetId))}async function C2(n,e,t){const i=N2(n);try{const o=await function(c,f){const d=De(c),m=Dt.now(),v=f.reduce((A,D)=>A.add(D.key),Be());let w,T;return d.persistence.runTransaction("Locally write mutations","readwrite",A=>{let D=Zr(),L=Be();return d.Bs.getEntries(A,v).next(M=>{D=M,D.forEach((H,q)=>{q.isValidDocument()||(L=L.add(H))})}).next(()=>d.localDocuments.getOverlayedDocuments(A,D)).next(M=>{w=M;const H=[];for(const q of f){const K=BP(q,w.get(q.key).overlayedDocument);K!=null&&H.push(new bs(q.key,K,Sw(K.value.mapValue),Gr.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,H,f)}).next(M=>{T=M;const H=M.applyToLocalDocumentSet(w,L);return d.documentOverlayCache.saveOverlays(A,M.batchId,H)})}).then(()=>({batchId:T.batchId,changes:Mw(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,f,d){let m=c.Au[c.currentUser.toKey()];m||(m=new ft(Oe)),m=m.insert(f,d),c.Au[c.currentUser.toKey()]=m}(i,o.batchId,t),await Hl(i,o.changes),await Ph(i.remoteStore)}catch(o){const l=um(o,"Failed to persist write");t.reject(l)}}async function gE(n,e){const t=De(n);try{const i=await OR(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Eu.get(l);c&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.cu=!0:o.modifiedDocuments.size>0?Qe(c.cu,14607):o.removedDocuments.size>0&&(Qe(c.cu,42227),c.cu=!1))}),await Hl(t,i,e)}catch(i){await oa(i)}}function O0(n,e,t){const i=De(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.hu.forEach((l,c)=>{const f=c.view.Fa(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const d=De(c);d.onlineState=f;let m=!1;d.queries.forEach((v,w)=>{for(const T of w.Sa)T.Fa(f)&&(m=!0)}),m&&cm(d)}(i.eventManager,e),o.length&&i.lu.Y_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function P2(n,e,t){const i=De(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Eu.get(e),l=o&&o.key;if(l){let c=new ft(_e.comparator);c=c.insert(l,rn.newNoDocument(l,Ve.min()));const f=Be().add(l),d=new Ah(Ve.min(),new Map,new ft(Oe),c,f);await gE(i,d),i.Iu=i.Iu.remove(l),i.Eu.delete(e),fm(i)}else await pp(i.localStore,e,!1).then(()=>yp(i,e,t)).catch(oa)}async function R2(n,e){const t=De(n),i=e.batch.batchId;try{const o=await LR(t.localStore,e);vE(t,i,null),yE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Hl(t,o)}catch(o){await oa(o)}}async function k2(n,e,t){const i=De(n);try{const o=await function(c,f){const d=De(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return d.mutationQueue.lookupMutationBatch(m,f).next(w=>(Qe(w!==null,37113),v=w.keys(),d.mutationQueue.removeMutationBatch(m,w))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>d.localDocuments.getDocuments(m,v))})}(i.localStore,e);vE(i,e,t),yE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Hl(i,o)}catch(o){await oa(o)}}function yE(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function vE(n,e,t){const i=De(n);let o=i.Au[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Au[i.currentUser.toKey()]=o}}function yp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||_E(n,i)})}function _E(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(im(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),fm(n))}function F0(n,e,t){for(const i of t)i instanceof dE?(n.du.addReference(i.key,e),V2(n,i)):i instanceof pE?(he(hm,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||_E(n,i.key)):Ae(19791,{pu:i})}function V2(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(he(hm,"New document in limbo: "+t),n.Tu.add(i),fm(n))}function fm(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new _e(it.fromString(e)),i=n.Vu.next();n.Eu.set(i,new w2(t)),n.Iu=n.Iu.insert(t,i),aE(n.remoteStore,new Pi(Ir(kw(t.path)),i,"TargetPurposeLimboResolution",vh.le))}}async function Hl(n,e,t){const i=De(n),o=[],l=[],c=[];i.hu.isEmpty()||(i.hu.forEach((f,d)=>{c.push(i.fu(d,e,t).then(m=>{var v;if((m||t)&&i.isPrimaryClient){const w=m?!m.fromCache:(v=t?.targetChanges.get(d.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(d.targetId,w?"current":"not-current")}if(m){o.push(m);const w=nm.Rs(d.targetId,m);l.push(w)}}))}),await Promise.all(c),i.lu.Y_(o),await async function(d,m){const v=De(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Q.forEach(m,T=>Q.forEach(T.ds,A=>v.persistence.referenceDelegate.addReference(w,T.targetId,A)).next(()=>Q.forEach(T.As,A=>v.persistence.referenceDelegate.removeReference(w,T.targetId,A)))))}catch(w){if(!aa(w))throw w;he(rm,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const A=v.xs.get(T),D=A.snapshotVersion,L=A.withLastLimboFreeSnapshotVersion(D);v.xs=v.xs.insert(T,L)}}}(i.localStore,l))}async function D2(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){he(hm,"User change. New user:",e.toKey());const i=await rE(t.localStore,e);t.currentUser=e,function(l,c){l.Ru.forEach(f=>{f.forEach(d=>{d.reject(new de(Y.CANCELLED,c))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Hl(t,i.ks)}}function b2(n,e){const t=De(n),i=t.Eu.get(e);if(i&&i.cu)return Be().add(i.key);{let o=Be();const l=t.Pu.get(e);if(!l)return o;for(const c of l){const f=t.hu.get(c);o=o.unionWith(f.view.eu)}return o}}function wE(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P2.bind(null,e),e.lu.Y_=m2.bind(null,e.eventManager),e.lu.gu=g2.bind(null,e.eventManager),e}function N2(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k2.bind(null,e),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return MR(this.persistence,new DR,e.initialUser,this.serializer)}Su(e){return new nE(tm.fi,this.serializer)}bu(e){return new UR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class M2 extends th{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Qe(this.persistence.referenceDelegate instanceof Zc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new yR(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new nE(i=>Zc.fi(i,t),this.serializer)}}class vp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>O0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=D2.bind(null,this.syncEngine),await c2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new f2}()}createDatastore(e){const t=Ih(e.databaseInfo.databaseId),i=function(l){return new KR(l)}(e.databaseInfo);return function(l,c,f,d){return new XR(l,c,f,d)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,f){return new ZR(i,o,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>O0(this.syncEngine,t,0),function(){return V0.C()?new V0:new $R}())}createSyncEngine(e,t){return function(o,l,c,f,d,m,v){const w=new E2(o,l,c,f,d,m);return v&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=De(o);he(ks,"RemoteStore shutting down."),l.da.add(5),await $l(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vp.provider={build:()=>new vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="FirestoreClient";class O2{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=dw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{he(Bi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(he(Bi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=um(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Pd(n,e){n.asyncQueue.verifyOperationInProgress(),he(Bi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await rE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function j0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await F2(n);he(Bi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>b0(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>b0(e.remoteStore,o)),n._onlineComponents=e}async function F2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Bi,"Using user provided OfflineComponentProvider");try{await Pd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ko("Error using user provided cache. Falling back to memory cache: "+t),await Pd(n,new th)}}else he(Bi,"Using default OfflineComponentProvider"),await Pd(n,new M2(void 0));return n._offlineComponents}async function EE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Bi,"Using user provided OnlineComponentProvider"),await j0(n,n._uninitializedComponentsProvider._online)):(he(Bi,"Using default OnlineComponentProvider"),await j0(n,new vp))),n._onlineComponents}function j2(n){return EE(n).then(e=>e.syncEngine)}async function B2(n){const e=await EE(n),t=e.eventManager;return t.onListen=T2.bind(null,e.syncEngine),t.onUnlisten=A2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=S2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=I2.bind(null,e.syncEngine),t}function z2(n,e,t={}){const i=new bi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,d,m){const v=new L2({next:T=>{v.xu(),c.enqueueAndForget(()=>p2(l,w)),T.fromCache&&d.source==="server"?m.reject(new de(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new y2(f,v,{includeMetadataChanges:!0,Qa:!0});return d2(l,w)}(await B2(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(n,e,t){if(!t)throw new de(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function U2(n,e,t,i){if(e===!0&&i===!0)throw new de(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function z0(n){if(!_e.isDocumentKey(n))throw new de(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function U0(n){if(_e.isDocumentKey(n))throw new de(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Rh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function nh(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rh(n);throw new de(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $2(n,e){if(e<=0)throw new de(Y.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="firestore.googleapis.com",$0=!0;class H0{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new de(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xE,this.ssl=$0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:$0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mR)throw new de(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new WC;switch(i.type){case"firstParty":return new QC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=B0.get(t);i&&(he("ComponentProvider","Removing Datastore"),B0.delete(t),i.terminate())}(this),Promise.resolve()}}function H2(n,e,t,i={}){var o;n=nh(n,kh);const l=Up(e),c=n._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l&&(vI(`https://${d}`),TI("Firestore",!0)),c.host!==xE&&c.host!==d&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:d,ssl:l,emulatorOptions:i});if(!$c(m,f)&&(n._setSettings(m),i.mockUserToken)){let v,w;if(typeof i.mockUserToken=="string")v=i.mockUserToken,w=nn.MOCK_USER;else{v=_I(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new de(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new nn(T)}n._authCredentials=new qC(new hw(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class Wn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Ni extends $i{constructor(e,t,i){super(e,t,kw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new _e(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function Rd(n,e,...t){if(n=qo(n),SE("collection","path",e),n instanceof kh){const i=it.fromString(e,...t);return U0(i),new Ni(n,null,i)}{if(!(n instanceof Wn||n instanceof Ni))throw new de(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return U0(i),new Ni(n.firestore,null,i)}}function W2(n,e,...t){if(n=qo(n),arguments.length===1&&(e=dw.newId()),SE("doc","path",e),n instanceof kh){const i=it.fromString(e,...t);return z0(i),new Wn(n,null,new _e(i))}{if(!(n instanceof Wn||n instanceof Ni))throw new de(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return z0(i),new Wn(n.firestore,n instanceof Ni?n.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="AsyncQueue";class q0{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new sE(this,"async_queue_retry"),this.rc=()=>{const i=Cd();i&&he(W0,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Cd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Cd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new bi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!aa(e))throw e;he(W0,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Jr("INTERNAL UNHANDLED ERROR: ",K0(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const o=lm.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(o),o}oc(){this.Xu&&Ae(47125,{cc:K0(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function K0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class dm extends kh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new q0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q0(e),this._firestoreClient=void 0,await e}}}function q2(n,e){const t=typeof n=="object"?n:DC(),i=typeof n=="string"?n:Kc,o=CC(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=gI("firestore");l&&H2(o,...l)}return o}function AE(n){if(n._terminated)throw new de(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||K2(n),n._firestoreClient}function K2(n){var e,t,i;const o=n._freezeSettings(),l=function(f,d,m,v){return new cP(f,d,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,TE(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new O2(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const d=f?._online.build();return{_offline:f?._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(Qt.fromBase64String(e))}catch(t){throw new de(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zo(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=/^__.*__$/;class Q2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new zl(e,this.data,t,this.fieldTransforms)}}function IE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ic:n})}}class vm{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:i,Rc:!1});return o.Vc(e),o}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:i,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return rh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(IE(this.Ic)&&G2.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Y2{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ih(e)}bc(e,t,i,o=!1){return new vm({Ic:e,methodName:t,wc:i,path:Gt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CE(n){const e=n._freezeSettings(),t=Ih(n._databaseId);return new Y2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function X2(n,e,t,i,o,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,e,t,o);kE("Data must be an object, but it was:",c,i);const f=PE(i,c);let d,m;if(l.merge)d=new cr(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const T=Z2(e,w,t);if(!c.contains(T))throw new de(Y.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);tk(v,T)||v.push(T)}d=new cr(v),m=c.fieldTransforms.filter(w=>d.covers(w.field))}else d=null,m=c.fieldTransforms;return new Q2(new Hn(f),d,m)}class _m extends mm{_toFieldTransform(e){return new LP(e.path,new Dl)}isEqual(e){return e instanceof _m}}function J2(n,e,t,i=!1){return wm(t,n.bc(i?4:3,e))}function wm(n,e){if(RE(n=qo(n)))return kE("Unsupported field value:",e,n),PE(n,e);if(n instanceof mm)return function(i,o){if(!IE(o.Ic))throw o.gc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const f of i){let d=wm(f,o.fc(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=qo(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return bP(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Dt.fromDate(i);return{timestampValue:Jc(o.serializer,l)}}if(i instanceof Dt){const l=new Dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Jc(o.serializer,l)}}if(i instanceof gm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zo)return{bytesValue:Gw(o.serializer,i._byteString)};if(i instanceof Wn){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Zp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof ym)return function(c,f){return{mapValue:{fields:{[Ew]:{stringValue:Tw},[Gc]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.gc("VectorValues must only contain numeric values.");return Yp(f.serializer,m)})}}}}}}(i,o);throw o.gc(`Unsupported field value: ${Rh(i)}`)}(n,e)}function PE(n,e){const t={};return mw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vs(n,(i,o)=>{const l=wm(o,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function RE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Dt||n instanceof gm||n instanceof Zo||n instanceof Wn||n instanceof mm||n instanceof ym)}function kE(n,e,t){if(!RE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Rh(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function Z2(n,e,t){if((e=qo(e))instanceof pm)return e._internalPath;if(typeof e=="string")return VE(n,e);throw rh("Field path arguments must be of type string or ",n,!1,void 0,t)}const ek=new RegExp("[~\\*/\\[\\]]");function VE(n,e,t){if(e.search(ek)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pm(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rh(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${i}`),c&&(d+=` in document ${o}`),d+=")"),new de(Y.INVALID_ARGUMENT,f+n+d)}function tk(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Em("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class nk extends DE{data(){return super.data()}}function Em(n,e){return typeof e=="string"?VE(n,e):e instanceof pm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tm{}class Sm extends Tm{}function G0(n,e,...t){let i=[];e instanceof Tm&&i.push(e),i=i.concat(t),function(l){const c=l.filter(d=>d instanceof Am).length,f=l.filter(d=>d instanceof xm).length;if(c>1||c>0&&f>0)throw new de(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class xm extends Sm{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new xm(e,t,i)}_apply(e){const t=this._parse(e);return bE(e._query,t),new $i(e.firestore,e.converter,up(e._query,t))}_parse(e){const t=CE(e.firestore);return function(l,c,f,d,m,v,w){let T;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){J0(w,v);const D=[];for(const L of w)D.push(X0(d,l,L));T={arrayValue:{values:D}}}else T=X0(d,l,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||J0(w,v),T=J2(f,c,w,v==="in"||v==="not-in");return It.create(m,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Am extends Tm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Am(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:fr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const f=l.getFlattenedFilters();for(const d of f)bE(c,d),c=up(c,d)}(e._query,t),new $i(e.firestore,e.converter,up(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Im extends Sm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Im(e,t)}_apply(e){const t=function(o,l,c){if(o.startAt!==null)throw new de(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vl(l,c)}(e._query,this._field,this._direction);return new $i(e.firestore,e.converter,function(o,l){const c=o.explicitOrderBy.concat([l]);return new la(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Q0(n,e="asc"){const t=e,i=Em("orderBy",n);return Im._create(i,t)}class Cm extends Sm{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Cm(e,t,i)}_apply(e){return new $i(e.firestore,e.converter,Yc(e._query,this._limit,this._limitType))}}function Y0(n){return $2("limit",n),Cm._create("limit",n,"F")}function X0(n,e,t){if(typeof(t=qo(t))=="string"){if(t==="")throw new de(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vw(e)&&t.indexOf("/")!==-1)throw new de(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(it.fromString(t));if(!_e.isDocumentKey(i))throw new de(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return u0(n,new _e(i))}if(t instanceof Wn)return u0(n,t._key);throw new de(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(t)}.`)}function J0(n,e){if(!Array.isArray(n)||n.length===0)throw new de(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bE(n,e){const t=function(o,l){for(const c of o)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ik{convertValue(e,t="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Vs(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Gc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>wt(c.doubleValue));return new ym(l)}convertGeoPoint(e){return new gm(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=wh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const t=Li(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);Qe(eE(i),9688,{name:e});const o=new Rl(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return o.isEqual(t)||Jr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ok extends DE{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Em("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Nc extends ok{data(e={}){return super.data(e)}}class ak{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new vc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Nc(this._firestore,this._userDataWriter,i.key,i,new vc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const d=new Nc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new vc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const d=new Nc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new vc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:lk(f.type),doc:d,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}class uk extends ik{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function Z0(n){n=nh(n,$i);const e=nh(n.firestore,dm),t=AE(e),i=new uk(e);return rk(n._query),z2(t,n._query).then(o=>new ak(e,i,n,o))}function ck(n,e){const t=nh(n.firestore,dm),i=W2(n),o=sk(n.converter,e);return hk(t,[X2(CE(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Gr.exists(!1))]).then(()=>i)}function hk(n,e){return function(i,o){const l=new bi;return i.asyncQueue.enqueueAndForget(async()=>C2(await j2(i),o,l)),l.promise}(AE(n),e)}function fk(){return new _m("serverTimestamp")}(function(e,t=!0){(function(o){sa=o})(VC),Wc(new Al("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new dm(new KC(i.getProvider("auth-internal")),new YC(c,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new de(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(m.options.projectId,v)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Fo(Xv,Jv,e),Fo(Xv,Jv,"esm2017")})();const dk={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Mc={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:"G-XFYD9QX8LN"},pk=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID"],e_=pk.filter(n=>!dk[n]);let t_,Bo;if(e_.length>0)console.error(" Firebase:",e_),console.error("GitHub Secrets.env"),Bo=null;else try{t_=tw(Mc),Bo=q2(t_),console.log(" Firebase")}catch(n){console.error(" Firebase:",n),Bo=null}console.log(" ChatService Firebase:",{projectId:Mc.projectId||"",authDomain:Mc.authDomain||"",apiKey:Mc.apiKey?"":"",dbInitialized:!!Bo,hasEnvVars:{apiKey:!1,authDomain:!1,projectId:!1,storageBucket:!1,messagingSenderId:!1,appId:!1}});class mk{constructor(){this.db=null,this.isInitialized=!1,this.isOnline=!0,this.offlineMessages=[],this.initialize()}async initialize(){if(console.log(" ChatService..."),Bo?(this.db=Bo,console.log(" Firebase")):(console.log(" "),this.db=null),!this.db){console.error(" Firebase"),console.error(""),console.error("1. GitHub Secrets"),console.error("2. "),this.isOnline=!1,this.isInitialized=!0;return}try{await this.testConnection(),this.isInitialized=!0,this.isOnline=!0,console.log(" ChatService")}catch(e){console.error(" ChatService:",e),this.isOnline=!1,this.isInitialized=!0,console.log(" ")}}async testConnection(){console.log(" Firebase...");try{const e=G0(Rd(this.db,"chat_messages"),Q0("timestamp","desc"),Y0(1)),t=await Z0(e);return console.log(" Firebase"),!0}catch(e){throw console.error(" Firebase:",e),e.code==="permission-denied"?console.error("  - Firestore"):e.code==="unauthenticated"?console.error("  - API"):e.code==="unavailable"?console.error("  - "):console.error(" :",e.message),e}}async sendMessage(e){if(console.log(" :",e),this.isInitialized||(console.log(" ..."),await this.waitForInitialization()),!this.isOnline||!this.db)return console.log("  - "),this.offlineMessages.push(e),{success:!0,offline:!0};try{const t={...e,timestamp:fk(),createdAt:new Date().toISOString()};console.log(" Firestore:",t);const i=await ck(Rd(this.db,"chat_messages"),t);return console.log(" , ID:",i.id),{success:!0,id:i.id}}catch(t){if(console.error(" :",t),t.code==="unavailable"||t.message.includes("fetch"))return console.log(" "),this.isOnline=!1,this.offlineMessages.push(e),{success:!0,offline:!0};throw t}}async getMessages(e=50){if(console.log(" ..."),this.isInitialized||await this.waitForInitialization(),!this.isOnline||!this.db)return console.log("  - "),this.offlineMessages;try{const t=G0(Rd(this.db,"chat_messages"),Q0("timestamp","desc"),Y0(e)),i=await Z0(t),o=[];return i.forEach(l=>{o.push({id:l.id,...l.data()})}),console.log(` ${o.length}`),o.reverse()}catch(t){if(console.error(" :",t),t.code==="unavailable")return this.isOnline=!1,this.offlineMessages;throw t}}async waitForInitialization(e=5e3){const t=Date.now();for(;!this.isInitialized&&Date.now()-t<e;)await new Promise(i=>setTimeout(i,100));if(!this.isInitialized)throw new Error("ChatService")}cleanup(){console.log(" ChatService...")}getStatus(){return{initialized:this.isInitialized,online:this.isOnline,offlineMessages:this.offlineMessages.length}}}const kd=new mk,gk=CA`
  0% {
    opacity: 0;
    transform: scale(0.95);
    filter: blur(5px);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: blur(0px);
  }
`,yk=we.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  margin: 0;
  padding: 0;
  border: none;
  outline: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: white;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  z-index: 1000;
  overflow: hidden;
  animation: ${gk} 0.8s ease-out;
  
  /*  -  */
  &::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    z-index: -2;
    transform: scale(1.1);
    transform-origin: center center;
  }
  
  /*  */
  &::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-image: inherit;
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    z-index: -1;
    transform: scale(1.1);
    transform-origin: center center;
    transition: background-image 2s ease-in-out;
  }
`,vk=we.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.3);
  z-index: 1;
`,_k=we.div`
  position: relative;
  z-index: 2;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 40px;
  width: 90%;
  max-width: 1200px;
  height: 80%;
`,wk=we.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
`,Ek=we.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-left: 60px;
`,Tk=we.div`
  display: flex;
  align-items: center;
  margin-bottom: 40px;
  
  .dynamic-clock {
    width: 60px;
    height: 60px;
    border: 3px solid white;
    border-radius: 50%;
    margin-right: 15px;
    position: relative;
    background: rgba(255, 255, 255, 0.1);
    
    /* 12 */
    .hour-mark {
      position: absolute;
      width: 1.5px;
      height: 6px;
      background: rgba(255, 255, 255, 0.8);
      top: 3px;
      left: 50%;
      transform-origin: 50% 27px;
      transform: translateX(-50%);
      border-radius: 1px;
      
      &:nth-child(1) { transform: translateX(-50%) rotate(0deg); }
      &:nth-child(2) { transform: translateX(-50%) rotate(30deg); }
      &:nth-child(3) { transform: translateX(-50%) rotate(60deg); }
      &:nth-child(4) { transform: translateX(-50%) rotate(90deg); }
      &:nth-child(5) { transform: translateX(-50%) rotate(120deg); }
      &:nth-child(6) { transform: translateX(-50%) rotate(150deg); }
      &:nth-child(7) { transform: translateX(-50%) rotate(180deg); }
      &:nth-child(8) { transform: translateX(-50%) rotate(210deg); }
      &:nth-child(9) { transform: translateX(-50%) rotate(240deg); }
      &:nth-child(10) { transform: translateX(-50%) rotate(270deg); }
      &:nth-child(11) { transform: translateX(-50%) rotate(300deg); }
      &:nth-child(12) { transform: translateX(-50%) rotate(330deg); }
      
      /* 12, 3, 6, 9 */
      &:nth-child(1), &:nth-child(4), &:nth-child(7), &:nth-child(10) {
        width: 2.5px;
        height: 10px;
        background: white;
        top: 2px;
      }
    }
    
    /*  */
    &::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 4px;
      height: 4px;
      background: white;
      border-radius: 50%;
      transform: translate(-50%, -50%);
      z-index: 3;
    }
    
    .hour-hand {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 2px;
      height: 16px;
      background: white;
      transform-origin: bottom center;
      transform: translate(-50%, -100%);
      border-radius: 1px;
      z-index: 2;
    }
    
    .minute-hand {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 2px;
      height: 22px;
      background: white;
      transform-origin: bottom center;
      transform: translate(-50%, -100%);
      border-radius: 0.5px;
      z-index: 2;
    }
    
    .second-hand {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0.5px;
      height: 24px;
      background: #ff4444;
      transform-origin: bottom center;
      transform: translate(-50%, -100%);
      border-radius: 0.25px;
      z-index: 3;
      transition: transform 0.1s ease-out;
    }
  }
  
  .logo-text {
    font-size: 2.5rem;
    font-weight: 300;
    font-style: italic;
  }
`,Sk=we.div`
  background: rgba(0, 0, 0, 0.4);
  padding: 30px;
  border-radius: 10px;
  margin-bottom: 30px;
  width: 500px;
  
  .quote-text {
    font-size: 1.1rem;
    line-height: 1.6;
    margin-bottom: 10px;
  }
  
  .quote-author {
    font-size: 0.9rem;
    opacity: 0.8;
    text-align: right;
  }
`,xk=we.div`
  background: rgba(0, 0, 0, 0.4);
  padding: 30px;
  border-radius: 15px;
  text-align: center;
  margin-bottom: 30px;
  width: 400px;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:hover {
    background: rgba(0, 0, 0, 0.5);
    transform: translateY(-2px);
  }
  
  .date {
    font-size: 1rem;
    opacity: 0.8;
    margin-bottom: 10px;
  }
  
  .time {
    font-size: 3rem;
    font-weight: 300;
    margin-bottom: 15px;
    font-family: 'Courier New', monospace;
  }
  
  .weather {
    font-size: 1.1rem;
    opacity: 0.9;
  }
`,Ak=we.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  width: 350px;
`,Co=we.div`
  background: rgba(0, 0, 0, 0.4);
  padding: 20px;
  border-radius: 10px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:hover {
    background: rgba(0, 0, 0, 0.5);
    transform: translateY(-2px);
  }
  
  .icon {
    font-size: 1.5rem;
    margin-bottom: 8px;
  }
  
  .label {
    font-size: 0.9rem;
  }
`,Ik=we.button`
  position: absolute;
  top: 20px;
  left: 20px;
  background: rgba(0, 0, 0, 0.4);
  border: none;
  color: white;
  padding: 8px 16px;
  border-radius: 20px;
  cursor: pointer;
  font-size: 0.9rem;
  z-index: 3;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 6px;
  
  &:hover {
    background: rgba(0, 0, 0, 0.6);
    transform: translateX(-2px);
  }
`,Ck=we.div`
  position: absolute;
  top: 20px;
  right: 20px;
  background: rgba(0, 0, 0, 0.4);
  padding: 10px 15px;
  border-radius: 20px;
  font-size: 0.9rem;
  z-index: 3;
  
  .status-dot {
    display: inline-block;
    width: 8px;
    height: 8px;
    background: #4CAF50;
    border-radius: 50%;
    margin-right: 8px;
  }
`,Pk=we.div`
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 0.8rem;
  opacity: 0.7;
  z-index: 3;
`,Rk=we.div`
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  border-radius: 15px;
  padding: 12px 16px;
  margin-top: 0px;
  width: 525px;
  
  .music-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: 4px;
    
    .nav-btn {
      width: 26px;
      height: 26px;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      font-size: 0.7rem;
      flex-shrink: 0;
      
      &:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: scale(1.1);
      }
    }
    
    .music-info {
      display: flex;
      align-items: center;
      gap: 8px;
      justify-content: center;
      min-width: 0;
      flex: 1;
      
      .song-title {
        font-size: 0.9rem;
        font-weight: 500;
        color: white;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 140px;
      }
      
      .separator {
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.8rem;
        flex-shrink: 0;
      }
      
      .song-artist {
        font-size: 0.8rem;
        color: rgba(255, 255, 255, 0.7);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 80px;
      }
      
      .time-separator {
        color: rgba(255, 255, 255, 0.4);
        font-size: 0.7rem;
        flex-shrink: 0;
        margin: 0 4px;
      }
      
      .time-display {
        font-size: 0.7rem;
        color: rgba(255, 255, 255, 0.6);
        font-family: 'Courier New', monospace;
        flex-shrink: 0;
      }
    }
  }
  
  .music-controls-row {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 8px;
    
    .play-controls {
      display: flex;
      align-items: center;
      gap: 6px;
      flex-shrink: 0;
      
      .control-btn {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        width: 26px;
        height: 26px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        font-size: 0.75rem;
        
        &:hover {
          background: rgba(255, 255, 255, 0.3);
          transform: scale(1.1);
        }
        
        &.play-btn {
          background: linear-gradient(135deg, #667eea, #764ba2);
          
          &:hover {
            background: linear-gradient(135deg, #5a6fd8, #6a4190);
          }
        }
      }
    }
    
    .progress-wrapper {
      flex: 1;
      min-width: 0;
    }
  }
  
  .progress-container {
    .progress-bar {
      width: 100%;
      height: 4px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 2px;
      cursor: pointer;
      position: relative;
      transition: all 0.3s ease;
      
      &:hover {
        height: 6px;
        background: rgba(255, 255, 255, 0.3);
      }
      
      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #667eea, #764ba2);
        border-radius: 2px;
        transition: width 0.1s ease;
        position: relative;
        
        &::after {
          content: '';
          position: absolute;
          right: -1px;
          top: 50%;
          width: 8px;
          height: 8px;
          background: white;
          border-radius: 50%;
          transform: translateY(-50%);
          opacity: 0;
          transition: opacity 0.3s ease;
          box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }
      }
      
      &:hover .progress-fill::after {
        opacity: 1;
      }
    }
  }
`,kk=we.div`
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  border-radius: 15px;
  padding: 16px;
  margin-top: 20px;
  width: 525px;
  
  .message-input-container {
    display: flex;
    gap: 8px;
    align-items: center;
    
    .message-input {
      flex: 1;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      padding: 8px 16px;
      color: white;
      font-size: 0.9rem;
      outline: none;
      transition: all 0.3s ease;
      
      &::placeholder {
        color: rgba(255, 255, 255, 0.5);
      }
      
      &:focus {
        background: rgba(255, 255, 255, 0.15);
        border-color: rgba(255, 255, 255, 0.4);
      }
    }
    
    .send-btn {
      background: linear-gradient(135deg, #667eea, #764ba2);
      border: none;
      color: white;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      font-size: 0.9rem;
      
      &:hover {
        background: linear-gradient(135deg, #5a6fd8, #6a4190);
        transform: scale(1.1);
      }
      
      &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
      }
    }
  }
  
  .message-stats {
    margin-top: 8px;
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.6);
    text-align: center;
  }
`,Vk=we.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
  z-index: 1000;
  overflow: hidden;
`,Dk=we.div`
  position: absolute;
  color: rgba(255, 255, 255, 0.8);
  font-size: 0.9rem;
  font-weight: 400;
  white-space: nowrap;
  animation: danmaku-move 30s linear infinite;
  background: ${n=>n.color||"rgba(0, 0, 0, 0.4)"};
  padding: 8px 16px;
  border-radius: 18px;
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.05);
  top: ${n=>n.top}%;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  gap: 6px;
  opacity: 0.7;
  
  @keyframes danmaku-move {
    from {
      transform: translateX(100vw);
    }
    to {
      transform: translateX(-100%);
    }
  }
`,_c=["/Life/Background/1.png","/Life/Background/2.png","/Life/Background/3.png","/Life/Background/4.png","/Life/Background/5.png","/Life/Background/6.png","/Life/Background/7.png","/Life/Background/8.png","/Life/Background/9.png","/Life/Background/10.png","/Life/Background/11.png"],Ai=[{title:"Pachelbel's Canon",artist:"Classical",file:"pachelbelx27s-canon-canon-in-d-307320.mp3"},{title:"Pure Theta Piano",artist:"Meditation",file:"pure-theta-4-7hz-with-emotional-piano-music-351393.mp3"},{title:"Relaxing Birds & Piano",artist:"Nature Sounds",file:"relaxing-birds-and-piano-music-137153.mp3"},{title:"Celestial Prayer",artist:"Meditation",file:"celestial-prayer-heavenly-meditation-peaceful-music-353893.mp3"},{title:"Forest Melody",artist:"Nature Sounds",file:"forest-melody-background-music-for-meditation-and-yoga-314446.mp3"},{title:"Path to Harmony",artist:"Peaceful",file:"path-to-harmony-313385.mp3"},{title:"Inner Peace",artist:"Meditation",file:"inner-peace-339640.mp3"}];function bk({onClose:n}){const[e,t]=se.useState(new Date),[i,o]=se.useState(0),[l,c]=se.useState({temperature:"--",condition:"Loading",windDirection:"--",windSpeed:"--",loading:!0,location:"Guangzhou"}),f=se.useRef(null),[d,m]=se.useState(!1),[v,w]=se.useState(0),[T,A]=se.useState(0),[D,L]=se.useState(0),[M,H]=se.useState(""),[q,K]=se.useState([]),[X,J]=se.useState([]),[te,I]=se.useState(0),[x,P]=se.useState([]),[k,b]=se.useState([]),F=async()=>{try{console.log(" ...");const re=await fetch("https://wttr.in/Guangzhou?format=j1",{method:"GET",headers:{Accept:"application/json"}});if(re.ok){const pe=await re.json();console.log(" :",pe);const Ie=pe.current_condition[0];return{temperature:Ie.temp_C,condition:Xe(Ie.weatherDesc[0].value),windDirection:Ie.winddir16Point,windSpeed:Ie.windspeedKmph,loading:!1,location:"Guangzhou",description:Ie.weatherDesc[0].value+" ()",humidity:Ie.humidity,pressure:Ie.pressure,realTime:!0}}throw new Error("API")}catch(re){return console.log(" API:",re.message),null}},R=async()=>{try{c(Kn=>({...Kn,loading:!0})),console.log(" ...");const re=await F();if(re){c(re);return}console.log(" ...");const pe=new Date,Ie=pe.getHours(),Ce=pe.getMonth()+1;let Ue,Et;Ce>=12||Ce<=2?(Ue=18+Math.sin((Ie-6)*Math.PI/12)*4,Et=["Clear","Partly Cloudy"]):Ce>=3&&Ce<=5?(Ue=24+Math.sin((Ie-6)*Math.PI/12)*5,Et=["Partly Cloudy","Cloudy"]):Ce>=6&&Ce<=8?(Ue=30+Math.sin((Ie-6)*Math.PI/12)*4,Et=["Sunny","Partly Cloudy"]):(Ue=26+Math.sin((Ie-6)*Math.PI/12)*4,Et=["Clear","Sunny"]);const Vn={temperature:Math.round(Ue).toString(),condition:Et[Math.floor(Math.random()*Et.length)],windDirection:["SE","E","NE"][Math.floor(Math.random()*3)],windSpeed:(8+Math.floor(Math.random()*8)).toString(),loading:!1,location:"Guangzhou",description:"",realTime:!1};c(Vn),console.log(" :",Vn)}catch(re){console.error(" :",re),c({temperature:"25",condition:"Partly Cloudy",windDirection:"SE",windSpeed:"10",loading:!1,location:"Guangzhou",description:"",realTime:!1})}},Xe=re=>{const pe=re.toLowerCase();return pe.includes("sunny")||pe.includes("clear")?"Sunny":pe.includes("partly cloudy")||pe.includes("few clouds")?"Partly Cloudy":pe.includes("cloud")||pe.includes("overcast")?"Cloudy":pe.includes("rain")||pe.includes("shower")||pe.includes("drizzle")?"Rain":pe.includes("snow")||pe.includes("blizzard")?"Snow":pe.includes("fog")||pe.includes("mist")||pe.includes("haze")?"Fog":"Partly Cloudy"},dt=async()=>{const re=M.trim();if(console.log(" :",re),!re){console.log(" ");return}H(""),ue(re);try{console.log(" Firebase...");const pe={text:re,anonymous:!0,anonymousName:pt()},Ie=await kd.sendMessage(pe);console.log(" :",Ie);const Ce=await kd.getMessages();P(Ce),I(Ce.length),console.log(" :",Ce.length)}catch(pe){console.error(" :",pe),I(Ce=>{const Ue=Ce+1;return console.log(" :",Ue),Ue});const Ie={id:"local_"+Date.now(),text:re,anonymousName:pt(),offline:!0};b(Ce=>{const Ue=[...Ce,Ie].slice(-20);return console.log(" :",Ue.length),Ue}),console.log(" ")}},pt=()=>{const re=["Mysterious","Happy","Wise","Brave","Gentle","Lively","Quiet","Friendly"],pe=["Traveler","Explorer","Dreamer","Thinker","Creator","Observer","Learner","Adventurer"],Ie=re[Math.floor(Math.random()*re.length)],Ce=pe[Math.floor(Math.random()*pe.length)],Ue=Math.floor(Math.random()*999)+1;return`${Ie} ${Ce} ${Ue}`},Se=()=>{const re=["rgba(102, 126, 234, 0.9)","rgba(118, 75, 162, 0.9)","rgba(255, 107, 107, 0.9)","rgba(78, 205, 196, 0.9)","rgba(255, 195, 113, 0.9)","rgba(199, 121, 208, 0.9)"];return re[Math.floor(Math.random()*re.length)]},ie=()=>{const re=["","","","","","","","","","","","","","","","","","","",""],pe=["","","","","","","","","","","","","","","","","","","",""],Ie=Math.random()<.7?re[Math.floor(Math.random()*re.length)]:"",Ce=Math.random()<.7?pe[Math.floor(Math.random()*pe.length)]:"";return{prefixIcon:Ie,suffixIcon:Ce}},ue=re=>{const{prefixIcon:pe,suffixIcon:Ie}=ie(),Ce=`${pe} ${re} ${Ie}`.trim(),Ue={id:Date.now()+Math.random(),text:Ce,top:Math.random()*60+10,color:Se()};J(Et=>[...Et,Ue]),setTimeout(()=>{J(Et=>Et.filter(Vn=>Vn.id!==Ue.id))},3e4)},le=re=>{re.key==="Enter"&&dt()};se.useEffect(()=>{console.log(" Life");const re=setInterval(()=>{t(new Date)},1e3);R();const pe=setInterval(R,600*1e3);return(async()=>{try{const Ce=await kd.getMessages();P(Ce),I(Ce.length);const Ue=Ce.filter(Et=>(Et.text||Et.message||"").trim()).slice(0,20);b(Ue),console.log(" Firebase:",Ce.length,":",Ue.length,"")}catch(Ce){console.error(" Firebase:",Ce)}})(),()=>{console.log("Life"),clearInterval(re),clearInterval(pe)}},[]),se.useEffect(()=>{if(k.length===0)return;const pe=setInterval(()=>{if(X.length<20&&k.length>0)for(let Ie=0;Ie<1;Ie++){const Ce=k[Math.floor(Math.random()*k.length)],Ue=Ce.text||Ce.message||"";Ue.trim()&&ue(Ue)}},1e3);return()=>clearInterval(pe)},[k,X]),se.useEffect(()=>{const re=Math.floor(Math.random()*_c.length);o(re);const pe=setInterval(()=>{o(Ie=>{let Ce;do Ce=Math.floor(Math.random()*_c.length);while(Ce===Ie&&_c.length>1);return Ce})},6e4);return()=>clearInterval(pe)},[]),se.useEffect(()=>{const re=f.current;if(!re)return;const pe=()=>L(re.currentTime),Ie=()=>A(re.duration),Ce=()=>{const Ue=Math.floor(Math.random()*Ai.length);w(Ue)};return re.addEventListener("timeupdate",pe),re.addEventListener("loadedmetadata",Ie),re.addEventListener("ended",Ce),()=>{re.removeEventListener("timeupdate",pe),re.removeEventListener("loadedmetadata",Ie),re.removeEventListener("ended",Ce)}},[v]),se.useEffect(()=>{const re=f.current;re&&d&&(re.load(),re.play().then(()=>{m(!0)}).catch(pe=>{console.log(":",pe),m(!1)}))},[v]),se.useEffect(()=>{const re=f.current;if(re){const pe=Math.floor(Math.random()*Ai.length);w(pe),setTimeout(()=>{re.play().then(()=>{m(!0)}).catch(Ie=>{console.log(":",Ie)})},500)}},[]);const O=()=>{const re=f.current;d?(re.pause(),m(!1)):(re.play(),m(!0))},G=()=>{const re=Math.floor(Math.random()*Ai.length);w(re)},ye=()=>{const re=(v+1)%Ai.length;w(re)},Re=()=>{const re=v===0?Ai.length-1:v-1;w(re)},ke=()=>{G()},be=re=>{const pe=f.current,Ie=re.currentTarget.getBoundingClientRect(),Ue=(re.clientX-Ie.left)/Ie.width*T;pe.currentTime=Ue},Me=re=>{if(isNaN(re))return"0:00";const pe=Math.floor(re/60),Ie=Math.floor(re%60);return`${pe}:${Ie.toString().padStart(2,"0")}`},Le=re=>{try{return re.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(pe){return console.error(":",pe),"00:00:00"}},je=()=>{const re={year:"numeric",month:"long",day:"numeric",weekday:"long"};return e.toLocaleDateString("en-US",re)},ot=re=>({Sunny:"",Clear:"","Partly Cloudy":"",Cloudy:"",Rain:"",Snow:"",Fog:""})[re]||"",Nt=re=>{const pe=re.getHours()%12,Ie=re.getMinutes(),Ce=re.getSeconds(),Ue=Ce*6,Et=Ie*6+Ce*.1;return{hourAngle:pe*30+Ie*.5,minuteAngle:Et,secondAngle:Ue}},zt=()=>{console.log(""),n&&typeof n=="function"&&n()};return $.jsxs(yk,{style:{backgroundImage:`url(${_c[i]})`},children:[$.jsx(vk,{}),$.jsx(Ik,{onClick:zt,children:" Leave"}),$.jsxs(Ck,{children:[$.jsx("span",{className:"status-dot"}),"Status: Live"]}),$.jsxs(_k,{children:[$.jsxs(wk,{children:[$.jsxs(Tk,{children:[$.jsxs("div",{className:"dynamic-clock",children:[Array.from({length:12},(re,pe)=>$.jsx("div",{className:"hour-mark"},pe)),$.jsx("div",{className:"hour-hand",style:{transform:`translate(-50%, -100%) rotate(${Nt(e).hourAngle}deg)`}}),$.jsx("div",{className:"minute-hand",style:{transform:`translate(-50%, -100%) rotate(${Nt(e).minuteAngle}deg)`}}),$.jsx("div",{className:"second-hand",style:{transform:`translate(-50%, -100%) rotate(${Nt(e).secondAngle}deg)`}})]}),$.jsx("div",{className:"logo-text",children:"Hehai.Space"})]}),$.jsxs(Sk,{children:[$.jsx("div",{className:"quote-text",children:'"To see the world, things dangerous to come to, to see behind walls, to draw closer, to find each other, and to feel. That is the purpose of life."'}),$.jsx("div",{className:"quote-author",children:"- The Secret Life of Walter Mitty"})]}),$.jsxs(Rk,{children:[$.jsx("audio",{ref:f,src:`/Life/Musics/${Ai[v].file}`,preload:"metadata"}),$.jsxs("div",{className:"music-controls-row",children:[$.jsxs("div",{className:"play-controls",children:[$.jsx("button",{className:"control-btn play-btn",onClick:O,children:d?"":""}),$.jsx("button",{className:"control-btn",onClick:ke,title:"Shuffle",children:""})]}),$.jsx("div",{className:"progress-wrapper",children:$.jsx("div",{className:"progress-container",children:$.jsx("div",{className:"progress-bar",onClick:be,children:$.jsx("div",{className:"progress-fill",style:{width:`${T?D/T*100:0}%`}})})})})]}),$.jsxs("div",{className:"music-footer",children:[$.jsx("button",{className:"nav-btn",onClick:Re,title:"Previous Song",children:""}),$.jsxs("div",{className:"music-info",children:[$.jsx("div",{className:"song-title",children:Ai[v].title}),$.jsx("div",{className:"separator",children:"-"}),$.jsx("div",{className:"song-artist",children:Ai[v].artist}),$.jsx("div",{className:"time-separator",children:""}),$.jsxs("div",{className:"time-display",children:[Me(D)," / ",Me(T)]})]}),$.jsx("button",{className:"nav-btn",onClick:ye,title:"Next Song",children:""})]})]}),$.jsxs(kk,{children:[$.jsxs("div",{className:"message-input-container",children:[$.jsx("input",{type:"text",className:"message-input",placeholder:"Leave your footprint...",value:M,onChange:re=>H(re.target.value),onKeyPress:le,maxLength:100}),$.jsx("button",{className:"send-btn",onClick:dt,disabled:!M.trim(),title:"Send Message",children:""})]}),$.jsxs("div",{className:"message-stats",children:[te," messages in database  Random danmaku stream"]})]})]}),$.jsxs(Ek,{children:[$.jsxs(xk,{title:"Weather info",children:[$.jsx("div",{className:"date",children:je()}),$.jsx("div",{className:"time",children:Le(e)}),$.jsx("div",{className:"weather",children:l.loading?" Loading weather data...":l.temperature==="--"?" Failed to get weather data":`${ot(l.condition)} ${l.location} ${l.condition} ${l.temperature}  ${l.windDirection} ${l.windSpeed}km/h`})]}),$.jsxs(Ak,{children:[$.jsxs(Co,{children:[$.jsx("div",{className:"icon",children:""}),$.jsx("div",{className:"label",children:"Research Notes"})]}),$.jsxs(Co,{children:[$.jsx("div",{className:"icon",children:""}),$.jsx("div",{className:"label",children:"Message Board"})]}),$.jsxs(Co,{children:[$.jsx("div",{className:"icon",children:""}),$.jsx("div",{className:"label",children:"Music"})]}),$.jsxs(Co,{children:[$.jsx("div",{className:"icon",children:""}),$.jsx("div",{className:"label",children:"Photo"})]}),$.jsxs(Co,{children:[$.jsx("div",{className:"icon",children:""}),$.jsx("div",{className:"label",children:"Homepage"})]}),$.jsxs(Co,{children:[$.jsx("div",{className:"icon",children:""}),$.jsx("div",{className:"label",children:"Data Viz"})]})]})]})]}),$.jsx(Pk,{children:"Made by Kangyu YUAN & with the help of @cursor"}),$.jsx(Vk,{children:X.map(re=>$.jsx(Dk,{top:re.top,color:re.color,children:re.text},re.id))})]})}const Pm=se.createContext({});function Rm(n){const e=se.useRef(null);return e.current===null&&(e.current=n()),e.current}const Vh=se.createContext(null),km=se.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class Nk extends se.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Mk({children:n,isPresent:e}){const t=se.useId(),i=se.useRef(null),o=se.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=se.useContext(km);return se.useInsertionEffect(()=>{const{width:c,height:f,top:d,left:m}=o.current;if(e||!i.current||!c||!f)return;i.current.dataset.motionPopId=t;const v=document.createElement("style");return l&&(v.nonce=l),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${f}px !important;
            top: ${d}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),$.jsx(Nk,{isPresent:e,childRef:i,sizeRef:o,children:se.cloneElement(n,{ref:i})})}const Lk=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:c})=>{const f=Rm(Ok),d=se.useId(),m=se.useCallback(w=>{f.set(w,!0);for(const T of f.values())if(!T)return;i&&i()},[f,i]),v=se.useMemo(()=>({id:d,initial:e,isPresent:t,custom:o,onExitComplete:m,register:w=>(f.set(w,!1),()=>f.delete(w))}),l?[Math.random(),m]:[t,m]);return se.useMemo(()=>{f.forEach((w,T)=>f.set(T,!1))},[t]),se.useEffect(()=>{!t&&!f.size&&i&&i()},[t]),c==="popLayout"&&(n=$.jsx(Mk,{isPresent:t,children:n})),$.jsx(Vh.Provider,{value:v,children:n})};function Ok(){return new Map}function NE(n=!0){const e=se.useContext(Vh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:o}=e,l=se.useId();se.useEffect(()=>{n&&o(l)},[n]);const c=se.useCallback(()=>n&&i&&i(l),[l,i,n]);return!t&&i?[!1,c]:[!0]}const wc=n=>n.key||"";function n_(n){const e=[];return se.Children.forEach(n,t=>{se.isValidElement(t)&&e.push(t)}),e}const Vm=typeof window<"u",ME=Vm?se.useLayoutEffect:se.useEffect,Fk=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1})=>{const[f,d]=NE(c),m=se.useMemo(()=>n_(n),[n]),v=c&&!f?[]:m.map(wc),w=se.useRef(!0),T=se.useRef(m),A=Rm(()=>new Map),[D,L]=se.useState(m),[M,H]=se.useState(m);ME(()=>{w.current=!1,T.current=m;for(let X=0;X<M.length;X++){const J=wc(M[X]);v.includes(J)?A.delete(J):A.get(J)!==!0&&A.set(J,!1)}},[M,v.length,v.join("-")]);const q=[];if(m!==D){let X=[...m];for(let J=0;J<M.length;J++){const te=M[J],I=wc(te);v.includes(I)||(X.splice(J,0,te),q.push(te))}l==="wait"&&q.length&&(X=q),H(n_(X)),L(m);return}const{forceRender:K}=se.useContext(Pm);return $.jsx($.Fragment,{children:M.map(X=>{const J=wc(X),te=c&&!f?!1:m===M||v.includes(J),I=()=>{if(A.has(J))A.set(J,!0);else return;let x=!0;A.forEach(P=>{P||(x=!1)}),x&&(K?.(),H(T.current),c&&d?.(),i&&i())};return $.jsx(Lk,{isPresent:te,initial:!w.current||t?void 0:!1,custom:te?void 0:e,presenceAffectsLayout:o,mode:l,onExitComplete:te?void 0:I,children:X},J)})})},Rn=n=>n;let LE=Rn;function Dm(n){let e;return()=>(e===void 0&&(e=n()),e)}const ea=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Qr=n=>n*1e3,Yr=n=>n/1e3,jk={useManualTiming:!1};function Bk(n){let e=new Set,t=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(m){l.has(m)&&(d.schedule(m),n()),m(c)}const d={schedule:(m,v=!1,w=!1)=>{const A=w&&i?e:t;return v&&l.add(m),A.has(m)||A.add(m),m},cancel:m=>{t.delete(m),l.delete(m)},process:m=>{if(c=m,i){o=!0;return}i=!0,[e,t]=[t,e],e.forEach(f),e.clear(),i=!1,o&&(o=!1,d.process(m))}};return d}const Ec=["read","resolveKeyframes","update","preRender","render","postRender"],zk=40;function OE(n,e){let t=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,c=Ec.reduce((H,q)=>(H[q]=Bk(l),H),{}),{read:f,resolveKeyframes:d,update:m,preRender:v,render:w,postRender:T}=c,A=()=>{const H=performance.now();t=!1,o.delta=i?1e3/60:Math.max(Math.min(H-o.timestamp,zk),1),o.timestamp=H,o.isProcessing=!0,f.process(o),d.process(o),m.process(o),v.process(o),w.process(o),T.process(o),o.isProcessing=!1,t&&e&&(i=!1,n(A))},D=()=>{t=!0,i=!0,o.isProcessing||n(A)};return{schedule:Ec.reduce((H,q)=>{const K=c[q];return H[q]=(X,J=!1,te=!1)=>(t||D(),K.schedule(X,J,te)),H},{}),cancel:H=>{for(let q=0;q<Ec.length;q++)c[Ec[q]].cancel(H)},state:o,steps:c}}const{schedule:st,cancel:zi,state:qt,steps:Vd}=OE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rn,!0),FE=se.createContext({strict:!1}),r_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ta={};for(const n in r_)ta[n]={isEnabled:e=>r_[n].some(t=>!!e[t])};function Uk(n){for(const e in n)ta[e]={...ta[e],...n[e]}}const $k=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ih(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||$k.has(n)}let jE=n=>!ih(n);function Hk(n){n&&(jE=e=>e.startsWith("on")?!ih(e):n(e))}try{Hk(require("@emotion/is-prop-valid").default)}catch{}function Wk(n,e,t){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(jE(o)||t===!0&&ih(o)||!e&&!ih(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}function qk(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const Dh=se.createContext({});function Ml(n){return typeof n=="string"||Array.isArray(n)}function bh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const bm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Nm=["initial",...bm];function Nh(n){return bh(n.animate)||Nm.some(e=>Ml(n[e]))}function BE(n){return!!(Nh(n)||n.variants)}function Kk(n,e){if(Nh(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Ml(t)?t:void 0,animate:Ml(i)?i:void 0}}return n.inherit!==!1?e:{}}function Gk(n){const{initial:e,animate:t}=Kk(n,se.useContext(Dh));return se.useMemo(()=>({initial:e,animate:t}),[i_(e),i_(t)])}function i_(n){return Array.isArray(n)?n.join(" "):n}const Qk=Symbol.for("motionComponentSymbol");function bo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Yk(n,e,t){return se.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):bo(t)&&(t.current=i))},[e])}const Mm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Xk="framerAppearId",zE="data-"+Mm(Xk),{schedule:Lm}=OE(queueMicrotask,!1),UE=se.createContext({});function Jk(n,e,t,i,o){var l,c;const{visualElement:f}=se.useContext(Dh),d=se.useContext(FE),m=se.useContext(Vh),v=se.useContext(km).reducedMotion,w=se.useRef(null);i=i||d.renderer,!w.current&&i&&(w.current=i(n,{visualState:e,parent:f,props:t,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v}));const T=w.current,A=se.useContext(UE);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&Zk(w.current,t,o,A);const D=se.useRef(!1);se.useInsertionEffect(()=>{T&&D.current&&T.update(t,m)});const L=t[zE],M=se.useRef(!!L&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,L))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,L)));return ME(()=>{T&&(D.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),Lm.render(T.render),M.current&&T.animationState&&T.animationState.animateChanges())}),se.useEffect(()=>{T&&(!M.current&&T.animationState&&T.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var H;(H=window.MotionHandoffMarkAsComplete)===null||H===void 0||H.call(window,L)}),M.current=!1))}),T}function Zk(n,e,t,i){const{layoutId:o,layout:l,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:$E(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||f&&bo(f),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:m})}function $E(n){if(n)return n.options.allowProjection!==!1?n.projection:$E(n.parent)}function eV({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:o}){var l,c;n&&Uk(n);function f(m,v){let w;const T={...se.useContext(km),...m,layoutId:tV(m)},{isStatic:A}=T,D=Gk(m),L=i(m,A);if(!A&&Vm){nV();const M=rV(T);w=M.MeasureLayout,D.visualElement=Jk(o,L,T,e,M.ProjectionNode)}return $.jsxs(Dh.Provider,{value:D,children:[w&&D.visualElement?$.jsx(w,{visualElement:D.visualElement,...T}):null,t(o,m,Yk(L,D.visualElement,v),L,A,D.visualElement)]})}f.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const d=se.forwardRef(f);return d[Qk]=o,d}function tV({layoutId:n}){const e=se.useContext(Pm).id;return e&&n!==void 0?e+"-"+n:n}function nV(n,e){se.useContext(FE).strict}function rV(n){const{drag:e,layout:t}=ta;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const iV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Om(n){return typeof n!="string"||n.includes("-")?!1:!!(iV.indexOf(n)>-1||/[A-Z]/u.test(n))}function s_(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Fm(n,e,t,i){if(typeof e=="function"){const[o,l]=s_(i);e=e(t!==void 0?t:n.custom,o,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,l]=s_(i);e=e(t!==void 0?t:n.custom,o,l)}return e}const _p=n=>Array.isArray(n),sV=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),oV=n=>_p(n)?n[n.length-1]||0:n,sn=n=>!!(n&&n.getVelocity);function Lc(n){const e=sn(n)?n.get():n;return sV(e)?e.toValue():e}function aV({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,o,l){const c={latestValues:lV(i,o,l,n),renderState:e()};return t&&(c.onMount=f=>t({props:i,current:f,...c}),c.onUpdate=f=>t(f)),c}const HE=n=>(e,t)=>{const i=se.useContext(Dh),o=se.useContext(Vh),l=()=>aV(n,e,i,o);return t?l():Rm(l)};function lV(n,e,t,i){const o={},l=i(n,{});for(const T in l)o[T]=Lc(l[T]);let{initial:c,animate:f}=n;const d=Nh(n),m=BE(n);e&&m&&!d&&n.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let v=t?t.initial===!1:!1;v=v||c===!1;const w=v?f:c;if(w&&typeof w!="boolean"&&!bh(w)){const T=Array.isArray(w)?w:[w];for(let A=0;A<T.length;A++){const D=Fm(n,T[A]);if(D){const{transitionEnd:L,transition:M,...H}=D;for(const q in H){let K=H[q];if(Array.isArray(K)){const X=v?K.length-1:0;K=K[X]}K!==null&&(o[q]=K)}for(const q in L)o[q]=L[q]}}}return o}const ca=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ms=new Set(ca),WE=n=>e=>typeof e=="string"&&e.startsWith(n),qE=WE("--"),uV=WE("var(--"),jm=n=>uV(n)?cV.test(n.split("/*")[0].trim()):!1,cV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,KE=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ei=(n,e,t)=>t>e?e:t<n?n:t,ha={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ll={...ha,transform:n=>ei(0,1,n)},Tc={...ha,default:1},Wl=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ci=Wl("deg"),Pr=Wl("%"),xe=Wl("px"),hV=Wl("vh"),fV=Wl("vw"),o_={...Pr,parse:n=>Pr.parse(n)/100,transform:n=>Pr.transform(n*100)},dV={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe},pV={rotate:Ci,rotateX:Ci,rotateY:Ci,rotateZ:Ci,scale:Tc,scaleX:Tc,scaleY:Tc,scaleZ:Tc,skew:Ci,skewX:Ci,skewY:Ci,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Ll,originX:o_,originY:o_,originZ:xe},a_={...ha,transform:Math.round},Bm={...dV,...pV,zIndex:a_,size:xe,fillOpacity:Ll,strokeOpacity:Ll,numOctaves:a_},mV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gV=ca.length;function yV(n,e,t){let i="",o=!0;for(let l=0;l<gV;l++){const c=ca[l],f=n[c];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(c.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||t){const m=KE(f,Bm[c]);if(!d){o=!1;const v=mV[c]||c;i+=`${v}(${m}) `}t&&(e[c]=m)}}return i=i.trim(),t?i=t(e,o?"":i):o&&(i="none"),i}function zm(n,e,t){const{style:i,vars:o,transformOrigin:l}=n;let c=!1,f=!1;for(const d in e){const m=e[d];if(Ms.has(d)){c=!0;continue}else if(qE(d)){o[d]=m;continue}else{const v=KE(m,Bm[d]);d.startsWith("origin")?(f=!0,l[d]=v):i[d]=v}}if(e.transform||(c||t?i.transform=yV(e,n.transform,t):i.transform&&(i.transform="none")),f){const{originX:d="50%",originY:m="50%",originZ:v=0}=l;i.transformOrigin=`${d} ${m} ${v}`}}const vV={offset:"stroke-dashoffset",array:"stroke-dasharray"},_V={offset:"strokeDashoffset",array:"strokeDasharray"};function wV(n,e,t=1,i=0,o=!0){n.pathLength=1;const l=o?vV:_V;n[l.offset]=xe.transform(-i);const c=xe.transform(e),f=xe.transform(t);n[l.array]=`${c} ${f}`}function l_(n,e,t){return typeof n=="string"?n:xe.transform(e+t*n)}function EV(n,e,t){const i=l_(e,n.x,n.width),o=l_(t,n.y,n.height);return`${i} ${o}`}function Um(n,{attrX:e,attrY:t,attrScale:i,originX:o,originY:l,pathLength:c,pathSpacing:f=1,pathOffset:d=0,...m},v,w){if(zm(n,m,w),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:A,dimensions:D}=n;T.transform&&(D&&(A.transform=T.transform),delete T.transform),D&&(o!==void 0||l!==void 0||A.transform)&&(A.transformOrigin=EV(D,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(T.x=e),t!==void 0&&(T.y=t),i!==void 0&&(T.scale=i),c!==void 0&&wV(T,c,f,d,!1)}const $m=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),GE=()=>({...$m(),attrs:{}}),Hm=n=>typeof n=="string"&&n.toLowerCase()==="svg";function QE(n,{style:e,vars:t},i,o){Object.assign(n.style,e,o&&o.getProjectionStyles(i));for(const l in t)n.style.setProperty(l,t[l])}const YE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XE(n,e,t,i){QE(n,e,void 0,i);for(const o in e.attrs)n.setAttribute(YE.has(o)?o:Mm(o),e.attrs[o])}const sh={};function TV(n){Object.assign(sh,n)}function JE(n,{layout:e,layoutId:t}){return Ms.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!sh[n]||n==="opacity")}function Wm(n,e,t){var i;const{style:o}=n,l={};for(const c in o)(sn(o[c])||e.style&&sn(e.style[c])||JE(c,n)||((i=t?.getValue(c))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function ZE(n,e,t){const i=Wm(n,e,t);for(const o in n)if(sn(n[o])||sn(e[o])){const l=ca.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=n[o]}return i}function SV(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const u_=["x","y","width","height","cx","cy","r"],xV={useVisualState:HE({scrapeMotionValuesFromProps:ZE,createRenderState:GE,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:o})=>{if(!t)return;let l=!!n.drag;if(!l){for(const f in o)if(Ms.has(f)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let f=0;f<u_.length;f++){const d=u_[f];n[d]!==e[d]&&(c=!0)}c&&st.read(()=>{SV(t,i),st.render(()=>{Um(i,o,Hm(t.tagName),n.transformTemplate),XE(t,i)})})}})},AV={useVisualState:HE({scrapeMotionValuesFromProps:Wm,createRenderState:$m})};function eT(n,e,t){for(const i in e)!sn(e[i])&&!JE(i,t)&&(n[i]=e[i])}function IV({transformTemplate:n},e){return se.useMemo(()=>{const t=$m();return zm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function CV(n,e){const t=n.style||{},i={};return eT(i,t,n),Object.assign(i,IV(n,e)),i}function PV(n,e){const t={},i=CV(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function RV(n,e,t,i){const o=se.useMemo(()=>{const l=GE();return Um(l,e,Hm(i),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};eT(l,n.style,n),o.style={...l,...o.style}}return o}function kV(n=!1){return(t,i,o,{latestValues:l},c)=>{const d=(Om(t)?RV:PV)(i,l,c,t),m=Wk(i,typeof t=="string",n),v=t!==se.Fragment?{...m,...d,ref:o}:{},{children:w}=i,T=se.useMemo(()=>sn(w)?w.get():w,[w]);return se.createElement(t,{...v,children:T})}}function VV(n,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Om(i)?xV:AV,preloadedFeatures:n,useRender:kV(o),createVisualElement:e,Component:i};return eV(c)}}function tT(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function Mh(n,e,t){const i=n.getProps();return Fm(i,e,t!==void 0?t:i.custom,n)}const DV=Dm(()=>window.ScrollTimeline!==void 0);class bV{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(o=>{if(DV()&&o.attachTimeline)return o.attachTimeline(e);if(typeof t=="function")return t(o)});return()=>{i.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class NV extends bV{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function qm(n,e){return n?n[e]||n.default||n:void 0}const wp=2e4;function nT(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<wp;)e+=t,i=n.next(e);return e>=wp?1/0:e}function Km(n){return typeof n=="function"}function c_(n,e){n.timeline=e,n.onfinish=null}const Gm=n=>Array.isArray(n)&&typeof n[0]=="number",MV={linearEasing:void 0};function LV(n,e){const t=Dm(n);return()=>{var i;return(i=MV[e])!==null&&i!==void 0?i:t()}}const oh=LV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rT=(n,e,t=10)=>{let i="";const o=Math.max(Math.round(e/t),2);for(let l=0;l<o;l++)i+=n(ea(0,o-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function iT(n){return!!(typeof n=="function"&&oh()||!n||typeof n=="string"&&(n in Ep||oh())||Gm(n)||Array.isArray(n)&&n.every(iT))}const cl=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Ep={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cl([0,.65,.55,1]),circOut:cl([.55,0,1,.45]),backIn:cl([.31,.01,.66,-.59]),backOut:cl([.33,1.53,.69,.99])};function sT(n,e){if(n)return typeof n=="function"&&oh()?rT(n,e):Gm(n)?cl(n):Array.isArray(n)?n.map(t=>sT(t,e)||Ep.easeOut):Ep[n]}const ur={x:!1,y:!1};function oT(){return ur.x||ur.y}function OV(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const l=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function aT(n,e){const t=OV(n),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[t,o,()=>i.abort()]}function h_(n){return e=>{e.pointerType==="touch"||oT()||n(e)}}function FV(n,e,t={}){const[i,o,l]=aT(n,t),c=h_(f=>{const{target:d}=f,m=e(f);if(typeof m!="function"||!d)return;const v=h_(w=>{m(w),d.removeEventListener("pointerleave",v)});d.addEventListener("pointerleave",v,o)});return i.forEach(f=>{f.addEventListener("pointerenter",c,o)}),l}const lT=(n,e)=>e?n===e?!0:lT(n,e.parentElement):!1,Qm=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,jV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BV(n){return jV.has(n.tagName)||n.tabIndex!==-1}const hl=new WeakSet;function f_(n){return e=>{e.key==="Enter"&&n(e)}}function Dd(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zV=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=f_(()=>{if(hl.has(t))return;Dd(t,"down");const o=f_(()=>{Dd(t,"up")}),l=()=>Dd(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function d_(n){return Qm(n)&&!oT()}function UV(n,e,t={}){const[i,o,l]=aT(n,t),c=f=>{const d=f.currentTarget;if(!d_(f)||hl.has(d))return;hl.add(d);const m=e(f),v=(A,D)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),!(!d_(A)||!hl.has(d))&&(hl.delete(d),typeof m=="function"&&m(A,{success:D}))},w=A=>{v(A,t.useGlobalTarget||lT(d,A.target))},T=A=>{v(A,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",T,o)};return i.forEach(f=>{!BV(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(t.useGlobalTarget?window:f).addEventListener("pointerdown",c,o),f.addEventListener("focus",m=>zV(m,o),o)}),l}function $V(n){return n==="x"||n==="y"?ur[n]?null:(ur[n]=!0,()=>{ur[n]=!1}):ur.x||ur.y?null:(ur.x=ur.y=!0,()=>{ur.x=ur.y=!1})}const uT=new Set(["width","height","top","left","right","bottom",...ca]);let Oc;function HV(){Oc=void 0}const Rr={now:()=>(Oc===void 0&&Rr.set(qt.isProcessing||jk.useManualTiming?qt.timestamp:performance.now()),Oc),set:n=>{Oc=n,queueMicrotask(HV)}};function Ym(n,e){n.indexOf(e)===-1&&n.push(e)}function Xm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Jm{constructor(){this.subscriptions=[]}add(e){return Ym(this.subscriptions,e),()=>Xm(this.subscriptions,e)}notify(e,t,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,i);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function cT(n,e){return e?n*(1e3/e):0}const p_=30,WV=n=>!isNaN(parseFloat(n));class qV{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const l=Rr.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Rr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=WV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Jm);const i=this.events[e].add(t);return e==="change"?()=>{i(),st.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>p_)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,p_);return cT(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ol(n,e){return new qV(n,e)}function KV(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Ol(t))}function GV(n,e){const t=Mh(n,e);let{transitionEnd:i={},transition:o={},...l}=t||{};l={...l,...i};for(const c in l){const f=oV(l[c]);KV(n,c,f)}}function QV(n){return!!(sn(n)&&n.add)}function Tp(n,e){const t=n.getValue("willChange");if(QV(t))return t.add(e)}function hT(n){return n.props[zE]}const fT=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,YV=1e-7,XV=12;function JV(n,e,t,i,o){let l,c,f=0;do c=e+(t-e)/2,l=fT(c,i,o)-n,l>0?t=c:e=c;while(Math.abs(l)>YV&&++f<XV);return c}function ql(n,e,t,i){if(n===e&&t===i)return Rn;const o=l=>JV(l,0,1,n,t);return l=>l===0||l===1?l:fT(o(l),e,i)}const dT=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,pT=n=>e=>1-n(1-e),mT=ql(.33,1.53,.69,.99),Zm=pT(mT),gT=dT(Zm),yT=n=>(n*=2)<1?.5*Zm(n):.5*(2-Math.pow(2,-10*(n-1))),eg=n=>1-Math.sin(Math.acos(n)),vT=pT(eg),_T=dT(eg),wT=n=>/^0[^.\s]+$/u.test(n);function ZV(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||wT(n):!0}const _l=n=>Math.round(n*1e5)/1e5,tg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eD(n){return n==null}const tD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ng=(n,e)=>t=>!!(typeof t=="string"&&tD.test(t)&&t.startsWith(n)||e&&!eD(t)&&Object.prototype.hasOwnProperty.call(t,e)),ET=(n,e,t)=>i=>{if(typeof i!="string")return i;const[o,l,c,f]=i.match(tg);return{[n]:parseFloat(o),[e]:parseFloat(l),[t]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},nD=n=>ei(0,255,n),bd={...ha,transform:n=>Math.round(nD(n))},As={test:ng("rgb","red"),parse:ET("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+bd.transform(n)+", "+bd.transform(e)+", "+bd.transform(t)+", "+_l(Ll.transform(i))+")"};function rD(n){let e="",t="",i="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Sp={test:ng("#"),parse:rD,transform:As.transform},No={test:ng("hsl","hue"),parse:ET("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Pr.transform(_l(e))+", "+Pr.transform(_l(t))+", "+_l(Ll.transform(i))+")"},tn={test:n=>As.test(n)||Sp.test(n)||No.test(n),parse:n=>As.test(n)?As.parse(n):No.test(n)?No.parse(n):Sp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?As.transform(n):No.transform(n)},iD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sD(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(tg))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(iD))===null||t===void 0?void 0:t.length)||0)>0}const TT="number",ST="color",oD="var",aD="var(",m_="${}",lD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fl(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},o=[];let l=0;const f=e.replace(lD,d=>(tn.test(d)?(i.color.push(l),o.push(ST),t.push(tn.parse(d))):d.startsWith(aD)?(i.var.push(l),o.push(oD),t.push(d)):(i.number.push(l),o.push(TT),t.push(parseFloat(d))),++l,m_)).split(m_);return{values:t,split:f,indexes:i,types:o}}function xT(n){return Fl(n).values}function AT(n){const{split:e,types:t}=Fl(n),i=e.length;return o=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],o[c]!==void 0){const f=t[c];f===TT?l+=_l(o[c]):f===ST?l+=tn.transform(o[c]):l+=o[c]}return l}}const uD=n=>typeof n=="number"?0:n;function cD(n){const e=xT(n);return AT(n)(e.map(uD))}const Ui={test:sD,parse:xT,createTransformer:AT,getAnimatableNone:cD},hD=new Set(["brightness","contrast","saturate","opacity"]);function fD(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(tg)||[];if(!i)return n;const o=t.replace(i,"");let l=hD.has(e)?1:0;return i!==t&&(l*=100),e+"("+l+o+")"}const dD=/\b([a-z-]*)\(.*?\)/gu,xp={...Ui,getAnimatableNone:n=>{const e=n.match(dD);return e?e.map(fD).join(" "):n}},pD={...Bm,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:xp,WebkitFilter:xp},rg=n=>pD[n];function IT(n,e){let t=rg(n);return t!==xp&&(t=Ui),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const mD=new Set(["auto","none","0"]);function gD(n,e,t){let i=0,o;for(;i<n.length&&!o;){const l=n[i];typeof l=="string"&&!mD.has(l)&&Fl(l).values.length&&(o=n[i]),i++}if(o&&t)for(const l of e)n[l]=IT(t,o)}const g_=n=>n===ha||n===xe,y_=(n,e)=>parseFloat(n.split(", ")[e]),v_=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return y_(o[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?y_(l[1],n):0}},yD=new Set(["x","y","z"]),vD=ca.filter(n=>!yD.has(n));function _D(n){const e=[];return vD.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const na={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:v_(4,13),y:v_(5,14)};na.translateX=na.x;na.translateY=na.y;const Ps=new Set;let Ap=!1,Ip=!1;function CT(){if(Ip){const n=Array.from(Ps).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const o=_D(i);o.length&&(t.set(i,o),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=t.get(i);o&&o.forEach(([l,c])=>{var f;(f=i.getValue(l))===null||f===void 0||f.set(c)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ip=!1,Ap=!1,Ps.forEach(n=>n.complete()),Ps.clear()}function PT(){Ps.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Ip=!0)})}function wD(){PT(),CT()}class ig{constructor(e,t,i,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ps.add(this),Ap||(Ap=!0,st.read(PT),st.resolveKeyframes(CT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o?.get(),f=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&t){const d=i.readValue(t,f);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=f),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ps.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ps.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const RT=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),ED=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TD(n){const e=ED.exec(n);if(!e)return[,];const[,t,i,o]=e;return[`--${t??i}`,o]}function kT(n,e,t=1){const[i,o]=TD(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return RT(c)?parseFloat(c):c}return jm(o)?kT(o,e,t+1):o}const VT=n=>e=>e.test(n),SD={test:n=>n==="auto",parse:n=>n},DT=[ha,xe,Pr,Ci,fV,hV,SD],__=n=>DT.find(VT(n));class bT extends ig{constructor(e,t,i,o,l){super(e,t,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),jm(m))){const v=kT(m,t.current);v!==void 0&&(e[d]=v),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!uT.has(i)||e.length!==2)return;const[o,l]=e,c=__(o),f=__(l);if(c!==f)if(g_(c)&&g_(f))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let o=0;o<e.length;o++)ZV(e[o])&&i.push(o);i.length&&gD(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=na[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const l=t.getValue(i);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,f=o[c];o[c]=na[i](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const w_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ui.test(n)||n==="0")&&!n.startsWith("url("));function xD(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function AD(n,e,t,i){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=w_(o,e),f=w_(l,e);return!c||!f?!1:xD(n)||(t==="spring"||Km(t))&&i}const ID=n=>n!==null;function Lh(n,{repeat:e,repeatType:t="loop"},i){const o=n.filter(ID),l=e&&t!=="loop"&&e%2===1?0:o.length-1;return!l||i===void 0?o[l]:i}const CD=40;class NT{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Rr.now(),this.options={autoplay:e,delay:t,type:i,repeat:o,repeatDelay:l,repeatType:c,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>CD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&wD(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Rr.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:l,delay:c,onComplete:f,onUpdate:d,isGenerator:m}=this.options;if(!m&&!AD(e,i,o,l))if(c)this.options.duration=0;else{d&&d(Lh(e,this.options,t)),f&&f(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,t);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...v},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ht=(n,e,t)=>n+(e-n)*t;function Nd(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function PD({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let o=0,l=0,c=0;if(!e)o=l=c=t;else{const f=t<.5?t*(1+e):t+e-t*e,d=2*t-f;o=Nd(d,f,n+1/3),l=Nd(d,f,n),c=Nd(d,f,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function ah(n,e){return t=>t>0?e:n}const Md=(n,e,t)=>{const i=n*n,o=t*(e*e-i)+i;return o<0?0:Math.sqrt(o)},RD=[Sp,As,No],kD=n=>RD.find(e=>e.test(n));function E_(n){const e=kD(n);if(!e)return!1;let t=e.parse(n);return e===No&&(t=PD(t)),t}const T_=(n,e)=>{const t=E_(n),i=E_(e);if(!t||!i)return ah(n,e);const o={...t};return l=>(o.red=Md(t.red,i.red,l),o.green=Md(t.green,i.green,l),o.blue=Md(t.blue,i.blue,l),o.alpha=ht(t.alpha,i.alpha,l),As.transform(o))},VD=(n,e)=>t=>e(n(t)),Kl=(...n)=>n.reduce(VD),Cp=new Set(["none","hidden"]);function DD(n,e){return Cp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function bD(n,e){return t=>ht(n,e,t)}function sg(n){return typeof n=="number"?bD:typeof n=="string"?jm(n)?ah:tn.test(n)?T_:LD:Array.isArray(n)?MT:typeof n=="object"?tn.test(n)?T_:ND:ah}function MT(n,e){const t=[...n],i=t.length,o=n.map((l,c)=>sg(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)t[c]=o[c](l);return t}}function ND(n,e){const t={...n,...e},i={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(i[o]=sg(n[o])(n[o],e[o]));return o=>{for(const l in i)t[l]=i[l](o);return t}}function MD(n,e){var t;const i=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],f=n.indexes[c][o[c]],d=(t=n.values[f])!==null&&t!==void 0?t:0;i[l]=d,o[c]++}return i}const LD=(n,e)=>{const t=Ui.createTransformer(e),i=Fl(n),o=Fl(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Cp.has(n)&&!o.values.length||Cp.has(e)&&!i.values.length?DD(n,e):Kl(MT(MD(i,o),o.values),t):ah(n,e)};function LT(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ht(n,e,t):sg(n)(n,e)}const OD=5;function OT(n,e,t){const i=Math.max(e-OD,0);return cT(t-n(i),e-i)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ld=.001;function FD({duration:n=gt.duration,bounce:e=gt.bounce,velocity:t=gt.velocity,mass:i=gt.mass}){let o,l,c=1-e;c=ei(gt.minDamping,gt.maxDamping,c),n=ei(gt.minDuration,gt.maxDuration,Yr(n)),c<1?(o=m=>{const v=m*c,w=v*n,T=v-t,A=Pp(m,c),D=Math.exp(-w);return Ld-T/A*D},l=m=>{const w=m*c*n,T=w*t+t,A=Math.pow(c,2)*Math.pow(m,2)*n,D=Math.exp(-w),L=Pp(Math.pow(m,2),c);return(-o(m)+Ld>0?-1:1)*((T-A)*D)/L}):(o=m=>{const v=Math.exp(-m*n),w=(m-t)*n+1;return-Ld+v*w},l=m=>{const v=Math.exp(-m*n),w=(t-m)*(n*n);return v*w});const f=5/n,d=BD(o,l,f);if(n=Qr(n),isNaN(d))return{stiffness:gt.stiffness,damping:gt.damping,duration:n};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:n}}}const jD=12;function BD(n,e,t){let i=t;for(let o=1;o<jD;o++)i=i-n(i)/e(i);return i}function Pp(n,e){return n*Math.sqrt(1-e*e)}const zD=["duration","bounce"],UD=["stiffness","damping","mass"];function S_(n,e){return e.some(t=>n[t]!==void 0)}function $D(n){let e={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...n};if(!S_(n,UD)&&S_(n,zD))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),o=i*i,l=2*ei(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:gt.mass,stiffness:o,damping:l}}else{const t=FD(n);e={...e,...t,mass:gt.mass},e.isResolvedFromDuration=!0}return e}function FT(n=gt.visualDuration,e=gt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:o}=t;const l=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],f={done:!1,value:l},{stiffness:d,damping:m,mass:v,duration:w,velocity:T,isResolvedFromDuration:A}=$D({...t,velocity:-Yr(t.velocity||0)}),D=T||0,L=m/(2*Math.sqrt(d*v)),M=c-l,H=Yr(Math.sqrt(d/v)),q=Math.abs(M)<5;i||(i=q?gt.restSpeed.granular:gt.restSpeed.default),o||(o=q?gt.restDelta.granular:gt.restDelta.default);let K;if(L<1){const J=Pp(H,L);K=te=>{const I=Math.exp(-L*H*te);return c-I*((D+L*H*M)/J*Math.sin(J*te)+M*Math.cos(J*te))}}else if(L===1)K=J=>c-Math.exp(-H*J)*(M+(D+H*M)*J);else{const J=H*Math.sqrt(L*L-1);K=te=>{const I=Math.exp(-L*H*te),x=Math.min(J*te,300);return c-I*((D+L*H*M)*Math.sinh(x)+J*M*Math.cosh(x))/J}}const X={calculatedDuration:A&&w||null,next:J=>{const te=K(J);if(A)f.done=J>=w;else{let I=0;L<1&&(I=J===0?Qr(D):OT(K,J,te));const x=Math.abs(I)<=i,P=Math.abs(c-te)<=o;f.done=x&&P}return f.value=f.done?c:te,f},toString:()=>{const J=Math.min(nT(X),wp),te=rT(I=>X.next(J*I).value,J,30);return J+"ms "+te}};return X}function x_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:d,restDelta:m=.5,restSpeed:v}){const w=n[0],T={done:!1,value:w},A=x=>f!==void 0&&x<f||d!==void 0&&x>d,D=x=>f===void 0?d:d===void 0||Math.abs(f-x)<Math.abs(d-x)?f:d;let L=t*e;const M=w+L,H=c===void 0?M:c(M);H!==M&&(L=H-w);const q=x=>-L*Math.exp(-x/i),K=x=>H+q(x),X=x=>{const P=q(x),k=K(x);T.done=Math.abs(P)<=m,T.value=T.done?H:k};let J,te;const I=x=>{A(T.value)&&(J=x,te=FT({keyframes:[T.value,D(T.value)],velocity:OT(K,x,T.value),damping:o,stiffness:l,restDelta:m,restSpeed:v}))};return I(0),{calculatedDuration:null,next:x=>{let P=!1;return!te&&J===void 0&&(P=!0,X(x),I(x)),J!==void 0&&x>=J?te.next(x-J):(!P&&X(x),T)}}}const HD=ql(.42,0,1,1),WD=ql(0,0,.58,1),jT=ql(.42,0,.58,1),qD=n=>Array.isArray(n)&&typeof n[0]!="number",KD={linear:Rn,easeIn:HD,easeInOut:jT,easeOut:WD,circIn:eg,circInOut:_T,circOut:vT,backIn:Zm,backInOut:gT,backOut:mT,anticipate:yT},A_=n=>{if(Gm(n)){LE(n.length===4);const[e,t,i,o]=n;return ql(e,t,i,o)}else if(typeof n=="string")return KD[n];return n};function GD(n,e,t){const i=[],o=t||LT,l=n.length-1;for(let c=0;c<l;c++){let f=o(n[c],n[c+1]);if(e){const d=Array.isArray(e)?e[c]||Rn:e;f=Kl(d,f)}i.push(f)}return i}function QD(n,e,{clamp:t=!0,ease:i,mixer:o}={}){const l=n.length;if(LE(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const f=GD(e,i,o),d=f.length,m=v=>{if(c&&v<n[0])return e[0];let w=0;if(d>1)for(;w<n.length-2&&!(v<n[w+1]);w++);const T=ea(n[w],n[w+1],v);return f[w](T)};return t?v=>m(ei(n[0],n[l-1],v)):m}function YD(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const o=ea(0,e,i);n.push(ht(t,1,o))}}function XD(n){const e=[0];return YD(e,n.length-1),e}function JD(n,e){return n.map(t=>t*e)}function ZD(n,e){return n.map(()=>e||jT).splice(0,n.length-1)}function lh({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const o=qD(i)?i.map(A_):A_(i),l={done:!1,value:e[0]},c=JD(t&&t.length===e.length?t:XD(e),n),f=QD(c,e,{ease:Array.isArray(o)?o:ZD(e,o)});return{calculatedDuration:n,next:d=>(l.value=f(d),l.done=d>=n,l)}}const e4=n=>{const e=({timestamp:t})=>n(t);return{start:()=>st.update(e,!0),stop:()=>zi(e),now:()=>qt.isProcessing?qt.timestamp:Rr.now()}},t4={decay:x_,inertia:x_,tween:lh,keyframes:lh,spring:FT},n4=n=>n/100;class og extends NT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:t,motionValue:i,element:o,keyframes:l}=this.options,c=o?.KeyframeResolver||ig,f=(d,m)=>this.onKeyframesResolved(d,m);this.resolver=new c(l,f,t,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,f=Km(t)?t:t4[t]||lh;let d,m;f!==lh&&typeof e[0]!="number"&&(d=Kl(n4,LT(e[0],e[1])),e=[0,100]);const v=f({...this.options,keyframes:e});l==="mirror"&&(m=f({...this.options,keyframes:[...e].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=nT(v));const{calculatedDuration:w}=v,T=w+o,A=T*(i+1)-o;return{generator:v,mirroredGenerator:m,mapPercentToKeyframes:d,calculatedDuration:w,resolvedDuration:T,totalDuration:A}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:x}=this.options;return{done:!0,value:x[x.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:f,keyframes:d,calculatedDuration:m,totalDuration:v,resolvedDuration:w}=i;if(this.startTime===null)return l.next(0);const{delay:T,repeat:A,repeatType:D,repeatDelay:L,onUpdate:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const H=this.currentTime-T*(this.speed>=0?1:-1),q=this.speed>=0?H<0:H>v;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let K=this.currentTime,X=l;if(A){const x=Math.min(this.currentTime,v)/w;let P=Math.floor(x),k=x%1;!k&&x>=1&&(k=1),k===1&&P--,P=Math.min(P,A+1),!!(P%2)&&(D==="reverse"?(k=1-k,L&&(k-=L/w)):D==="mirror"&&(X=c)),K=ei(0,1,k)*w}const J=q?{done:!1,value:d[0]}:X.next(K);f&&(J.value=f(J.value));let{done:te}=J;!q&&m!==null&&(te=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&te);return I&&o!==void 0&&(J.value=Lh(d,this.options,o)),M&&M(J.value),I&&this.finish(),J}get duration(){const{resolved:e}=this;return e?Yr(e.calculatedDuration):0}get time(){return Yr(this.currentTime)}set time(e){e=Qr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Yr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=e4,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const r4=new Set(["opacity","clipPath","filter","transform"]);function i4(n,e,t,{delay:i=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:f="easeInOut",times:d}={}){const m={[e]:t};d&&(m.offset=d);const v=sT(f,o);return Array.isArray(v)&&(m.easing=v),n.animate(m,{delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const s4=Dm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),uh=10,o4=2e4;function a4(n){return Km(n.type)||n.type==="spring"||!iT(n.ease)}function l4(n,e){const t=new og({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const o=[];let l=0;for(;!i.done&&l<o4;)i=t.sample(l),o.push(i.value),l+=uh;return{times:void 0,keyframes:o,duration:l-uh,ease:"linear"}}const BT={anticipate:yT,backInOut:gT,circInOut:_T};function u4(n){return n in BT}class I_ extends NT{constructor(e){super(e);const{name:t,motionValue:i,element:o,keyframes:l}=this.options;this.resolver=new bT(l,(c,f)=>this.onKeyframesResolved(c,f),t,i,o),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:o,ease:l,type:c,motionValue:f,name:d,startTime:m}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&oh()&&u4(l)&&(l=BT[l]),a4(this.options)){const{onComplete:w,onUpdate:T,motionValue:A,element:D,...L}=this.options,M=l4(e,L);e=M.keyframes,e.length===1&&(e[1]=e[0]),i=M.duration,o=M.times,l=M.ease,c="keyframes"}const v=i4(f.owner.current,d,e,{...this.options,duration:i,times:o,ease:l});return v.startTime=m??this.calcStartTime(),this.pendingTimeline?(c_(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:w}=this.options;f.set(Lh(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:i,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Yr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Yr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Qr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Rn;const{animation:i}=t;c_(i,e)}return Rn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:o,type:l,ease:c,times:f}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:v,onComplete:w,element:T,...A}=this.options,D=new og({...A,keyframes:i,duration:o,type:l,ease:c,times:f,isGenerator:!0}),L=Qr(this.time);m.setWithVelocity(D.sample(L-uh).value,D.sample(L).value,uh)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:o,repeatType:l,damping:c,type:f}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=t.owner.getProps();return s4()&&i&&r4.has(i)&&!d&&!m&&!o&&l!=="mirror"&&c!==0&&f!=="inertia"}}const c4={type:"spring",stiffness:500,damping:25,restSpeed:10},h4=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),f4={type:"keyframes",duration:.8},d4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},p4=(n,{keyframes:e})=>e.length>2?f4:Ms.has(n)?n.startsWith("scale")?h4(e[1]):c4:d4;function m4({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:f,from:d,elapsed:m,...v}){return!!Object.keys(v).length}const ag=(n,e,t,i={},o,l)=>c=>{const f=qm(i,n)||{},d=f.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Qr(d);let v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-m,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:n,motionValue:e,element:l?void 0:o};m4(f)||(v={...v,...p4(n,v)}),v.duration&&(v.duration=Qr(v.duration)),v.repeatDelay&&(v.repeatDelay=Qr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let w=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(w=!0)),w&&!l&&e.get()!==void 0){const T=Lh(v.keyframes,f);if(T!==void 0)return st.update(()=>{v.onUpdate(T),v.onComplete()}),new NV([])}return!l&&I_.supports(v)?new I_(v):new og(v)};function g4({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function zT(n,e,{delay:t=0,transitionOverride:i,type:o}={}){var l;let{transition:c=n.getDefaultTransition(),transitionEnd:f,...d}=e;i&&(c=i);const m=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const w in d){const T=n.getValue(w,(l=n.latestValues[w])!==null&&l!==void 0?l:null),A=d[w];if(A===void 0||v&&g4(v,w))continue;const D={delay:t,...qm(c||{},w)};let L=!1;if(window.MotionHandoffAnimation){const H=hT(n);if(H){const q=window.MotionHandoffAnimation(H,w,st);q!==null&&(D.startTime=q,L=!0)}}Tp(n,w),T.start(ag(w,T,A,n.shouldReduceMotion&&uT.has(w)?{type:!1}:D,n,L));const M=T.animation;M&&m.push(M)}return f&&Promise.all(m).then(()=>{st.update(()=>{f&&GV(n,f)})}),m}function Rp(n,e,t={}){var i;const o=Mh(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(l=t.transitionOverride);const c=o?()=>Promise.all(zT(n,o,t)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:T}=l;return y4(n,e,v+m,w,T,t)}:()=>Promise.resolve(),{when:d}=l;if(d){const[m,v]=d==="beforeChildren"?[c,f]:[f,c];return m().then(()=>v())}else return Promise.all([c(),f(t.delay)])}function y4(n,e,t=0,i=0,o=1,l){const c=[],f=(n.variantChildren.size-1)*i,d=o===1?(m=0)=>m*i:(m=0)=>f-m*i;return Array.from(n.variantChildren).sort(v4).forEach((m,v)=>{m.notify("AnimationStart",e),c.push(Rp(m,e,{...l,delay:t+d(v)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function v4(n,e){return n.sortNodePosition(e)}function _4(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>Rp(n,l,t));i=Promise.all(o)}else if(typeof e=="string")i=Rp(n,e,t);else{const o=typeof e=="function"?Mh(n,e,t.custom):e;i=Promise.all(zT(n,o,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const w4=Nm.length;function UT(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?UT(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<w4;t++){const i=Nm[t],o=n.props[i];(Ml(o)||o===!1)&&(e[i]=o)}return e}const E4=[...bm].reverse(),T4=bm.length;function S4(n){return e=>Promise.all(e.map(({animation:t,options:i})=>_4(n,t,i)))}function x4(n){let e=S4(n),t=C_(),i=!0;const o=d=>(m,v)=>{var w;const T=Mh(n,v,d==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(T){const{transition:A,transitionEnd:D,...L}=T;m={...m,...L,...D}}return m};function l(d){e=d(n)}function c(d){const{props:m}=n,v=UT(n.parent)||{},w=[],T=new Set;let A={},D=1/0;for(let M=0;M<T4;M++){const H=E4[M],q=t[H],K=m[H]!==void 0?m[H]:v[H],X=Ml(K),J=H===d?q.isActive:null;J===!1&&(D=M);let te=K===v[H]&&K!==m[H]&&X;if(te&&i&&n.manuallyAnimateOnMount&&(te=!1),q.protectedKeys={...A},!q.isActive&&J===null||!K&&!q.prevProp||bh(K)||typeof K=="boolean")continue;const I=A4(q.prevProp,K);let x=I||H===d&&q.isActive&&!te&&X||M>D&&X,P=!1;const k=Array.isArray(K)?K:[K];let b=k.reduce(o(H),{});J===!1&&(b={});const{prevResolvedValues:F={}}=q,R={...F,...b},Xe=Se=>{x=!0,T.has(Se)&&(P=!0,T.delete(Se)),q.needsAnimating[Se]=!0;const ie=n.getValue(Se);ie&&(ie.liveStyle=!1)};for(const Se in R){const ie=b[Se],ue=F[Se];if(A.hasOwnProperty(Se))continue;let le=!1;_p(ie)&&_p(ue)?le=!tT(ie,ue):le=ie!==ue,le?ie!=null?Xe(Se):T.add(Se):ie!==void 0&&T.has(Se)?Xe(Se):q.protectedKeys[Se]=!0}q.prevProp=K,q.prevResolvedValues=b,q.isActive&&(A={...A,...b}),i&&n.blockInitialAnimation&&(x=!1),x&&(!(te&&I)||P)&&w.push(...k.map(Se=>({animation:Se,options:{type:H}})))}if(T.size){const M={};T.forEach(H=>{const q=n.getBaseTarget(H),K=n.getValue(H);K&&(K.liveStyle=!0),M[H]=q??null}),w.push({animation:M})}let L=!!w.length;return i&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(L=!1),i=!1,L?e(w):Promise.resolve()}function f(d,m){var v;if(t[d].isActive===m)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(T=>{var A;return(A=T.animationState)===null||A===void 0?void 0:A.setActive(d,m)}),t[d].isActive=m;const w=c(d);for(const T in t)t[T].protectedKeys={};return w}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>t,reset:()=>{t=C_(),i=!0}}}function A4(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!tT(e,n):!1}function vs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C_(){return{animate:vs(!0),whileInView:vs(),whileHover:vs(),whileTap:vs(),whileDrag:vs(),whileFocus:vs(),exit:vs()}}class Hi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class I4 extends Hi{constructor(e){super(e),e.animationState||(e.animationState=x4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let C4=0;class P4 extends Hi{constructor(){super(...arguments),this.id=C4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const R4={animation:{Feature:I4},exit:{Feature:P4}};function jl(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Gl(n){return{point:{x:n.pageX,y:n.pageY}}}const k4=n=>e=>Qm(e)&&n(e,Gl(e));function wl(n,e,t,i){return jl(n,e,k4(t),i)}const P_=(n,e)=>Math.abs(n-e);function V4(n,e){const t=P_(n.x,e.x),i=P_(n.y,e.y);return Math.sqrt(t**2+i**2)}class $T{constructor(e,t,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Fd(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,A=V4(w.offset,{x:0,y:0})>=3;if(!T&&!A)return;const{point:D}=w,{timestamp:L}=qt;this.history.push({...D,timestamp:L});const{onStart:M,onMove:H}=this.handlers;T||(M&&M(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Od(T,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:A,onSessionEnd:D,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=Fd(w.type==="pointercancel"?this.lastMoveEventInfo:Od(T,this.transformPagePoint),this.history);this.startEvent&&A&&A(w,M),D&&D(w,M)},!Qm(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=i,this.contextWindow=o||window;const c=Gl(e),f=Od(c,this.transformPagePoint),{point:d}=f,{timestamp:m}=qt;this.history=[{...d,timestamp:m}];const{onSessionStart:v}=t;v&&v(e,Fd(f,this.history)),this.removeListeners=Kl(wl(this.contextWindow,"pointermove",this.handlePointerMove),wl(this.contextWindow,"pointerup",this.handlePointerUp),wl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zi(this.updatePoint)}}function Od(n,e){return e?{point:e(n.point)}:n}function R_(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Fd({point:n},e){return{point:n,delta:R_(n,HT(e)),offset:R_(n,D4(e)),velocity:b4(e,.1)}}function D4(n){return n[0]}function HT(n){return n[n.length-1]}function b4(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const o=HT(n);for(;t>=0&&(i=n[t],!(o.timestamp-i.timestamp>Qr(e)));)t--;if(!i)return{x:0,y:0};const l=Yr(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const WT=1e-4,N4=1-WT,M4=1+WT,qT=.01,L4=0-qT,O4=0+qT;function kn(n){return n.max-n.min}function F4(n,e,t){return Math.abs(n-e)<=t}function k_(n,e,t,i=.5){n.origin=i,n.originPoint=ht(e.min,e.max,n.origin),n.scale=kn(t)/kn(e),n.translate=ht(t.min,t.max,n.origin)-n.originPoint,(n.scale>=N4&&n.scale<=M4||isNaN(n.scale))&&(n.scale=1),(n.translate>=L4&&n.translate<=O4||isNaN(n.translate))&&(n.translate=0)}function El(n,e,t,i){k_(n.x,e.x,t.x,i?i.originX:void 0),k_(n.y,e.y,t.y,i?i.originY:void 0)}function V_(n,e,t){n.min=t.min+e.min,n.max=n.min+kn(e)}function j4(n,e,t){V_(n.x,e.x,t.x),V_(n.y,e.y,t.y)}function D_(n,e,t){n.min=e.min-t.min,n.max=n.min+kn(e)}function Tl(n,e,t){D_(n.x,e.x,t.x),D_(n.y,e.y,t.y)}function B4(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?ht(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?ht(t,n,i.max):Math.min(n,t)),n}function b_(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function z4(n,{top:e,left:t,bottom:i,right:o}){return{x:b_(n.x,t,o),y:b_(n.y,e,i)}}function N_(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function U4(n,e){return{x:N_(n.x,e.x),y:N_(n.y,e.y)}}function $4(n,e){let t=.5;const i=kn(n),o=kn(e);return o>i?t=ea(e.min,e.max-i,n.min):i>o&&(t=ea(n.min,n.max-o,e.min)),ei(0,1,t)}function H4(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const kp=.35;function W4(n=kp){return n===!1?n=0:n===!0&&(n=kp),{x:M_(n,"left","right"),y:M_(n,"top","bottom")}}function M_(n,e,t){return{min:L_(n,e),max:L_(n,t)}}function L_(n,e){return typeof n=="number"?n:n[e]||0}const O_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mo=()=>({x:O_(),y:O_()}),F_=()=>({min:0,max:0}),_t=()=>({x:F_(),y:F_()});function $n(n){return[n("x"),n("y")]}function KT({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function q4({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function K4(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function jd(n){return n===void 0||n===1}function Vp({scale:n,scaleX:e,scaleY:t}){return!jd(n)||!jd(e)||!jd(t)}function ws(n){return Vp(n)||GT(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function GT(n){return j_(n.x)||j_(n.y)}function j_(n){return n&&n!=="0%"}function ch(n,e,t){const i=n-t,o=e*i;return t+o}function B_(n,e,t,i,o){return o!==void 0&&(n=ch(n,o,i)),ch(n,t,i)+e}function Dp(n,e=0,t=1,i,o){n.min=B_(n.min,e,t,i,o),n.max=B_(n.max,e,t,i,o)}function QT(n,{x:e,y:t}){Dp(n.x,e.translate,e.scale,e.originPoint),Dp(n.y,t.translate,t.scale,t.originPoint)}const z_=.999999999999,U_=1.0000000000001;function G4(n,e,t,i=!1){const o=t.length;if(!o)return;e.x=e.y=1;let l,c;for(let f=0;f<o;f++){l=t[f],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Oo(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,QT(n,c)),i&&ws(l.latestValues)&&Oo(n,l.latestValues))}e.x<U_&&e.x>z_&&(e.x=1),e.y<U_&&e.y>z_&&(e.y=1)}function Lo(n,e){n.min=n.min+e,n.max=n.max+e}function $_(n,e,t,i,o=.5){const l=ht(n.min,n.max,o);Dp(n,e,t,l,i)}function Oo(n,e){$_(n.x,e.x,e.scaleX,e.scale,e.originX),$_(n.y,e.y,e.scaleY,e.scale,e.originY)}function YT(n,e){return KT(K4(n.getBoundingClientRect(),e))}function Q4(n,e,t){const i=YT(n,t),{scroll:o}=e;return o&&(Lo(i.x,o.offset.x),Lo(i.y,o.offset.y)),i}const XT=({current:n})=>n?n.ownerDocument.defaultView:null,Y4=new WeakMap;class X4{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Gl(v).point)},l=(v,w)=>{const{drag:T,dragPropagation:A,onDragStart:D}=this.getProps();if(T&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$V(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$n(M=>{let H=this.getAxisMotionValue(M).get()||0;if(Pr.test(H)){const{projection:q}=this.visualElement;if(q&&q.layout){const K=q.layout.layoutBox[M];K&&(H=kn(K)*(parseFloat(H)/100))}}this.originPoint[M]=H}),D&&st.postRender(()=>D(v,w)),Tp(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},c=(v,w)=>{const{dragPropagation:T,dragDirectionLock:A,onDirectionLock:D,onDrag:L}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:M}=w;if(A&&this.currentDirection===null){this.currentDirection=J4(M),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",w.point,M),this.updateAxis("y",w.point,M),this.visualElement.render(),L&&L(v,w)},f=(v,w)=>this.stop(v,w),d=()=>$n(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new $T(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:XT(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&st.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:o}=this.getProps();if(!i||!Sc(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=B4(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&bo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=z4(o.layoutBox,t):this.constraints=!1,this.elastic=W4(i),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&$n(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=H4(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!bo(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=Q4(i,o.root,this.visualElement.getTransformPagePoint());let c=U4(o.layout.layoutBox,l);if(t){const f=t(q4(c));this.hasMutatedConstraints=!!f,f&&(c=KT(f))}return c}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},m=$n(v=>{if(!Sc(v,t,this.currentDirection))return;let w=d&&d[v]||{};c&&(w={min:0,max:0});const T=o?200:1e6,A=o?40:1e7,D={type:"inertia",velocity:i?e[v]:0,bounceStiffness:T,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(v,D)});return Promise.all(m).then(f)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Tp(this.visualElement,e),i.start(ag(e,i,0,t,this.visualElement,!1))}stopAnimation(){$n(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$n(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[t];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){$n(t=>{const{drag:i}=this.getProps();if(!Sc(t,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(t);if(o&&o.layout){const{min:c,max:f}=o.layout.layoutBox[t];l.set(e[t]-ht(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!bo(t)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};$n(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const d=f.get();o[c]=$4({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),$n(c=>{if(!Sc(c,e,null))return;const f=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];f.set(ht(d,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;Y4.set(this.visualElement,this);const e=this.visualElement.current,t=wl(e,"pointerdown",d=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();bo(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),st.read(i);const c=jl(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&($n(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=d[v].translate,w.set(w.get()+d[v].translate))}),this.visualElement.render())});return()=>{c(),t(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=kp,dragMomentum:f=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Sc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function J4(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Z4 extends Hi{constructor(e){super(e),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new X4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const H_=n=>(e,t)=>{n&&st.postRender(()=>n(e,t))};class eb extends Hi{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(e){this.session=new $T(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:H_(e),onStart:H_(t),onMove:i,onEnd:(l,c)=>{delete this.session,o&&st.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=wl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function W_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const sl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(xe.test(n))n=parseFloat(n);else return n;const t=W_(n,e.target.x),i=W_(n,e.target.y);return`${t}% ${i}%`}},tb={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,o=Ui.parse(n);if(o.length>5)return i;const l=Ui.createTransformer(n),c=typeof o[0]!="number"?1:0,f=t.x.scale*e.x,d=t.y.scale*e.y;o[0+c]/=f,o[1+c]/=d;const m=ht(f,d,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),l(o)}};class nb extends se.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;TV(rb),l&&(t.group&&t.group.add(l),i&&i.register&&o&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Fc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:o,isPresent:l}=this.props,c=i.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==t||t===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||st.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Lm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JT(n){const[e,t]=NE(),i=se.useContext(Pm);return $.jsx(nb,{...n,layoutGroup:i,switchLayoutGroup:se.useContext(UE),isPresent:e,safeToRemove:t})}const rb={borderRadius:{...sl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sl,borderTopRightRadius:sl,borderBottomLeftRadius:sl,borderBottomRightRadius:sl,boxShadow:tb};function ib(n,e,t){const i=sn(n)?n:Ol(n);return i.start(ag("",i,e,t)),i.animation}function sb(n){return n instanceof SVGElement&&n.tagName!=="svg"}const ob=(n,e)=>n.depth-e.depth;class ab{constructor(){this.children=[],this.isDirty=!1}add(e){Ym(this.children,e),this.isDirty=!0}remove(e){Xm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ob),this.isDirty=!1,this.children.forEach(e)}}function lb(n,e){const t=Rr.now(),i=({timestamp:o})=>{const l=o-t;l>=e&&(zi(i),n(l-e))};return st.read(i,!0),()=>zi(i)}const ZT=["TopLeft","TopRight","BottomLeft","BottomRight"],ub=ZT.length,q_=n=>typeof n=="string"?parseFloat(n):n,K_=n=>typeof n=="number"||xe.test(n);function cb(n,e,t,i,o,l){o?(n.opacity=ht(0,t.opacity!==void 0?t.opacity:1,hb(i)),n.opacityExit=ht(e.opacity!==void 0?e.opacity:1,0,fb(i))):l&&(n.opacity=ht(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let c=0;c<ub;c++){const f=`border${ZT[c]}Radius`;let d=G_(e,f),m=G_(t,f);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||K_(d)===K_(m)?(n[f]=Math.max(ht(q_(d),q_(m),i),0),(Pr.test(m)||Pr.test(d))&&(n[f]+="%")):n[f]=m}(e.rotate||t.rotate)&&(n.rotate=ht(e.rotate||0,t.rotate||0,i))}function G_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const hb=eS(0,.5,vT),fb=eS(.5,.95,Rn);function eS(n,e,t){return i=>i<n?0:i>e?1:t(ea(n,e,i))}function Q_(n,e){n.min=e.min,n.max=e.max}function Un(n,e){Q_(n.x,e.x),Q_(n.y,e.y)}function Y_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function X_(n,e,t,i,o){return n-=e,n=ch(n,1/t,i),o!==void 0&&(n=ch(n,1/o,i)),n}function db(n,e=0,t=1,i=.5,o,l=n,c=n){if(Pr.test(e)&&(e=parseFloat(e),e=ht(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=ht(l.min,l.max,i);n===l&&(f-=e),n.min=X_(n.min,e,t,f,o),n.max=X_(n.max,e,t,f,o)}function J_(n,e,[t,i,o],l,c){db(n,e[t],e[i],e[o],e.scale,l,c)}const pb=["x","scaleX","originX"],mb=["y","scaleY","originY"];function Z_(n,e,t,i){J_(n.x,e,pb,t?t.x:void 0,i?i.x:void 0),J_(n.y,e,mb,t?t.y:void 0,i?i.y:void 0)}function e1(n){return n.translate===0&&n.scale===1}function tS(n){return e1(n.x)&&e1(n.y)}function t1(n,e){return n.min===e.min&&n.max===e.max}function gb(n,e){return t1(n.x,e.x)&&t1(n.y,e.y)}function n1(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function nS(n,e){return n1(n.x,e.x)&&n1(n.y,e.y)}function r1(n){return kn(n.x)/kn(n.y)}function i1(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class yb{constructor(){this.members=[]}add(e){Ym(this.members,e),e.scheduleRender()}remove(e){if(Xm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let i;for(let o=t;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vb(n,e,t){let i="";const o=n.x.translate/e.x,l=n.y.translate/e.y,c=t?.z||0;if((o||l||c)&&(i=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:v,rotateX:w,rotateY:T,skewX:A,skewY:D}=t;m&&(i=`perspective(${m}px) ${i}`),v&&(i+=`rotate(${v}deg) `),w&&(i+=`rotateX(${w}deg) `),T&&(i+=`rotateY(${T}deg) `),A&&(i+=`skewX(${A}deg) `),D&&(i+=`skewY(${D}deg) `)}const f=n.x.scale*e.x,d=n.y.scale*e.y;return(f!==1||d!==1)&&(i+=`scale(${f}, ${d})`),i||"none"}const Es={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},fl=typeof window<"u"&&window.MotionDebug!==void 0,Bd=["","X","Y","Z"],_b={visibility:"hidden"},s1=1e3;let wb=0;function zd(n,e,t,i){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),i&&(i[n]=0))}function rS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=hT(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",st,!(o||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&rS(i)}function iS({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(c={},f=e?.()){this.id=wb++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fl&&(Es.totalNodes=Es.resolvedTargetDeltas=Es.recalculatedProjection=0),this.nodes.forEach(Sb),this.nodes.forEach(Pb),this.nodes.forEach(Rb),this.nodes.forEach(xb),fl&&window.MotionDebug.record(Es)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new ab)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Jm),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const d=this.eventHandlers.get(c);d&&d.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sb(c),this.instance=c;const{layoutId:d,layout:m,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(m||d)&&(this.isLayoutDirty=!0),n){let w;const T=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=lb(T,250),Fc.hasAnimatedSinceResize&&(Fc.hasAnimatedSinceResize=!1,this.nodes.forEach(a1))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&v&&(d||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:T,hasRelativeTargetChanged:A,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||v.getDefaultTransition()||Nb,{onLayoutAnimationStart:M,onLayoutAnimationComplete:H}=v.getProps(),q=!this.targetLayout||!nS(this.targetLayout,D)||A,K=!T&&A;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||K||T&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,K);const X={...qm(L,"layout"),onPlay:M,onComplete:H};(v.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X)}else T||a1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kb),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const w=this.path[v];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(o1);return}this.isUpdating||this.nodes.forEach(Ib),this.isUpdating=!1,this.nodes.forEach(Cb),this.nodes.forEach(Eb),this.nodes.forEach(Tb),this.clearAllSnapshots();const f=Rr.now();qt.delta=ei(0,1e3/60,f-qt.timestamp),qt.timestamp=f,qt.isProcessing=!0,Vd.update.process(qt),Vd.preRender.process(qt),Vd.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ab),this.sharedNodes.forEach(Vb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!tS(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;c&&(f||ws(this.latestValues)||v)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return c&&(d=this.removeTransform(d)),Mb(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:f}=this.options;if(!f)return _t();const d=f.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(Lb))){const{scroll:v}=this.root;v&&(Lo(d.x,v.offset.x),Lo(d.y,v.offset.y))}return d}removeElementScroll(c){var f;const d=_t();if(Un(d,c),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return d;for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:w,options:T}=v;v!==this.root&&w&&T.layoutScroll&&(w.wasRoot&&Un(d,c),Lo(d.x,w.offset.x),Lo(d.y,w.offset.y))}return d}applyTransform(c,f=!1){const d=_t();Un(d,c);for(let m=0;m<this.path.length;m++){const v=this.path[m];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Oo(d,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ws(v.latestValues)&&Oo(d,v.latestValues)}return ws(this.latestValues)&&Oo(d,this.latestValues),d}removeTransform(c){const f=_t();Un(f,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!ws(m.latestValues))continue;Vp(m.latestValues)&&m.updateSnapshot();const v=_t(),w=m.measurePageBox();Un(v,w),Z_(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return ws(this.latestValues)&&Z_(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var f;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:T}=this.options;if(!(!this.layout||!(w||T))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Tl(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),j4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Un(this.target,this.layout.layoutBox),QT(this.target,this.targetDelta)):Un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Tl(this.relativeTargetOrigin,this.target,A.target),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fl&&Es.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Vp(this.parent.latestValues)||GT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const f=this.getLead(),d=!!this.resumingFrom||this!==f;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(m=!1),m)return;const{layout:v,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||w))return;Un(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,A=this.treeScale.y;G4(this.layoutCorrected,this.treeScale,this.path,d),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=_t());const{target:D}=f;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Y_(this.prevProjectionDelta.x,this.projectionDelta.x),Y_(this.prevProjectionDelta.y,this.projectionDelta.y)),El(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==A||!i1(this.projectionDelta.x,this.prevProjectionDelta.x)||!i1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D)),fl&&Es.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mo(),this.projectionDelta=Mo(),this.projectionDeltaWithTransform=Mo()}setAnimationOrigin(c,f=!1){const d=this.snapshot,m=d?d.latestValues:{},v={...this.latestValues},w=Mo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=_t(),A=d?d.source:void 0,D=this.layout?this.layout.source:void 0,L=A!==D,M=this.getStack(),H=!M||M.members.length<=1,q=!!(L&&!H&&this.options.crossfade===!0&&!this.path.some(bb));this.animationProgress=0;let K;this.mixTargetDelta=X=>{const J=X/1e3;l1(w.x,c.x,J),l1(w.y,c.y,J),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tl(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Db(this.relativeTarget,this.relativeTargetOrigin,T,J),K&&gb(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=_t()),Un(K,this.relativeTarget)),L&&(this.animationValues=v,cb(v,m,this.latestValues,J,q,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Fc.hasAnimatedSinceResize=!0,this.currentAnimation=ib(0,s1,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(s1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:d,layout:m,latestValues:v}=c;if(!(!f||!d||!m)){if(this!==c&&this.layout&&m&&sS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||_t();const w=kn(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+w;const T=kn(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+T}Un(f,d),Oo(f,v),El(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new yb),this.sharedNodes.get(c).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:f}=this.options;return f?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:f}=this.options;return f?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const m={};d.z&&zd("z",c,m,this.animationValues);for(let v=0;v<Bd.length;v++)zd(`rotate${Bd[v]}`,c,m,this.animationValues),zd(`skew${Bd[v]}`,c,m,this.animationValues);c.render();for(const v in m)c.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);c.scheduleRender()}getProjectionStyles(c){var f,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return _b;const m={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Lc(c?.pointerEvents)||"",m.transform=v?v(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const L={};return this.options.layoutId&&(L.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,L.pointerEvents=Lc(c?.pointerEvents)||""),this.hasProjected&&!ws(this.latestValues)&&(L.transform=v?v({},""):"none",this.hasProjected=!1),L}const T=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=vb(this.projectionDeltaWithTransform,this.treeScale,T),v&&(m.transform=v(T,m.transform));const{x:A,y:D}=this.projectionDelta;m.transformOrigin=`${A.origin*100}% ${D.origin*100}% 0`,w.animationValues?m.opacity=w===this?(d=(f=T.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:m.opacity=w===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const L in sh){if(T[L]===void 0)continue;const{correct:M,applyTo:H}=sh[L],q=m.transform==="none"?T[L]:M(T[L],w);if(H){const K=H.length;for(let X=0;X<K;X++)m[H[X]]=q}else m[L]=q}return this.options.layoutId&&(m.pointerEvents=w===this?Lc(c?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(o1),this.root.sharedNodes.clear()}}}function Eb(n){n.updateLayout()}function Tb(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=n.layout,{animationType:l}=n.options,c=t.source!==n.layout.source;l==="size"?$n(w=>{const T=c?t.measuredBox[w]:t.layoutBox[w],A=kn(T);T.min=i[w].min,T.max=T.min+A}):sS(l,t.layoutBox,i)&&$n(w=>{const T=c?t.measuredBox[w]:t.layoutBox[w],A=kn(i[w]);T.max=T.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+A)});const f=Mo();El(f,i,t.layoutBox);const d=Mo();c?El(d,n.applyTransform(o,!0),t.measuredBox):El(d,i,t.layoutBox);const m=!tS(f);let v=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:T,layout:A}=w;if(T&&A){const D=_t();Tl(D,t.layoutBox,T.layoutBox);const L=_t();Tl(L,i,A.layoutBox),nS(D,L)||(v=!0),w.options.layoutRoot&&(n.relativeTarget=L,n.relativeTargetOrigin=D,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:d,layoutDelta:f,hasLayoutChanged:m,hasRelativeTargetChanged:v})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function Sb(n){fl&&Es.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function xb(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Ab(n){n.clearSnapshot()}function o1(n){n.clearMeasurements()}function Ib(n){n.isLayoutDirty=!1}function Cb(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function a1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Pb(n){n.resolveTargetDelta()}function Rb(n){n.calcProjection()}function kb(n){n.resetSkewAndRotation()}function Vb(n){n.removeLeadSnapshot()}function l1(n,e,t){n.translate=ht(e.translate,0,t),n.scale=ht(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function u1(n,e,t,i){n.min=ht(e.min,t.min,i),n.max=ht(e.max,t.max,i)}function Db(n,e,t,i){u1(n.x,e.x,t.x,i),u1(n.y,e.y,t.y,i)}function bb(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Nb={duration:.45,ease:[.4,0,.1,1]},c1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),h1=c1("applewebkit/")&&!c1("chrome/")?Math.round:Rn;function f1(n){n.min=h1(n.min),n.max=h1(n.max)}function Mb(n){f1(n.x),f1(n.y)}function sS(n,e,t){return n==="position"||n==="preserve-aspect"&&!F4(r1(e),r1(t),.2)}function Lb(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const Ob=iS({attachResizeListener:(n,e)=>jl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ud={current:void 0},oS=iS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ud.current){const n=new Ob({});n.mount(window),n.setOptions({layoutScroll:!0}),Ud.current=n}return Ud.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Fb={pan:{Feature:eb},drag:{Feature:Z4,ProjectionNode:oS,MeasureLayout:JT}};function d1(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,l=i[o];l&&st.postRender(()=>l(e,Gl(e)))}class jb extends Hi{mount(){const{current:e}=this.node;e&&(this.unmount=FV(e,t=>(d1(this.node,t,"Start"),i=>d1(this.node,i,"End"))))}unmount(){}}class Bb extends Hi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kl(jl(this.node.current,"focus",()=>this.onFocus()),jl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function p1(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),l=i[o];l&&st.postRender(()=>l(e,Gl(e)))}class zb extends Hi{mount(){const{current:e}=this.node;e&&(this.unmount=UV(e,t=>(p1(this.node,t,"Start"),(i,{success:o})=>p1(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bp=new WeakMap,$d=new WeakMap,Ub=n=>{const e=bp.get(n.target);e&&e(n)},$b=n=>{n.forEach(Ub)};function Hb({root:n,...e}){const t=n||document;$d.has(t)||$d.set(t,{});const i=$d.get(t),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver($b,{root:n,...e})),i[o]}function Wb(n,e,t){const i=Hb(e);return bp.set(n,t),i.observe(n),()=>{bp.delete(n),i.unobserve(n)}}const qb={some:0,all:1};class Kb extends Hi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:o="some",once:l}=e,c={root:t?t.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:qb[o]},f=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:w}=this.node.getProps(),T=m?v:w;T&&T(d)};return Wb(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Gb(e,t))&&this.startObserver()}unmount(){}}function Gb({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Qb={inView:{Feature:Kb},tap:{Feature:zb},focus:{Feature:Bb},hover:{Feature:jb}},Yb={layout:{ProjectionNode:oS,MeasureLayout:JT}},Np={current:null},aS={current:!1};function Xb(){if(aS.current=!0,!!Vm)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Np.current=n.matches;n.addListener(e),e()}else Np.current=!1}const Jb=[...DT,tn,Ui],Zb=n=>Jb.find(VT(n)),m1=new WeakMap;function e5(n,e,t){for(const i in e){const o=e[i],l=t[i];if(sn(o))n.addValue(i,o);else if(sn(l))n.addValue(i,Ol(o,{owner:n}));else if(l!==o)if(n.hasValue(i)){const c=n.getValue(i);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(i);n.addValue(i,Ol(c!==void 0?c:o,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const g1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class t5{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ig,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Rr.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,st.render(this.render,!1,!0))};const{latestValues:d,renderState:m,onUpdate:v}=c;this.onUpdate=v,this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Nh(t),this.isVariantNode=BE(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...T}=this.scrapeMotionValuesFromProps(t,{},this);for(const A in T){const D=T[A];d[A]!==void 0&&sn(D)&&D.set(d[A],!1)}}mount(e){this.current=e,m1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),aS.current||Xb(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Np.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){m1.delete(this.current),this.projection&&this.projection.unmount(),zi(this.notifyUpdate),zi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ms.has(e),o=t.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&st.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ta){const t=ta[e];if(!t)continue;const{isEnabled:i,Feature:o}=t;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<g1.length;i++){const o=g1[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=e5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Ol(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(RT(o)||wT(o))?o=parseFloat(o):!Zb(o)&&Ui.test(t)&&(o=IT(e,t)),this.setBaseTarget(e,sn(o)?o.get():o)),sn(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const c=Fm(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);c&&(o=c[e])}if(i&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!sn(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Jm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class lS extends t5{constructor(){super(...arguments),this.KeyframeResolver=bT}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function n5(n){return window.getComputedStyle(n)}class r5 extends lS{constructor(){super(...arguments),this.type="html",this.renderInstance=QE}readValueFromInstance(e,t){if(Ms.has(t)){const i=rg(t);return i&&i.default||0}else{const i=n5(e),o=(qE(t)?i.getPropertyValue(t):i[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return YT(e,t)}build(e,t,i){zm(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Wm(e,t,i)}}class i5 extends lS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_t}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ms.has(t)){const i=rg(t);return i&&i.default||0}return t=YE.has(t)?t:Mm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return ZE(e,t,i)}build(e,t,i){Um(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,o){XE(e,t,i,o)}mount(e){this.isSVGTag=Hm(e.tagName),super.mount(e)}}const s5=(n,e)=>Om(n)?new i5(e):new r5(e,{allowProjection:n!==se.Fragment}),o5=VV({...R4,...Qb,...Fb,...Yb},s5),a5=qk(o5),l5=[{key:"home",label:"Home",component:$.jsx(K1,{config:Ss})},{key:"publications",label:"Publications",component:$.jsx("div",{style:{padding:"32px"},children:"Publications content here."})},{key:"courses",label:"Courses",component:$.jsx("div",{style:{padding:"32px"},children:"Courses content here."})},{key:"students",label:"Students",component:$.jsx("div",{style:{padding:"32px"},children:"Students content here."})}];function u5(){const[n,e]=se.useState("light"),[t,i]=se.useState("home"),o=se.useRef(null),[l,c]=se.useState(!1),[f,d]=se.useState("home");se.useEffect(()=>{document.documentElement.setAttribute("data-theme",n)},[n]),se.useEffect(()=>{if(t!=="home")return;const w=()=>{const T=o.current||document.getElementById("publications");if(T){const A=T.getBoundingClientRect(),D=window.innerHeight;A.top<=D/2&&A.bottom>=0?d("publications"):d("home")}};return window.addEventListener("scroll",w),w(),()=>window.removeEventListener("scroll",w)},[t]),se.useEffect(()=>{l&&t==="home"&&setTimeout(()=>{if(o.current)o.current.scrollIntoView({behavior:"smooth",block:"start"});else{const w=document.getElementById("publications");w&&w.scrollIntoView({behavior:"smooth",block:"start"})}c(!1)},500),t!=="home"&&window.scrollTo({top:0,behavior:"smooth"})},[t,l]);const m=w=>{w==="publications"?t!=="home"?(i("home"),c(!0)):o.current&&o.current.scrollIntoView({behavior:"smooth",block:"start"}):w==="home"?t==="home"?(window.scrollTo({top:0,behavior:"smooth"}),d("home")):(i("home"),c(!1)):w==="life"?(i("life"),c(!1)):(i(w),c(!1))},v=()=>{i("home")};return $.jsx($.Fragment,{children:t==="life"?$.jsx(bk,{onClose:v}):$.jsxs($.Fragment,{children:[$.jsx(QA,{theme:n,setTheme:e,current:t,activeSection:f,onChange:m}),$.jsx("div",{style:{width:"100%",paddingTop:76,paddingLeft:100,paddingRight:48,boxSizing:"border-box",display:"flex",justifyContent:"center"},children:$.jsxs("div",{style:{display:"flex",width:"100%",maxWidth:1200,margin:"0 auto"},children:[$.jsx(zA,{config:Ss}),$.jsx("div",{style:{flex:1,minHeight:"100vh",background:"var(--bg)",transition:"background var(--transition)"},children:$.jsx(Fk,{mode:"wait",children:$.jsx(a5.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.4},style:{padding:"32px 24px",maxWidth:900,margin:"0 auto"},children:t==="home"?$.jsx(K1,{config:Ss,pubRef:o}):l5.find(w=>w.key===t)?.component||null},t)})})]})})]})})}Ex.createRoot(document.getElementById("root")).render($.jsx(Pn.StrictMode,{children:$.jsx(u5,{})}));
