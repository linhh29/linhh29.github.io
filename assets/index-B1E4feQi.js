(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();function yb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cv={exports:{}},il={},hv={exports:{}},Ve={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var dv;function dS(){if(dv)return Ve;dv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,M={};function L(V,G,ye){this.props=V,this.context=G,this.refs=M,this.updater=ye||D}L.prototype.isReactComponent={},L.prototype.setState=function(V,G){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,G,"setState")},L.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function H(){}H.prototype=L.prototype;function W(V,G,ye){this.props=V,this.context=G,this.refs=M,this.updater=ye||D}var Q=W.prototype=new H;Q.constructor=W,N(Q,L.prototype),Q.isPureReactComponent=!0;var J=Array.isArray,ee=Object.prototype.hasOwnProperty,re={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(V,G,ye){var Ie,_e={},Ne=null,Oe=null;if(G!=null)for(Ie in G.ref!==void 0&&(Oe=G.ref),G.key!==void 0&&(Ne=""+G.key),G)ee.call(G,Ie)&&!C.hasOwnProperty(Ie)&&(_e[Ie]=G[Ie]);var Le=arguments.length-2;if(Le===1)_e.children=ye;else if(1<Le){for(var Be=Array(Le),lt=0;lt<Le;lt++)Be[lt]=arguments[lt+2];_e.children=Be}if(V&&V.defaultProps)for(Ie in Le=V.defaultProps,Le)_e[Ie]===void 0&&(_e[Ie]=Le[Ie]);return{$$typeof:n,type:V,key:Ne,ref:Oe,props:_e,_owner:re.current}}function I(V,G){return{$$typeof:n,type:V.type,key:G,ref:V.ref,props:V.props,_owner:V._owner}}function P(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function O(V){var G={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ye){return G[ye]})}var F=/\/+/g;function _(V,G){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):G.toString(36)}function Ze(V,G,ye,Ie,_e){var Ne=typeof V;(Ne==="undefined"||Ne==="boolean")&&(V=null);var Oe=!1;if(V===null)Oe=!0;else switch(Ne){case"string":case"number":Oe=!0;break;case"object":switch(V.$$typeof){case n:case e:Oe=!0}}if(Oe)return Oe=V,_e=_e(Oe),V=Ie===""?"."+_(Oe,0):Ie,J(_e)?(ye="",V!=null&&(ye=V.replace(F,"$&/")+"/"),Ze(_e,G,ye,"",function(lt){return lt})):_e!=null&&(P(_e)&&(_e=I(_e,ye+(!_e.key||Oe&&Oe.key===_e.key?"":(""+_e.key).replace(F,"$&/")+"/")+V)),G.push(_e)),1;if(Oe=0,Ie=Ie===""?".":Ie+":",J(V))for(var Le=0;Le<V.length;Le++){Ne=V[Le];var Be=Ie+_(Ne,Le);Oe+=Ze(Ne,G,ye,Be,_e)}else if(Be=S(V),typeof Be=="function")for(V=Be.call(V),Le=0;!(Ne=V.next()).done;)Ne=Ne.value,Be=Ie+_(Ne,Le++),Oe+=Ze(Ne,G,ye,Be,_e);else if(Ne==="object")throw G=String(V),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Oe}function Fe(V,G,ye){if(V==null)return V;var Ie=[],_e=0;return Ze(V,Ie,"","",function(Ne){return G.call(ye,Ne,_e++)}),Ie}function Ke(V){if(V._status===-1){var G=V._result;G=G(),G.then(function(ye){(V._status===0||V._status===-1)&&(V._status=1,V._result=ye)},function(ye){(V._status===0||V._status===-1)&&(V._status=2,V._result=ye)}),V._status===-1&&(V._status=0,V._result=G)}if(V._status===1)return V._result.default;throw V._result}var je={current:null},se={transition:null},he={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:se,ReactCurrentOwner:re};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Fe,forEach:function(V,G,ye){Fe(V,function(){G.apply(this,arguments)},ye)},count:function(V){var G=0;return Fe(V,function(){G++}),G},toArray:function(V){return Fe(V,function(G){return G})||[]},only:function(V){if(!P(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ve.Component=L,Ve.Fragment=t,Ve.Profiler=s,Ve.PureComponent=W,Ve.StrictMode=i,Ve.Suspense=p,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Ve.act=le,Ve.cloneElement=function(V,G,ye){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Ie=N({},V.props),_e=V.key,Ne=V.ref,Oe=V._owner;if(G!=null){if(G.ref!==void 0&&(Ne=G.ref,Oe=re.current),G.key!==void 0&&(_e=""+G.key),V.type&&V.type.defaultProps)var Le=V.type.defaultProps;for(Be in G)ee.call(G,Be)&&!C.hasOwnProperty(Be)&&(Ie[Be]=G[Be]===void 0&&Le!==void 0?Le[Be]:G[Be])}var Be=arguments.length-2;if(Be===1)Ie.children=ye;else if(1<Be){Le=Array(Be);for(var lt=0;lt<Be;lt++)Le[lt]=arguments[lt+2];Ie.children=Le}return{$$typeof:n,type:V.type,key:_e,ref:Ne,props:Ie,_owner:Oe}},Ve.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:l,_context:V},V.Consumer=V},Ve.createElement=T,Ve.createFactory=function(V){var G=T.bind(null,V);return G.type=V,G},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(V){return{$$typeof:d,render:V}},Ve.isValidElement=P,Ve.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:Ke}},Ve.memo=function(V,G){return{$$typeof:y,type:V,compare:G===void 0?null:G}},Ve.startTransition=function(V){var G=se.transition;se.transition={};try{V()}finally{se.transition=G}},Ve.unstable_act=le,Ve.useCallback=function(V,G){return je.current.useCallback(V,G)},Ve.useContext=function(V){return je.current.useContext(V)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(V){return je.current.useDeferredValue(V)},Ve.useEffect=function(V,G){return je.current.useEffect(V,G)},Ve.useId=function(){return je.current.useId()},Ve.useImperativeHandle=function(V,G,ye){return je.current.useImperativeHandle(V,G,ye)},Ve.useInsertionEffect=function(V,G){return je.current.useInsertionEffect(V,G)},Ve.useLayoutEffect=function(V,G){return je.current.useLayoutEffect(V,G)},Ve.useMemo=function(V,G){return je.current.useMemo(V,G)},Ve.useReducer=function(V,G,ye){return je.current.useReducer(V,G,ye)},Ve.useRef=function(V){return je.current.useRef(V)},Ve.useState=function(V){return je.current.useState(V)},Ve.useSyncExternalStore=function(V,G,ye){return je.current.useSyncExternalStore(V,G,ye)},Ve.useTransition=function(){return je.current.useTransition()},Ve.version="18.3.1",Ve}var fv;function Pp(){return fv||(fv=1,hv.exports=dS()),hv.exports}/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var pv;function fS(){if(pv)return il;pv=1;var n=Pp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var v,w={},S=null,D=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(D=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(w[v]=p[v]);if(d&&d.defaultProps)for(v in p=d.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:e,type:d,key:S,ref:D,props:w,_owner:s.current}}return il.Fragment=t,il.jsx=c,il.jsxs=c,il}var mv;function pS(){return mv||(mv=1,cv.exports=fS()),cv.exports}var $=pS(),ie=Pp();const _n=yb(ie);var uc={},uf={exports:{}},yn={},gv={exports:{}},yv={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var vv;function mS(){return vv||(vv=1,function(n){function e(se,he){var le=se.length;se.push(he);e:for(;0<le;){var V=le-1>>>1,G=se[V];if(0<s(G,he))se[V]=he,se[le]=G,le=V;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var he=se[0],le=se.pop();if(le!==he){se[0]=le;e:for(var V=0,G=se.length,ye=G>>>1;V<ye;){var Ie=2*(V+1)-1,_e=se[Ie],Ne=Ie+1,Oe=se[Ne];if(0>s(_e,le))Ne<G&&0>s(Oe,_e)?(se[V]=Oe,se[Ne]=le,V=Ne):(se[V]=_e,se[Ie]=le,V=Ie);else if(Ne<G&&0>s(Oe,le))se[V]=Oe,se[Ne]=le,V=Ne;else break e}}return he}function s(se,he){var le=se.sortIndex-he.sortIndex;return le!==0?le:se.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],v=1,w=null,S=3,D=!1,N=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(se){for(var he=t(y);he!==null;){if(he.callback===null)i(y);else if(he.startTime<=se)i(y),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(y)}}function J(se){if(M=!1,Q(se),!N)if(t(p)!==null)N=!0,Ke(ee);else{var he=t(y);he!==null&&je(J,he.startTime-se)}}function ee(se,he){N=!1,M&&(M=!1,H(T),T=-1),D=!0;var le=S;try{for(Q(he),w=t(p);w!==null&&(!(w.expirationTime>he)||se&&!O());){var V=w.callback;if(typeof V=="function"){w.callback=null,S=w.priorityLevel;var G=V(w.expirationTime<=he);he=n.unstable_now(),typeof G=="function"?w.callback=G:w===t(p)&&i(p),Q(he)}else i(p);w=t(p)}if(w!==null)var ye=!0;else{var Ie=t(y);Ie!==null&&je(J,Ie.startTime-he),ye=!1}return ye}finally{w=null,S=le,D=!1}}var re=!1,C=null,T=-1,I=5,P=-1;function O(){return!(n.unstable_now()-P<I)}function F(){if(C!==null){var se=n.unstable_now();P=se;var he=!0;try{he=C(!0,se)}finally{he?_():(re=!1,C=null)}}else re=!1}var _;if(typeof W=="function")_=function(){W(F)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Fe=Ze.port2;Ze.port1.onmessage=F,_=function(){Fe.postMessage(null)}}else _=function(){L(F,0)};function Ke(se){C=se,re||(re=!0,_())}function je(se,he){T=L(function(){se(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){N||D||(N=!0,Ke(ee))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(se){switch(S){case 1:case 2:case 3:var he=3;break;default:he=S}var le=S;S=he;try{return se()}finally{S=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,he){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=S;S=se;try{return he()}finally{S=le}},n.unstable_scheduleCallback=function(se,he,le){var V=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?V+le:V):le=V,se){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=le+G,se={id:v++,callback:he,priorityLevel:se,startTime:le,expirationTime:G,sortIndex:-1},le>V?(se.sortIndex=le,e(y,se),t(p)===null&&se===t(y)&&(M?(H(T),T=-1):M=!0,je(J,le-V))):(se.sortIndex=G,e(p,se),N||D||(N=!0,Ke(ee))),se},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(se){var he=S;return function(){var le=S;S=he;try{return se.apply(this,arguments)}finally{S=le}}}}(yv)),yv}var bv;function gS(){return bv||(bv=1,gv.exports=mS()),gv.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var wv;function yS(){if(wv)return yn;wv=1;var n=Pp(),e=gS();function t(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(r,o){c(r,o),c(r+"Capture",o)}function c(r,o){for(s[r]=o,r=0;r<o.length;r++)i.add(o[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function S(r){return p.call(w,r)?!0:p.call(v,r)?!1:y.test(r)?w[r]=!0:(v[r]=!0,!1)}function D(r,o,a,h){if(a!==null&&a.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function N(r,o,a,h){if(o===null||typeof o>"u"||D(r,o,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function M(r,o,a,h,f,g,x){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=o,this.sanitizeURL=g,this.removeEmptyString=x}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];L[o]=new M(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function W(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(H,W);L[o]=new M(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(H,W);L[o]=new M(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(H,W);L[o]=new M(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function Q(r,o,a,h){var f=L.hasOwnProperty(o)?L[o]:null;(f!==null?f.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(N(o,a,f,h)&&(a=null),h||f===null?S(o)&&(a===null?r.removeAttribute(o):r.setAttribute(o,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(o=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(o):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,o,a):r.setAttribute(o,a))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),re=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),O=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),se=Symbol.iterator;function he(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,V;function G(r){if(V===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||""}return`
`+V+r}var ye=!1;function Ie(r,o){if(!r||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(U){var h=U}Reflect.construct(r,[],o)}else{try{o.call()}catch(U){h=U}r.call(o.prototype)}else{try{throw Error()}catch(U){h=U}r()}}catch(U){if(U&&h&&typeof U.stack=="string"){for(var f=U.stack.split(`
`),g=h.stack.split(`
`),x=f.length-1,k=g.length-1;1<=x&&0<=k&&f[x]!==g[k];)k--;for(;1<=x&&0<=k;x--,k--)if(f[x]!==g[k]){if(x!==1||k!==1)do if(x--,k--,0>k||f[x]!==g[k]){var A=`
`+f[x].replace(" at new "," at ");return r.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",r.displayName)),A}while(1<=x&&0<=k);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?G(r):""}function _e(r){switch(r.tag){case 5:return G(r.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return r=Ie(r.type,!1),r;case 11:return r=Ie(r.type.render,!1),r;case 1:return r=Ie(r.type,!0),r;default:return""}}function Ne(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case re:return"Portal";case I:return"Profiler";case T:return"StrictMode";case _:return"Suspense";case Ze:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:return(r.displayName||"Context")+".Consumer";case P:return(r._context.displayName||"Context")+".Provider";case F:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Fe:return o=r.displayName||null,o!==null?o:Ne(r.type)||"Memo";case Ke:o=r._payload,r=r._init;try{return Ne(r(o))}catch{}}return null}function Oe(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(o);case 8:return o===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Le(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Be(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function lt(r){var o=Be(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),h=""+r[o];if(!r.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return f.call(this)},set:function(x){h=""+x,g.call(this,x)}}),Object.defineProperty(r,o,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Nt(r){r._valueTracker||(r._valueTracker=lt(r))}function Bt(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var a=o.getValue(),h="";return r&&(h=Be(r)?r.checked?"true":"false":r.value),r=h,r!==a?(o.setValue(r),!0):!1}function te(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function pe(r,o){var a=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function be(r,o){var a=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;a=Le(o.value!=null?o.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Pe(r,o){o=o.checked,o!=null&&Q(r,"checked",o,!1)}function Xe(r,o){Pe(r,o);var a=Le(o.value),h=o.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?Gn(r,o.type,a):o.hasOwnProperty("defaultValue")&&Gn(r,o.type,Le(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function zt(r,o,a){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,a||o===r.value||(r.value=o),r.defaultValue=o}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Gn(r,o,a){(o!=="number"||te(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Wn=Array.isArray;function Ar(r,o,a,h){if(r=r.options,o){o={};for(var f=0;f<a.length;f++)o["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=o.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Le(a),o=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}o!==null||r[f].disabled||(o=r[f])}o!==null&&(o.selected=!0)}}function da(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Vo(r,o){var a=o.value;if(a==null){if(a=o.children,o=o.defaultValue,a!=null){if(o!=null)throw Error(t(92));if(Wn(a)){if(1<a.length)throw Error(t(93));a=a[0]}o=a}o==null&&(o=""),a=o}r._wrapperState={initialValue:Le(a)}}function Fo(r,o){var a=Le(o.value),h=Le(o.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),o.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function fa(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function kt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ct(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?kt(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Nr,pa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(o,a,h,f)})}:r}(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(Nr=Nr||document.createElement("div"),Nr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Nr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function ti(r,o){if(o){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=o;return}}r.textContent=o}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gi=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(r){Gi.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),Hi[o]=Hi[r]})});function ma(r,o,a){return o==null||typeof o=="boolean"||o===""?"":a||typeof o!="number"||o===0||Hi.hasOwnProperty(r)&&Hi[r]?(""+o).trim():o+"px"}function ga(r,o){r=r.style;for(var a in o)if(o.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=ma(a,o[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var ya=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function va(r,o){if(o){if(ya[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ba(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wi=null;function jo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Bo=null,An=null,fr=null;function zo(r){if(r=$a(r)){if(typeof Bo!="function")throw Error(t(280));var o=r.stateNode;o&&(o=Tu(o),Bo(r.stateNode,r.type,o))}}function pr(r){An?fr?fr.push(r):fr=[r]:An=r}function wa(){if(An){var r=An,o=fr;if(fr=An=null,zo(r),o)for(r=0;r<o.length;r++)zo(o[r])}}function Ki(r,o){return r(o)}function xa(){}var Rr=!1;function Ea(r,o,a){if(Rr)return r(o,a);Rr=!0;try{return Ki(r,o,a)}finally{Rr=!1,(An!==null||fr!==null)&&(xa(),wa())}}function yt(r,o){var a=r.stateNode;if(a===null)return null;var h=Tu(a);if(h===null)return null;a=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,o,typeof a));return a}var Uo=!1;if(d)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{Uo=!1}function Qi(r,o,a,h,f,g,x,k,A){var U=Array.prototype.slice.call(arguments,3);try{o.apply(a,U)}catch(Z){this.onError(Z)}}var Yi=!1,$o=null,Qn=!1,Sa=null,Vh={onError:function(r){Yi=!0,$o=r}};function qo(r,o,a,h,f,g,x,k,A){Yi=!1,$o=null,Qi.apply(Vh,arguments)}function Ql(r,o,a,h,f,g,x,k,A){if(qo.apply(this,arguments),Yi){if(Yi){var U=$o;Yi=!1,$o=null}else throw Error(t(198));Qn||(Qn=!0,Sa=U)}}function Yn(r){var o=r,a=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(a=o.return),r=o.return;while(r)}return o.tag===3?a:null}function Xi(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function Xn(r){if(Yn(r)!==r)throw Error(t(188))}function Yl(r){var o=r.alternate;if(!o){if(o=Yn(r),o===null)throw Error(t(188));return o!==r?null:r}for(var a=r,h=o;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Xn(f),r;if(g===h)return Xn(f),o;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var x=!1,k=f.child;k;){if(k===a){x=!0,a=f,h=g;break}if(k===h){x=!0,h=f,a=g;break}k=k.sibling}if(!x){for(k=g.child;k;){if(k===a){x=!0,a=g,h=f;break}if(k===h){x=!0,h=g,a=f;break}k=k.sibling}if(!x)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:o}function Ta(r){return r=Yl(r),r!==null?Ho(r):null}function Ho(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=Ho(r);if(o!==null)return o;r=r.sibling}return null}var Go=e.unstable_scheduleCallback,ka=e.unstable_cancelCallback,Xl=e.unstable_shouldYield,Fh=e.unstable_requestPaint,tt=e.unstable_now,Zl=e.unstable_getCurrentPriorityLevel,Zi=e.unstable_ImmediatePriority,ni=e.unstable_UserBlockingPriority,Nn=e.unstable_NormalPriority,Ca=e.unstable_LowPriority,Jl=e.unstable_IdlePriority,Ji=null,wn=null;function eu(r){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Ji,r,void 0,(r.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:nu,Ia=Math.log,tu=Math.LN2;function nu(r){return r>>>=0,r===0?32:31-(Ia(r)/tu|0)|0}var Wo=64,Ko=4194304;function ri(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function eo(r,o){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,x=a&268435455;if(x!==0){var k=x&~f;k!==0?h=ri(k):(g&=x,g!==0&&(h=ri(g)))}else x=a&~f,x!==0?h=ri(x):g!==0&&(h=ri(g));if(h===0)return 0;if(o!==0&&o!==h&&(o&f)===0&&(f=h&-h,g=o&-o,f>=g||f===16&&(g&4194240)!==0))return o;if((h&4)!==0&&(h|=a&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=h;0<o;)a=31-sn(o),f=1<<a,h|=r[a],o&=~f;return h}function jh(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Or(r,o){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var x=31-sn(g),k=1<<x,A=f[x];A===-1?((k&a)===0||(k&h)!==0)&&(f[x]=jh(k,o)):A<=o&&(r.expiredLanes|=k),g&=~k}}function xn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function to(){var r=Wo;return Wo<<=1,(Wo&4194240)===0&&(Wo=64),r}function ii(r){for(var o=[],a=0;31>a;a++)o.push(r);return o}function oi(r,o,a){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-sn(o),r[o]=a}function Je(r,o){var a=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-sn(a),g=1<<f;o[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function si(r,o){var a=r.entangledLanes|=o;for(r=r.entanglements;a;){var h=31-sn(a),f=1<<h;f&o|r[h]&o&&(r[h]|=o),a&=~f}}var Ue=0;function ai(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var ru,Qo,iu,ou,su,_a=!1,mr=[],Ut=null,Zn=null,Jn=null,li=new Map,Rn=new Map,gr=[],Bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(r,o){switch(r){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":li.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(o.pointerId)}}function cn(r,o,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:o,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},o!==null&&(o=$a(o),o!==null&&Qo(o)),r):(r.eventSystemFlags|=h,o=r.targetContainers,f!==null&&o.indexOf(f)===-1&&o.push(f),r)}function zh(r,o,a,h,f){switch(o){case"focusin":return Ut=cn(Ut,r,o,a,h,f),!0;case"dragenter":return Zn=cn(Zn,r,o,a,h,f),!0;case"mouseover":return Jn=cn(Jn,r,o,a,h,f),!0;case"pointerover":var g=f.pointerId;return li.set(g,cn(li.get(g)||null,r,o,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Rn.set(g,cn(Rn.get(g)||null,r,o,a,h,f)),!0}return!1}function lu(r){var o=so(r.target);if(o!==null){var a=Yn(o);if(a!==null){if(o=a.tag,o===13){if(o=Xi(a),o!==null){r.blockedOn=o,su(r.priority,function(){iu(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Lr(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var a=Yo(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Wi=h,a.target.dispatchEvent(h),Wi=null}else return o=$a(a),o!==null&&Qo(o),r.blockedOn=a,!1;o.shift()}return!0}function no(r,o,a){Lr(r)&&a.delete(o)}function uu(){_a=!1,Ut!==null&&Lr(Ut)&&(Ut=null),Zn!==null&&Lr(Zn)&&(Zn=null),Jn!==null&&Lr(Jn)&&(Jn=null),li.forEach(no),Rn.forEach(no)}function er(r,o){r.blockedOn===o&&(r.blockedOn=null,_a||(_a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uu)))}function tr(r){function o(f){return er(f,r)}if(0<mr.length){er(mr[0],r);for(var a=1;a<mr.length;a++){var h=mr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Ut!==null&&er(Ut,r),Zn!==null&&er(Zn,r),Jn!==null&&er(Jn,r),li.forEach(o),Rn.forEach(o),a=0;a<gr.length;a++)h=gr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<gr.length&&(a=gr[0],a.blockedOn===null);)lu(a),a.blockedOn===null&&gr.shift()}var Mr=J.ReactCurrentBatchConfig,ui=!0;function ut(r,o,a,h){var f=Ue,g=Mr.transition;Mr.transition=null;try{Ue=1,Da(r,o,a,h)}finally{Ue=f,Mr.transition=g}}function Uh(r,o,a,h){var f=Ue,g=Mr.transition;Mr.transition=null;try{Ue=4,Da(r,o,a,h)}finally{Ue=f,Mr.transition=g}}function Da(r,o,a,h){if(ui){var f=Yo(r,o,a,h);if(f===null)Jh(r,o,h,ro,a),au(r,h);else if(zh(f,r,o,a,h))h.stopPropagation();else if(au(r,h),o&4&&-1<Bh.indexOf(r)){for(;f!==null;){var g=$a(f);if(g!==null&&ru(g),g=Yo(r,o,a,h),g===null&&Jh(r,o,h,ro,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else Jh(r,o,h,null,a)}}var ro=null;function Yo(r,o,a,h){if(ro=null,r=jo(h),r=so(r),r!==null)if(o=Yn(r),o===null)r=null;else if(a=o.tag,a===13){if(r=Xi(o),r!==null)return r;r=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return ro=r,null}function Pa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zl()){case Zi:return 1;case ni:return 4;case Nn:case Ca:return 16;case Jl:return 536870912;default:return 16}default:return 16}}var En=null,Xo=null,hn=null;function Aa(){if(hn)return hn;var r,o=Xo,a=o.length,h,f="value"in En?En.value:En.textContent,g=f.length;for(r=0;r<a&&o[r]===f[r];r++);var x=a-r;for(h=1;h<=x&&o[a-h]===f[g-h];h++);return hn=f.slice(r,1<h?1-h:void 0)}function Zo(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function yr(){return!0}function Na(){return!1}function $t(r){function o(a,h,f,g,x){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(a=r[k],this[k]=a?a(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?yr:Na,this.isPropagationStopped=Na,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),o}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=$t(nr),vr=le({},nr,{view:0,detail:0}),$h=$t(vr),es,Vr,ci,io=le({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ci&&(ci&&r.type==="mousemove"?(es=r.screenX-ci.screenX,Vr=r.screenY-ci.screenY):Vr=es=0,ci=r),es)},movementY:function(r){return"movementY"in r?r.movementY:Vr}}),ts=$t(io),Ra=le({},io,{dataTransfer:0}),cu=$t(Ra),ns=le({},vr,{relatedTarget:0}),rs=$t(ns),hu=le({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Fr=$t(hu),du=le({},nr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),fu=$t(du),pu=le({},nr,{data:0}),Oa=$t(pu),is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=mu[r])?!!o[r]:!1}function br(){return gu}var u=le({},vr,{key:function(r){if(r.key){var o=is[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Zo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?an[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(r){return r.type==="keypress"?Zo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Zo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=$t(u),b=le({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=$t(b),j=le({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),q=$t(j),ae=le({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=$t(ae),It=le({},io,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),We=$t(It),Rt=[9,13,27,32],Ot=d&&"CompositionEvent"in window,On=null;d&&"documentMode"in document&&(On=document.documentMode);var Sn=d&&"TextEvent"in window&&!On,oo=d&&(!Ot||On&&8<On&&11>=On),os=" ",rg=!1;function ig(r,o){switch(r){case"keyup":return Rt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function og(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ss=!1;function uE(r,o){switch(r){case"compositionend":return og(o);case"keypress":return o.which!==32?null:(rg=!0,os);case"textInput":return r=o.data,r===os&&rg?null:r;default:return null}}function cE(r,o){if(ss)return r==="compositionend"||!Ot&&ig(r,o)?(r=Aa(),hn=Xo=En=null,ss=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return oo&&o.locale!=="ko"?null:o.data;default:return null}}var hE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!hE[r.type]:o==="textarea"}function ag(r,o,a,h){pr(h),o=xu(o,"onChange"),0<o.length&&(a=new Jo("onChange","change",null,a,h),r.push({event:a,listeners:o}))}var La=null,Ma=null;function dE(r){kg(r,0)}function yu(r){var o=hs(r);if(Bt(o))return r}function fE(r,o){if(r==="change")return o}var lg=!1;if(d){var qh;if(d){var Hh="oninput"in document;if(!Hh){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),Hh=typeof ug.oninput=="function"}qh=Hh}else qh=!1;lg=qh&&(!document.documentMode||9<document.documentMode)}function cg(){La&&(La.detachEvent("onpropertychange",hg),Ma=La=null)}function hg(r){if(r.propertyName==="value"&&yu(Ma)){var o=[];ag(o,Ma,r,jo(r)),Ea(dE,o)}}function pE(r,o,a){r==="focusin"?(cg(),La=o,Ma=a,La.attachEvent("onpropertychange",hg)):r==="focusout"&&cg()}function mE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yu(Ma)}function gE(r,o){if(r==="click")return yu(o)}function yE(r,o){if(r==="input"||r==="change")return yu(o)}function vE(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var rr=typeof Object.is=="function"?Object.is:vE;function Va(r,o){if(rr(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var a=Object.keys(r),h=Object.keys(o);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(o,f)||!rr(r[f],o[f]))return!1}return!0}function dg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function fg(r,o){var a=dg(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=o&&h>=o)return{node:a,offset:o-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function pg(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?pg(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function mg(){for(var r=window,o=te();o instanceof r.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)r=o.contentWindow;else break;o=te(r.document)}return o}function Gh(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function bE(r){var o=mg(),a=r.focusedElem,h=r.selectionRange;if(o!==a&&a&&a.ownerDocument&&pg(a.ownerDocument.documentElement,a)){if(h!==null&&Gh(a)){if(o=h.start,r=h.end,r===void 0&&(r=o),"selectionStart"in a)a.selectionStart=o,a.selectionEnd=Math.min(r,a.value.length);else if(r=(o=a.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=fg(a,g);var x=fg(a,h);f&&x&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(o=o.createRange(),o.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(o),r.extend(x.node,x.offset)):(o.setEnd(x.node,x.offset),r.addRange(o)))}}for(o=[],r=a;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<o.length;a++)r=o[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var wE=d&&"documentMode"in document&&11>=document.documentMode,as=null,Wh=null,Fa=null,Kh=!1;function gg(r,o,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||as==null||as!==te(h)||(h=as,"selectionStart"in h&&Gh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Fa&&Va(Fa,h)||(Fa=h,h=xu(Wh,"onSelect"),0<h.length&&(o=new Jo("onSelect","select",null,o,a),r.push({event:o,listeners:h}),o.target=as)))}function vu(r,o){var a={};return a[r.toLowerCase()]=o.toLowerCase(),a["Webkit"+r]="webkit"+o,a["Moz"+r]="moz"+o,a}var ls={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},Qh={},yg={};d&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function bu(r){if(Qh[r])return Qh[r];if(!ls[r])return r;var o=ls[r],a;for(a in o)if(o.hasOwnProperty(a)&&a in yg)return Qh[r]=o[a];return r}var vg=bu("animationend"),bg=bu("animationiteration"),wg=bu("animationstart"),xg=bu("transitionend"),Eg=new Map,Sg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(r,o){Eg.set(r,o),l(o,[r])}for(var Yh=0;Yh<Sg.length;Yh++){var Xh=Sg[Yh],xE=Xh.toLowerCase(),EE=Xh[0].toUpperCase()+Xh.slice(1);hi(xE,"on"+EE)}hi(vg,"onAnimationEnd"),hi(bg,"onAnimationIteration"),hi(wg,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(xg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function Tg(r,o,a){var h=r.type||"unknown-event";r.currentTarget=a,Ql(h,o,void 0,r),r.currentTarget=null}function kg(r,o){o=(o&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(o)for(var x=h.length-1;0<=x;x--){var k=h[x],A=k.instance,U=k.currentTarget;if(k=k.listener,A!==g&&f.isPropagationStopped())break e;Tg(f,k,U),g=A}else for(x=0;x<h.length;x++){if(k=h[x],A=k.instance,U=k.currentTarget,k=k.listener,A!==g&&f.isPropagationStopped())break e;Tg(f,k,U),g=A}}}if(Qn)throw r=Sa,Qn=!1,Sa=null,r}function rt(r,o){var a=o[od];a===void 0&&(a=o[od]=new Set);var h=r+"__bubble";a.has(h)||(Cg(o,r,2,!1),a.add(h))}function Zh(r,o,a){var h=0;o&&(h|=4),Cg(a,r,h,o)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Ba(r){if(!r[wu]){r[wu]=!0,i.forEach(function(a){a!=="selectionchange"&&(SE.has(a)||Zh(a,!1,r),Zh(a,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[wu]||(o[wu]=!0,Zh("selectionchange",!1,o))}}function Cg(r,o,a,h){switch(Pa(o)){case 1:var f=ut;break;case 4:f=Uh;break;default:f=Da}a=f.bind(null,o,a,r),f=void 0,!Uo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(o,a,{capture:!0,passive:f}):r.addEventListener(o,a,!0):f!==void 0?r.addEventListener(o,a,{passive:f}):r.addEventListener(o,a,!1)}function Jh(r,o,a,h,f){var g=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var k=h.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(x===4)for(x=h.return;x!==null;){var A=x.tag;if((A===3||A===4)&&(A=x.stateNode.containerInfo,A===f||A.nodeType===8&&A.parentNode===f))return;x=x.return}for(;k!==null;){if(x=so(k),x===null)return;if(A=x.tag,A===5||A===6){h=g=x;continue e}k=k.parentNode}}h=h.return}Ea(function(){var U=g,Z=jo(a),ne=[];e:{var X=Eg.get(r);if(X!==void 0){var ue=Jo,me=r;switch(r){case"keypress":if(Zo(a)===0)break e;case"keydown":case"keyup":ue=m;break;case"focusin":me="focus",ue=rs;break;case"focusout":me="blur",ue=rs;break;case"beforeblur":case"afterblur":ue=rs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=q;break;case vg:case bg:case wg:ue=Fr;break;case xg:ue=et;break;case"scroll":ue=$h;break;case"wheel":ue=We;break;case"copy":case"cut":case"paste":ue=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=E}var ge=(o&4)!==0,vt=!ge&&r==="scroll",B=ge?X!==null?X+"Capture":null:X;ge=[];for(var R=U,z;R!==null;){z=R;var oe=z.stateNode;if(z.tag===5&&oe!==null&&(z=oe,B!==null&&(oe=yt(R,B),oe!=null&&ge.push(za(R,oe,z)))),vt)break;R=R.return}0<ge.length&&(X=new ue(X,me,null,a,Z),ne.push({event:X,listeners:ge}))}}if((o&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",X&&a!==Wi&&(me=a.relatedTarget||a.fromElement)&&(so(me)||me[jr]))break e;if((ue||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,ue?(me=a.relatedTarget||a.toElement,ue=U,me=me?so(me):null,me!==null&&(vt=Yn(me),me!==vt||me.tag!==5&&me.tag!==6)&&(me=null)):(ue=null,me=U),ue!==me)){if(ge=ts,oe="onMouseLeave",B="onMouseEnter",R="mouse",(r==="pointerout"||r==="pointerover")&&(ge=E,oe="onPointerLeave",B="onPointerEnter",R="pointer"),vt=ue==null?X:hs(ue),z=me==null?X:hs(me),X=new ge(oe,R+"leave",ue,a,Z),X.target=vt,X.relatedTarget=z,oe=null,so(Z)===U&&(ge=new ge(B,R+"enter",me,a,Z),ge.target=z,ge.relatedTarget=vt,oe=ge),vt=oe,ue&&me)t:{for(ge=ue,B=me,R=0,z=ge;z;z=us(z))R++;for(z=0,oe=B;oe;oe=us(oe))z++;for(;0<R-z;)ge=us(ge),R--;for(;0<z-R;)B=us(B),z--;for(;R--;){if(ge===B||B!==null&&ge===B.alternate)break t;ge=us(ge),B=us(B)}ge=null}else ge=null;ue!==null&&Ig(ne,X,ue,ge,!1),me!==null&&vt!==null&&Ig(ne,vt,me,ge,!0)}}e:{if(X=U?hs(U):window,ue=X.nodeName&&X.nodeName.toLowerCase(),ue==="select"||ue==="input"&&X.type==="file")var ve=fE;else if(sg(X))if(lg)ve=yE;else{ve=mE;var Ee=pE}else(ue=X.nodeName)&&ue.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(ve=gE);if(ve&&(ve=ve(r,U))){ag(ne,ve,a,Z);break e}Ee&&Ee(r,X,U),r==="focusout"&&(Ee=X._wrapperState)&&Ee.controlled&&X.type==="number"&&Gn(X,"number",X.value)}switch(Ee=U?hs(U):window,r){case"focusin":(sg(Ee)||Ee.contentEditable==="true")&&(as=Ee,Wh=U,Fa=null);break;case"focusout":Fa=Wh=as=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,gg(ne,a,Z);break;case"selectionchange":if(wE)break;case"keydown":case"keyup":gg(ne,a,Z)}var Se;if(Ot)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else ss?ig(r,a)&&(Ce="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(oo&&a.locale!=="ko"&&(ss||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&ss&&(Se=Aa()):(En=Z,Xo="value"in En?En.value:En.textContent,ss=!0)),Ee=xu(U,Ce),0<Ee.length&&(Ce=new Oa(Ce,r,null,a,Z),ne.push({event:Ce,listeners:Ee}),Se?Ce.data=Se:(Se=og(a),Se!==null&&(Ce.data=Se)))),(Se=Sn?uE(r,a):cE(r,a))&&(U=xu(U,"onBeforeInput"),0<U.length&&(Z=new Oa("onBeforeInput","beforeinput",null,a,Z),ne.push({event:Z,listeners:U}),Z.data=Se))}kg(ne,o)})}function za(r,o,a){return{instance:r,listener:o,currentTarget:a}}function xu(r,o){for(var a=o+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=yt(r,a),g!=null&&h.unshift(za(r,g,f)),g=yt(r,o),g!=null&&h.push(za(r,g,f))),r=r.return}return h}function us(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ig(r,o,a,h,f){for(var g=o._reactName,x=[];a!==null&&a!==h;){var k=a,A=k.alternate,U=k.stateNode;if(A!==null&&A===h)break;k.tag===5&&U!==null&&(k=U,f?(A=yt(a,g),A!=null&&x.unshift(za(a,A,k))):f||(A=yt(a,g),A!=null&&x.push(za(a,A,k)))),a=a.return}x.length!==0&&r.push({event:o,listeners:x})}var TE=/\r\n?/g,kE=/\u0000|\uFFFD/g;function _g(r){return(typeof r=="string"?r:""+r).replace(TE,`
`).replace(kE,"")}function Eu(r,o,a){if(o=_g(o),_g(r)!==o&&a)throw Error(t(425))}function Su(){}var ed=null,td=null;function nd(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var rd=typeof setTimeout=="function"?setTimeout:void 0,CE=typeof clearTimeout=="function"?clearTimeout:void 0,Dg=typeof Promise=="function"?Promise:void 0,IE=typeof queueMicrotask=="function"?queueMicrotask:typeof Dg<"u"?function(r){return Dg.resolve(null).then(r).catch(_E)}:rd;function _E(r){setTimeout(function(){throw r})}function id(r,o){var a=o,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),tr(o);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);tr(o)}function di(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function Pg(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return r;o--}else a==="/$"&&o++}r=r.previousSibling}return null}var cs=Math.random().toString(36).slice(2),wr="__reactFiber$"+cs,Ua="__reactProps$"+cs,jr="__reactContainer$"+cs,od="__reactEvents$"+cs,DE="__reactListeners$"+cs,PE="__reactHandles$"+cs;function so(r){var o=r[wr];if(o)return o;for(var a=r.parentNode;a;){if(o=a[jr]||a[wr]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(r=Pg(r);r!==null;){if(a=r[wr])return a;r=Pg(r)}return o}r=a,a=r.parentNode}return null}function $a(r){return r=r[wr]||r[jr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function hs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Tu(r){return r[Ua]||null}var sd=[],ds=-1;function fi(r){return{current:r}}function it(r){0>ds||(r.current=sd[ds],sd[ds]=null,ds--)}function nt(r,o){ds++,sd[ds]=r.current,r.current=o}var pi={},Yt=fi(pi),dn=fi(!1),ao=pi;function fs(r,o){var a=r.type.contextTypes;if(!a)return pi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=o[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=f),f}function fn(r){return r=r.childContextTypes,r!=null}function ku(){it(dn),it(Yt)}function Ag(r,o,a){if(Yt.current!==pi)throw Error(t(168));nt(Yt,o),nt(dn,a)}function Ng(r,o,a){var h=r.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in o))throw Error(t(108,Oe(r)||"Unknown",f));return le({},a,h)}function Cu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||pi,ao=Yt.current,nt(Yt,r),nt(dn,dn.current),!0}function Rg(r,o,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Ng(r,o,ao),h.__reactInternalMemoizedMergedChildContext=r,it(dn),it(Yt),nt(Yt,r)):it(dn),nt(dn,a)}var Br=null,Iu=!1,ad=!1;function Og(r){Br===null?Br=[r]:Br.push(r)}function AE(r){Iu=!0,Og(r)}function mi(){if(!ad&&Br!==null){ad=!0;var r=0,o=Ue;try{var a=Br;for(Ue=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Br=null,Iu=!1}catch(f){throw Br!==null&&(Br=Br.slice(r+1)),Go(Zi,mi),f}finally{Ue=o,ad=!1}}return null}var ps=[],ms=0,_u=null,Du=0,Ln=[],Mn=0,lo=null,zr=1,Ur="";function uo(r,o){ps[ms++]=Du,ps[ms++]=_u,_u=r,Du=o}function Lg(r,o,a){Ln[Mn++]=zr,Ln[Mn++]=Ur,Ln[Mn++]=lo,lo=r;var h=zr;r=Ur;var f=32-sn(h)-1;h&=~(1<<f),a+=1;var g=32-sn(o)+f;if(30<g){var x=f-f%5;g=(h&(1<<x)-1).toString(32),h>>=x,f-=x,zr=1<<32-sn(o)+f|a<<f|h,Ur=g+r}else zr=1<<g|a<<f|h,Ur=r}function ld(r){r.return!==null&&(uo(r,1),Lg(r,1,0))}function ud(r){for(;r===_u;)_u=ps[--ms],ps[ms]=null,Du=ps[--ms],ps[ms]=null;for(;r===lo;)lo=Ln[--Mn],Ln[Mn]=null,Ur=Ln[--Mn],Ln[Mn]=null,zr=Ln[--Mn],Ln[Mn]=null}var Tn=null,kn=null,ct=!1,ir=null;function Mg(r,o){var a=Bn(5,null,null,0);a.elementType="DELETED",a.stateNode=o,a.return=r,o=r.deletions,o===null?(r.deletions=[a],r.flags|=16):o.push(a)}function Vg(r,o){switch(r.tag){case 5:var a=r.type;return o=o.nodeType!==1||a.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,Tn=r,kn=di(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,Tn=r,kn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(a=lo!==null?{id:zr,overflow:Ur}:null,r.memoizedState={dehydrated:o,treeContext:a,retryLane:1073741824},a=Bn(18,null,null,0),a.stateNode=o,a.return=r,r.child=a,Tn=r,kn=null,!0):!1;default:return!1}}function cd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function hd(r){if(ct){var o=kn;if(o){var a=o;if(!Vg(r,o)){if(cd(r))throw Error(t(418));o=di(a.nextSibling);var h=Tn;o&&Vg(r,o)?Mg(h,a):(r.flags=r.flags&-4097|2,ct=!1,Tn=r)}}else{if(cd(r))throw Error(t(418));r.flags=r.flags&-4097|2,ct=!1,Tn=r}}}function Fg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Tn=r}function Pu(r){if(r!==Tn)return!1;if(!ct)return Fg(r),ct=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!nd(r.type,r.memoizedProps)),o&&(o=kn)){if(cd(r))throw jg(),Error(t(418));for(;o;)Mg(r,o),o=di(o.nextSibling)}if(Fg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(o===0){kn=di(r.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++}r=r.nextSibling}kn=null}}else kn=Tn?di(r.stateNode.nextSibling):null;return!0}function jg(){for(var r=kn;r;)r=di(r.nextSibling)}function gs(){kn=Tn=null,ct=!1}function dd(r){ir===null?ir=[r]:ir.push(r)}var NE=J.ReactCurrentBatchConfig;function qa(r,o,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(x){var k=f.refs;x===null?delete k[g]:k[g]=x},o._stringRef=g,o)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Au(r,o){throw r=Object.prototype.toString.call(o),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function Bg(r){var o=r._init;return o(r._payload)}function zg(r){function o(B,R){if(r){var z=B.deletions;z===null?(B.deletions=[R],B.flags|=16):z.push(R)}}function a(B,R){if(!r)return null;for(;R!==null;)o(B,R),R=R.sibling;return null}function h(B,R){for(B=new Map;R!==null;)R.key!==null?B.set(R.key,R):B.set(R.index,R),R=R.sibling;return B}function f(B,R){return B=Si(B,R),B.index=0,B.sibling=null,B}function g(B,R,z){return B.index=z,r?(z=B.alternate,z!==null?(z=z.index,z<R?(B.flags|=2,R):z):(B.flags|=2,R)):(B.flags|=1048576,R)}function x(B){return r&&B.alternate===null&&(B.flags|=2),B}function k(B,R,z,oe){return R===null||R.tag!==6?(R=nf(z,B.mode,oe),R.return=B,R):(R=f(R,z),R.return=B,R)}function A(B,R,z,oe){var ve=z.type;return ve===C?Z(B,R,z.props.children,oe,z.key):R!==null&&(R.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Ke&&Bg(ve)===R.type)?(oe=f(R,z.props),oe.ref=qa(B,R,z),oe.return=B,oe):(oe=tc(z.type,z.key,z.props,null,B.mode,oe),oe.ref=qa(B,R,z),oe.return=B,oe)}function U(B,R,z,oe){return R===null||R.tag!==4||R.stateNode.containerInfo!==z.containerInfo||R.stateNode.implementation!==z.implementation?(R=rf(z,B.mode,oe),R.return=B,R):(R=f(R,z.children||[]),R.return=B,R)}function Z(B,R,z,oe,ve){return R===null||R.tag!==7?(R=vo(z,B.mode,oe,ve),R.return=B,R):(R=f(R,z),R.return=B,R)}function ne(B,R,z){if(typeof R=="string"&&R!==""||typeof R=="number")return R=nf(""+R,B.mode,z),R.return=B,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ee:return z=tc(R.type,R.key,R.props,null,B.mode,z),z.ref=qa(B,null,R),z.return=B,z;case re:return R=rf(R,B.mode,z),R.return=B,R;case Ke:var oe=R._init;return ne(B,oe(R._payload),z)}if(Wn(R)||he(R))return R=vo(R,B.mode,z,null),R.return=B,R;Au(B,R)}return null}function X(B,R,z,oe){var ve=R!==null?R.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ve!==null?null:k(B,R,""+z,oe);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ee:return z.key===ve?A(B,R,z,oe):null;case re:return z.key===ve?U(B,R,z,oe):null;case Ke:return ve=z._init,X(B,R,ve(z._payload),oe)}if(Wn(z)||he(z))return ve!==null?null:Z(B,R,z,oe,null);Au(B,z)}return null}function ue(B,R,z,oe,ve){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return B=B.get(z)||null,k(R,B,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ee:return B=B.get(oe.key===null?z:oe.key)||null,A(R,B,oe,ve);case re:return B=B.get(oe.key===null?z:oe.key)||null,U(R,B,oe,ve);case Ke:var Ee=oe._init;return ue(B,R,z,Ee(oe._payload),ve)}if(Wn(oe)||he(oe))return B=B.get(z)||null,Z(R,B,oe,ve,null);Au(R,oe)}return null}function me(B,R,z,oe){for(var ve=null,Ee=null,Se=R,Ce=R=0,Vt=null;Se!==null&&Ce<z.length;Ce++){Se.index>Ce?(Vt=Se,Se=null):Vt=Se.sibling;var Ge=X(B,Se,z[Ce],oe);if(Ge===null){Se===null&&(Se=Vt);break}r&&Se&&Ge.alternate===null&&o(B,Se),R=g(Ge,R,Ce),Ee===null?ve=Ge:Ee.sibling=Ge,Ee=Ge,Se=Vt}if(Ce===z.length)return a(B,Se),ct&&uo(B,Ce),ve;if(Se===null){for(;Ce<z.length;Ce++)Se=ne(B,z[Ce],oe),Se!==null&&(R=g(Se,R,Ce),Ee===null?ve=Se:Ee.sibling=Se,Ee=Se);return ct&&uo(B,Ce),ve}for(Se=h(B,Se);Ce<z.length;Ce++)Vt=ue(Se,B,Ce,z[Ce],oe),Vt!==null&&(r&&Vt.alternate!==null&&Se.delete(Vt.key===null?Ce:Vt.key),R=g(Vt,R,Ce),Ee===null?ve=Vt:Ee.sibling=Vt,Ee=Vt);return r&&Se.forEach(function(Ti){return o(B,Ti)}),ct&&uo(B,Ce),ve}function ge(B,R,z,oe){var ve=he(z);if(typeof ve!="function")throw Error(t(150));if(z=ve.call(z),z==null)throw Error(t(151));for(var Ee=ve=null,Se=R,Ce=R=0,Vt=null,Ge=z.next();Se!==null&&!Ge.done;Ce++,Ge=z.next()){Se.index>Ce?(Vt=Se,Se=null):Vt=Se.sibling;var Ti=X(B,Se,Ge.value,oe);if(Ti===null){Se===null&&(Se=Vt);break}r&&Se&&Ti.alternate===null&&o(B,Se),R=g(Ti,R,Ce),Ee===null?ve=Ti:Ee.sibling=Ti,Ee=Ti,Se=Vt}if(Ge.done)return a(B,Se),ct&&uo(B,Ce),ve;if(Se===null){for(;!Ge.done;Ce++,Ge=z.next())Ge=ne(B,Ge.value,oe),Ge!==null&&(R=g(Ge,R,Ce),Ee===null?ve=Ge:Ee.sibling=Ge,Ee=Ge);return ct&&uo(B,Ce),ve}for(Se=h(B,Se);!Ge.done;Ce++,Ge=z.next())Ge=ue(Se,B,Ce,Ge.value,oe),Ge!==null&&(r&&Ge.alternate!==null&&Se.delete(Ge.key===null?Ce:Ge.key),R=g(Ge,R,Ce),Ee===null?ve=Ge:Ee.sibling=Ge,Ee=Ge);return r&&Se.forEach(function(hS){return o(B,hS)}),ct&&uo(B,Ce),ve}function vt(B,R,z,oe){if(typeof z=="object"&&z!==null&&z.type===C&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ee:e:{for(var ve=z.key,Ee=R;Ee!==null;){if(Ee.key===ve){if(ve=z.type,ve===C){if(Ee.tag===7){a(B,Ee.sibling),R=f(Ee,z.props.children),R.return=B,B=R;break e}}else if(Ee.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Ke&&Bg(ve)===Ee.type){a(B,Ee.sibling),R=f(Ee,z.props),R.ref=qa(B,Ee,z),R.return=B,B=R;break e}a(B,Ee);break}else o(B,Ee);Ee=Ee.sibling}z.type===C?(R=vo(z.props.children,B.mode,oe,z.key),R.return=B,B=R):(oe=tc(z.type,z.key,z.props,null,B.mode,oe),oe.ref=qa(B,R,z),oe.return=B,B=oe)}return x(B);case re:e:{for(Ee=z.key;R!==null;){if(R.key===Ee)if(R.tag===4&&R.stateNode.containerInfo===z.containerInfo&&R.stateNode.implementation===z.implementation){a(B,R.sibling),R=f(R,z.children||[]),R.return=B,B=R;break e}else{a(B,R);break}else o(B,R);R=R.sibling}R=rf(z,B.mode,oe),R.return=B,B=R}return x(B);case Ke:return Ee=z._init,vt(B,R,Ee(z._payload),oe)}if(Wn(z))return me(B,R,z,oe);if(he(z))return ge(B,R,z,oe);Au(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,R!==null&&R.tag===6?(a(B,R.sibling),R=f(R,z),R.return=B,B=R):(a(B,R),R=nf(z,B.mode,oe),R.return=B,B=R),x(B)):a(B,R)}return vt}var ys=zg(!0),Ug=zg(!1),Nu=fi(null),Ru=null,vs=null,fd=null;function pd(){fd=vs=Ru=null}function md(r){var o=Nu.current;it(Nu),r._currentValue=o}function gd(r,o,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),r===a)break;r=r.return}}function bs(r,o){Ru=r,fd=vs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&o)!==0&&(pn=!0),r.firstContext=null)}function Vn(r){var o=r._currentValue;if(fd!==r)if(r={context:r,memoizedValue:o,next:null},vs===null){if(Ru===null)throw Error(t(308));vs=r,Ru.dependencies={lanes:0,firstContext:r}}else vs=vs.next=r;return o}var co=null;function yd(r){co===null?co=[r]:co.push(r)}function $g(r,o,a,h){var f=o.interleaved;return f===null?(a.next=a,yd(o)):(a.next=f.next,f.next=a),o.interleaved=a,$r(r,h)}function $r(r,o){r.lanes|=o;var a=r.alternate;for(a!==null&&(a.lanes|=o),a=r,r=r.return;r!==null;)r.childLanes|=o,a=r.alternate,a!==null&&(a.childLanes|=o),a=r,r=r.return;return a.tag===3?a.stateNode:null}var gi=!1;function vd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qg(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function qr(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function yi(r,o,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var f=h.pending;return f===null?o.next=o:(o.next=f.next,f.next=o),h.pending=o,$r(r,a)}return f=h.interleaved,f===null?(o.next=o,yd(h)):(o.next=f.next,f.next=o),h.interleaved=o,$r(r,a)}function Ou(r,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194240)!==0)){var h=o.lanes;h&=r.pendingLanes,a|=h,o.lanes=a,si(r,a)}}function Hg(r,o){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=x:g=g.next=x,a=a.next}while(a!==null);g===null?f=g=o:g=g.next=o}else f=g=o;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=o:r.next=o,a.lastBaseUpdate=o}function Lu(r,o,a,h){var f=r.updateQueue;gi=!1;var g=f.firstBaseUpdate,x=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var A=k,U=A.next;A.next=null,x===null?g=U:x.next=U,x=A;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,k=Z.lastBaseUpdate,k!==x&&(k===null?Z.firstBaseUpdate=U:k.next=U,Z.lastBaseUpdate=A))}if(g!==null){var ne=f.baseState;x=0,Z=U=A=null,k=g;do{var X=k.lane,ue=k.eventTime;if((h&X)===X){Z!==null&&(Z=Z.next={eventTime:ue,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var me=r,ge=k;switch(X=o,ue=a,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){ne=me.call(ue,ne,X);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,X=typeof me=="function"?me.call(ue,ne,X):me,X==null)break e;ne=le({},ne,X);break e;case 2:gi=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,X=f.effects,X===null?f.effects=[k]:X.push(k))}else ue={eventTime:ue,lane:X,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Z===null?(U=Z=ue,A=ne):Z=Z.next=ue,x|=X;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;X=k,k=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);if(Z===null&&(A=ne),f.baseState=A,f.firstBaseUpdate=U,f.lastBaseUpdate=Z,o=f.shared.interleaved,o!==null){f=o;do x|=f.lane,f=f.next;while(f!==o)}else g===null&&(f.shared.lanes=0);po|=x,r.lanes=x,r.memoizedState=ne}}function Gg(r,o,a){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var h=r[o],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Ha={},xr=fi(Ha),Ga=fi(Ha),Wa=fi(Ha);function ho(r){if(r===Ha)throw Error(t(174));return r}function bd(r,o){switch(nt(Wa,o),nt(Ga,r),nt(xr,Ha),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ct(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=Ct(o,r)}it(xr),nt(xr,o)}function ws(){it(xr),it(Ga),it(Wa)}function Wg(r){ho(Wa.current);var o=ho(xr.current),a=Ct(o,r.type);o!==a&&(nt(Ga,r),nt(xr,a))}function wd(r){Ga.current===r&&(it(xr),it(Ga))}var ht=fi(0);function Mu(r){for(var o=r;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var xd=[];function Ed(){for(var r=0;r<xd.length;r++)xd[r]._workInProgressVersionPrimary=null;xd.length=0}var Vu=J.ReactCurrentDispatcher,Sd=J.ReactCurrentBatchConfig,fo=0,dt=null,_t=null,Lt=null,Fu=!1,Ka=!1,Qa=0,RE=0;function Xt(){throw Error(t(321))}function Td(r,o){if(o===null)return!1;for(var a=0;a<o.length&&a<r.length;a++)if(!rr(r[a],o[a]))return!1;return!0}function kd(r,o,a,h,f,g){if(fo=g,dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Vu.current=r===null||r.memoizedState===null?VE:FE,r=a(h,f),Ka){g=0;do{if(Ka=!1,Qa=0,25<=g)throw Error(t(301));g+=1,Lt=_t=null,o.updateQueue=null,Vu.current=jE,r=a(h,f)}while(Ka)}if(Vu.current=zu,o=_t!==null&&_t.next!==null,fo=0,Lt=_t=dt=null,Fu=!1,o)throw Error(t(300));return r}function Cd(){var r=Qa!==0;return Qa=0,r}function Er(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?dt.memoizedState=Lt=r:Lt=Lt.next=r,Lt}function Fn(){if(_t===null){var r=dt.alternate;r=r!==null?r.memoizedState:null}else r=_t.next;var o=Lt===null?dt.memoizedState:Lt.next;if(o!==null)Lt=o,_t=r;else{if(r===null)throw Error(t(310));_t=r,r={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Lt===null?dt.memoizedState=Lt=r:Lt=Lt.next=r}return Lt}function Ya(r,o){return typeof o=="function"?o(r):o}function Id(r){var o=Fn(),a=o.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=_t,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var x=f.next;f.next=g.next,g.next=x}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var k=x=null,A=null,U=g;do{var Z=U.lane;if((fo&Z)===Z)A!==null&&(A=A.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),h=U.hasEagerState?U.eagerState:r(h,U.action);else{var ne={lane:Z,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};A===null?(k=A=ne,x=h):A=A.next=ne,dt.lanes|=Z,po|=Z}U=U.next}while(U!==null&&U!==g);A===null?x=h:A.next=k,rr(h,o.memoizedState)||(pn=!0),o.memoizedState=h,o.baseState=x,o.baseQueue=A,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,dt.lanes|=g,po|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[o.memoizedState,a.dispatch]}function _d(r){var o=Fn(),a=o.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=o.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do g=r(g,x.action),x=x.next;while(x!==f);rr(g,o.memoizedState)||(pn=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),a.lastRenderedState=g}return[g,h]}function Kg(){}function Qg(r,o){var a=dt,h=Fn(),f=o(),g=!rr(h.memoizedState,f);if(g&&(h.memoizedState=f,pn=!0),h=h.queue,Dd(Zg.bind(null,a,h,r),[r]),h.getSnapshot!==o||g||Lt!==null&&Lt.memoizedState.tag&1){if(a.flags|=2048,Xa(9,Xg.bind(null,a,h,f,o),void 0,null),Mt===null)throw Error(t(349));(fo&30)!==0||Yg(a,o,f)}return f}function Yg(r,o,a){r.flags|=16384,r={getSnapshot:o,value:a},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.stores=[r]):(a=o.stores,a===null?o.stores=[r]:a.push(r))}function Xg(r,o,a,h){o.value=a,o.getSnapshot=h,Jg(o)&&ey(r)}function Zg(r,o,a){return a(function(){Jg(o)&&ey(r)})}function Jg(r){var o=r.getSnapshot;r=r.value;try{var a=o();return!rr(r,a)}catch{return!0}}function ey(r){var o=$r(r,1);o!==null&&lr(o,r,1,-1)}function ty(r){var o=Er();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:r},o.queue=r,r=r.dispatch=ME.bind(null,dt,r),[o.memoizedState,r]}function Xa(r,o,a,h){return r={tag:r,create:o,destroy:a,deps:h,next:null},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.lastEffect=r.next=r):(a=o.lastEffect,a===null?o.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,o.lastEffect=r)),r}function ny(){return Fn().memoizedState}function ju(r,o,a,h){var f=Er();dt.flags|=r,f.memoizedState=Xa(1|o,a,void 0,h===void 0?null:h)}function Bu(r,o,a,h){var f=Fn();h=h===void 0?null:h;var g=void 0;if(_t!==null){var x=_t.memoizedState;if(g=x.destroy,h!==null&&Td(h,x.deps)){f.memoizedState=Xa(o,a,g,h);return}}dt.flags|=r,f.memoizedState=Xa(1|o,a,g,h)}function ry(r,o){return ju(8390656,8,r,o)}function Dd(r,o){return Bu(2048,8,r,o)}function iy(r,o){return Bu(4,2,r,o)}function oy(r,o){return Bu(4,4,r,o)}function sy(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function ay(r,o,a){return a=a!=null?a.concat([r]):null,Bu(4,4,sy.bind(null,o,r),a)}function Pd(){}function ly(r,o){var a=Fn();o=o===void 0?null:o;var h=a.memoizedState;return h!==null&&o!==null&&Td(o,h[1])?h[0]:(a.memoizedState=[r,o],r)}function uy(r,o){var a=Fn();o=o===void 0?null:o;var h=a.memoizedState;return h!==null&&o!==null&&Td(o,h[1])?h[0]:(r=r(),a.memoizedState=[r,o],r)}function cy(r,o,a){return(fo&21)===0?(r.baseState&&(r.baseState=!1,pn=!0),r.memoizedState=a):(rr(a,o)||(a=to(),dt.lanes|=a,po|=a,r.baseState=!0),o)}function OE(r,o){var a=Ue;Ue=a!==0&&4>a?a:4,r(!0);var h=Sd.transition;Sd.transition={};try{r(!1),o()}finally{Ue=a,Sd.transition=h}}function hy(){return Fn().memoizedState}function LE(r,o,a){var h=xi(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},dy(r))fy(o,a);else if(a=$g(r,o,a,h),a!==null){var f=un();lr(a,r,h,f),py(a,o,h)}}function ME(r,o,a){var h=xi(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(dy(r))fy(o,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var x=o.lastRenderedState,k=g(x,a);if(f.hasEagerState=!0,f.eagerState=k,rr(k,x)){var A=o.interleaved;A===null?(f.next=f,yd(o)):(f.next=A.next,A.next=f),o.interleaved=f;return}}catch{}finally{}a=$g(r,o,f,h),a!==null&&(f=un(),lr(a,r,h,f),py(a,o,h))}}function dy(r){var o=r.alternate;return r===dt||o!==null&&o===dt}function fy(r,o){Ka=Fu=!0;var a=r.pending;a===null?o.next=o:(o.next=a.next,a.next=o),r.pending=o}function py(r,o,a){if((a&4194240)!==0){var h=o.lanes;h&=r.pendingLanes,a|=h,o.lanes=a,si(r,a)}}var zu={readContext:Vn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},VE={readContext:Vn,useCallback:function(r,o){return Er().memoizedState=[r,o===void 0?null:o],r},useContext:Vn,useEffect:ry,useImperativeHandle:function(r,o,a){return a=a!=null?a.concat([r]):null,ju(4194308,4,sy.bind(null,o,r),a)},useLayoutEffect:function(r,o){return ju(4194308,4,r,o)},useInsertionEffect:function(r,o){return ju(4,2,r,o)},useMemo:function(r,o){var a=Er();return o=o===void 0?null:o,r=r(),a.memoizedState=[r,o],r},useReducer:function(r,o,a){var h=Er();return o=a!==void 0?a(o):o,h.memoizedState=h.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},h.queue=r,r=r.dispatch=LE.bind(null,dt,r),[h.memoizedState,r]},useRef:function(r){var o=Er();return r={current:r},o.memoizedState=r},useState:ty,useDebugValue:Pd,useDeferredValue:function(r){return Er().memoizedState=r},useTransition:function(){var r=ty(!1),o=r[0];return r=OE.bind(null,r[1]),Er().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,a){var h=dt,f=Er();if(ct){if(a===void 0)throw Error(t(407));a=a()}else{if(a=o(),Mt===null)throw Error(t(349));(fo&30)!==0||Yg(h,o,a)}f.memoizedState=a;var g={value:a,getSnapshot:o};return f.queue=g,ry(Zg.bind(null,h,g,r),[r]),h.flags|=2048,Xa(9,Xg.bind(null,h,g,a,o),void 0,null),a},useId:function(){var r=Er(),o=Mt.identifierPrefix;if(ct){var a=Ur,h=zr;a=(h&~(1<<32-sn(h)-1)).toString(32)+a,o=":"+o+"R"+a,a=Qa++,0<a&&(o+="H"+a.toString(32)),o+=":"}else a=RE++,o=":"+o+"r"+a.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},FE={readContext:Vn,useCallback:ly,useContext:Vn,useEffect:Dd,useImperativeHandle:ay,useInsertionEffect:iy,useLayoutEffect:oy,useMemo:uy,useReducer:Id,useRef:ny,useState:function(){return Id(Ya)},useDebugValue:Pd,useDeferredValue:function(r){var o=Fn();return cy(o,_t.memoizedState,r)},useTransition:function(){var r=Id(Ya)[0],o=Fn().memoizedState;return[r,o]},useMutableSource:Kg,useSyncExternalStore:Qg,useId:hy,unstable_isNewReconciler:!1},jE={readContext:Vn,useCallback:ly,useContext:Vn,useEffect:Dd,useImperativeHandle:ay,useInsertionEffect:iy,useLayoutEffect:oy,useMemo:uy,useReducer:_d,useRef:ny,useState:function(){return _d(Ya)},useDebugValue:Pd,useDeferredValue:function(r){var o=Fn();return _t===null?o.memoizedState=r:cy(o,_t.memoizedState,r)},useTransition:function(){var r=_d(Ya)[0],o=Fn().memoizedState;return[r,o]},useMutableSource:Kg,useSyncExternalStore:Qg,useId:hy,unstable_isNewReconciler:!1};function or(r,o){if(r&&r.defaultProps){o=le({},o),r=r.defaultProps;for(var a in r)o[a]===void 0&&(o[a]=r[a]);return o}return o}function Ad(r,o,a,h){o=r.memoizedState,a=a(h,o),a=a==null?o:le({},o,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Uu={isMounted:function(r){return(r=r._reactInternals)?Yn(r)===r:!1},enqueueSetState:function(r,o,a){r=r._reactInternals;var h=un(),f=xi(r),g=qr(h,f);g.payload=o,a!=null&&(g.callback=a),o=yi(r,g,f),o!==null&&(lr(o,r,f,h),Ou(o,r,f))},enqueueReplaceState:function(r,o,a){r=r._reactInternals;var h=un(),f=xi(r),g=qr(h,f);g.tag=1,g.payload=o,a!=null&&(g.callback=a),o=yi(r,g,f),o!==null&&(lr(o,r,f,h),Ou(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var a=un(),h=xi(r),f=qr(a,h);f.tag=2,o!=null&&(f.callback=o),o=yi(r,f,h),o!==null&&(lr(o,r,h,a),Ou(o,r,h))}};function my(r,o,a,h,f,g,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,x):o.prototype&&o.prototype.isPureReactComponent?!Va(a,h)||!Va(f,g):!0}function gy(r,o,a){var h=!1,f=pi,g=o.contextType;return typeof g=="object"&&g!==null?g=Vn(g):(f=fn(o)?ao:Yt.current,h=o.contextTypes,g=(h=h!=null)?fs(r,f):pi),o=new o(a,g),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Uu,r.stateNode=o,o._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),o}function yy(r,o,a,h){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,h),o.state!==r&&Uu.enqueueReplaceState(o,o.state,null)}function Nd(r,o,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},vd(r);var g=o.contextType;typeof g=="object"&&g!==null?f.context=Vn(g):(g=fn(o)?ao:Yt.current,f.context=fs(r,g)),f.state=r.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(Ad(r,o,g,a),f.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(o=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),o!==f.state&&Uu.enqueueReplaceState(f,f.state,null),Lu(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function xs(r,o){try{var a="",h=o;do a+=_e(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:o,stack:f,digest:null}}function Rd(r,o,a){return{value:r,source:null,stack:a??null,digest:o??null}}function Od(r,o){try{console.error(o.value)}catch(a){setTimeout(function(){throw a})}}var BE=typeof WeakMap=="function"?WeakMap:Map;function vy(r,o,a){a=qr(-1,a),a.tag=3,a.payload={element:null};var h=o.value;return a.callback=function(){Qu||(Qu=!0,Kd=h),Od(r,o)},a}function by(r,o,a){a=qr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;a.payload=function(){return h(f)},a.callback=function(){Od(r,o)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Od(r,o),typeof h!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})}),a}function wy(r,o,a){var h=r.pingCache;if(h===null){h=r.pingCache=new BE;var f=new Set;h.set(o,f)}else f=h.get(o),f===void 0&&(f=new Set,h.set(o,f));f.has(a)||(f.add(a),r=eS.bind(null,r,o,a),o.then(r,r))}function xy(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function Ey(r,o,a,h,f){return(r.mode&1)===0?(r===o?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(o=qr(-1,1),o.tag=2,yi(a,o,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var zE=J.ReactCurrentOwner,pn=!1;function ln(r,o,a,h){o.child=r===null?Ug(o,null,a,h):ys(o,r.child,a,h)}function Sy(r,o,a,h,f){a=a.render;var g=o.ref;return bs(o,f),h=kd(r,o,a,h,g,f),a=Cd(),r!==null&&!pn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~f,Hr(r,o,f)):(ct&&a&&ld(o),o.flags|=1,ln(r,o,h,f),o.child)}function Ty(r,o,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!tf(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(o.tag=15,o.type=g,ky(r,o,g,h,f)):(r=tc(a.type,null,h,o,o.mode,f),r.ref=o.ref,r.return=o,o.child=r)}if(g=r.child,(r.lanes&f)===0){var x=g.memoizedProps;if(a=a.compare,a=a!==null?a:Va,a(x,h)&&r.ref===o.ref)return Hr(r,o,f)}return o.flags|=1,r=Si(g,h),r.ref=o.ref,r.return=o,o.child=r}function ky(r,o,a,h,f){if(r!==null){var g=r.memoizedProps;if(Va(g,h)&&r.ref===o.ref)if(pn=!1,o.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(pn=!0);else return o.lanes=r.lanes,Hr(r,o,f)}return Ld(r,o,a,h,f)}function Cy(r,o,a){var h=o.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Ss,Cn),Cn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,nt(Ss,Cn),Cn|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,nt(Ss,Cn),Cn|=h}else g!==null?(h=g.baseLanes|a,o.memoizedState=null):h=a,nt(Ss,Cn),Cn|=h;return ln(r,o,f,a),o.child}function Iy(r,o){var a=o.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(o.flags|=512,o.flags|=2097152)}function Ld(r,o,a,h,f){var g=fn(a)?ao:Yt.current;return g=fs(o,g),bs(o,f),a=kd(r,o,a,h,g,f),h=Cd(),r!==null&&!pn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~f,Hr(r,o,f)):(ct&&h&&ld(o),o.flags|=1,ln(r,o,a,f),o.child)}function _y(r,o,a,h,f){if(fn(a)){var g=!0;Cu(o)}else g=!1;if(bs(o,f),o.stateNode===null)qu(r,o),gy(o,a,h),Nd(o,a,h,f),h=!0;else if(r===null){var x=o.stateNode,k=o.memoizedProps;x.props=k;var A=x.context,U=a.contextType;typeof U=="object"&&U!==null?U=Vn(U):(U=fn(a)?ao:Yt.current,U=fs(o,U));var Z=a.getDerivedStateFromProps,ne=typeof Z=="function"||typeof x.getSnapshotBeforeUpdate=="function";ne||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==h||A!==U)&&yy(o,x,h,U),gi=!1;var X=o.memoizedState;x.state=X,Lu(o,h,x,f),A=o.memoizedState,k!==h||X!==A||dn.current||gi?(typeof Z=="function"&&(Ad(o,a,Z,h),A=o.memoizedState),(k=gi||my(o,a,k,h,X,A,U))?(ne||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=A),x.props=h,x.state=A,x.context=U,h=k):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,qg(r,o),k=o.memoizedProps,U=o.type===o.elementType?k:or(o.type,k),x.props=U,ne=o.pendingProps,X=x.context,A=a.contextType,typeof A=="object"&&A!==null?A=Vn(A):(A=fn(a)?ao:Yt.current,A=fs(o,A));var ue=a.getDerivedStateFromProps;(Z=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==ne||X!==A)&&yy(o,x,h,A),gi=!1,X=o.memoizedState,x.state=X,Lu(o,h,x,f);var me=o.memoizedState;k!==ne||X!==me||dn.current||gi?(typeof ue=="function"&&(Ad(o,a,ue,h),me=o.memoizedState),(U=gi||my(o,a,U,h,X,me,A)||!1)?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,me,A),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,me,A)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||k===r.memoizedProps&&X===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&X===r.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=me),x.props=h,x.state=me,x.context=A,h=U):(typeof x.componentDidUpdate!="function"||k===r.memoizedProps&&X===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&X===r.memoizedState||(o.flags|=1024),h=!1)}return Md(r,o,a,h,g,f)}function Md(r,o,a,h,f,g){Iy(r,o);var x=(o.flags&128)!==0;if(!h&&!x)return f&&Rg(o,a,!1),Hr(r,o,g);h=o.stateNode,zE.current=o;var k=x&&typeof a.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,r!==null&&x?(o.child=ys(o,r.child,null,g),o.child=ys(o,null,k,g)):ln(r,o,k,g),o.memoizedState=h.state,f&&Rg(o,a,!0),o.child}function Dy(r){var o=r.stateNode;o.pendingContext?Ag(r,o.pendingContext,o.pendingContext!==o.context):o.context&&Ag(r,o.context,!1),bd(r,o.containerInfo)}function Py(r,o,a,h,f){return gs(),dd(f),o.flags|=256,ln(r,o,a,h),o.child}var Vd={dehydrated:null,treeContext:null,retryLane:0};function Fd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ay(r,o,a){var h=o.pendingProps,f=ht.current,g=!1,x=(o.flags&128)!==0,k;if((k=x)||(k=r!==null&&r.memoizedState===null?!1:(f&2)!==0),k?(g=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),nt(ht,f&1),r===null)return hd(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((o.mode&1)===0?o.lanes=1:r.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(x=h.children,r=h.fallback,g?(h=o.mode,g=o.child,x={mode:"hidden",children:x},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=x):g=nc(x,h,0,null),r=vo(r,h,a,null),g.return=o,r.return=o,g.sibling=r,o.child=g,o.child.memoizedState=Fd(a),o.memoizedState=Vd,r):jd(o,x));if(f=r.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return UE(r,o,x,h,k,f,a);if(g){g=h.fallback,x=o.mode,f=r.child,k=f.sibling;var A={mode:"hidden",children:h.children};return(x&1)===0&&o.child!==f?(h=o.child,h.childLanes=0,h.pendingProps=A,o.deletions=null):(h=Si(f,A),h.subtreeFlags=f.subtreeFlags&14680064),k!==null?g=Si(k,g):(g=vo(g,x,a,null),g.flags|=2),g.return=o,h.return=o,h.sibling=g,o.child=h,h=g,g=o.child,x=r.child.memoizedState,x=x===null?Fd(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},g.memoizedState=x,g.childLanes=r.childLanes&~a,o.memoizedState=Vd,h}return g=r.child,r=g.sibling,h=Si(g,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=a),h.return=o,h.sibling=null,r!==null&&(a=o.deletions,a===null?(o.deletions=[r],o.flags|=16):a.push(r)),o.child=h,o.memoizedState=null,h}function jd(r,o){return o=nc({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function $u(r,o,a,h){return h!==null&&dd(h),ys(o,r.child,null,a),r=jd(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function UE(r,o,a,h,f,g,x){if(a)return o.flags&256?(o.flags&=-257,h=Rd(Error(t(422))),$u(r,o,x,h)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(g=h.fallback,f=o.mode,h=nc({mode:"visible",children:h.children},f,0,null),g=vo(g,f,x,null),g.flags|=2,h.return=o,g.return=o,h.sibling=g,o.child=h,(o.mode&1)!==0&&ys(o,r.child,null,x),o.child.memoizedState=Fd(x),o.memoizedState=Vd,g);if((o.mode&1)===0)return $u(r,o,x,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var k=h.dgst;return h=k,g=Error(t(419)),h=Rd(g,h,void 0),$u(r,o,x,h)}if(k=(x&r.childLanes)!==0,pn||k){if(h=Mt,h!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|x))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,$r(r,f),lr(h,r,f,-1))}return ef(),h=Rd(Error(t(421))),$u(r,o,x,h)}return f.data==="$?"?(o.flags|=128,o.child=r.child,o=tS.bind(null,r),f._reactRetry=o,null):(r=g.treeContext,kn=di(f.nextSibling),Tn=o,ct=!0,ir=null,r!==null&&(Ln[Mn++]=zr,Ln[Mn++]=Ur,Ln[Mn++]=lo,zr=r.id,Ur=r.overflow,lo=o),o=jd(o,h.children),o.flags|=4096,o)}function Ny(r,o,a){r.lanes|=o;var h=r.alternate;h!==null&&(h.lanes|=o),gd(r.return,o,a)}function Bd(r,o,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function Ry(r,o,a){var h=o.pendingProps,f=h.revealOrder,g=h.tail;if(ln(r,o,h.children,a),h=ht.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ny(r,a,o);else if(r.tag===19)Ny(r,a,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(nt(ht,h),(o.mode&1)===0)o.memoizedState=null;else switch(f){case"forwards":for(a=o.child,f=null;a!==null;)r=a.alternate,r!==null&&Mu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=o.child,o.child=null):(f=a.sibling,a.sibling=null),Bd(o,!1,f,a,g);break;case"backwards":for(a=null,f=o.child,o.child=null;f!==null;){if(r=f.alternate,r!==null&&Mu(r)===null){o.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Bd(o,!0,a,null,g);break;case"together":Bd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function qu(r,o){(o.mode&1)===0&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function Hr(r,o,a){if(r!==null&&(o.dependencies=r.dependencies),po|=o.lanes,(a&o.childLanes)===0)return null;if(r!==null&&o.child!==r.child)throw Error(t(153));if(o.child!==null){for(r=o.child,a=Si(r,r.pendingProps),o.child=a,a.return=o;r.sibling!==null;)r=r.sibling,a=a.sibling=Si(r,r.pendingProps),a.return=o;a.sibling=null}return o.child}function $E(r,o,a){switch(o.tag){case 3:Dy(o),gs();break;case 5:Wg(o);break;case 1:fn(o.type)&&Cu(o);break;case 4:bd(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,f=o.memoizedProps.value;nt(Nu,h._currentValue),h._currentValue=f;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(nt(ht,ht.current&1),o.flags|=128,null):(a&o.child.childLanes)!==0?Ay(r,o,a):(nt(ht,ht.current&1),r=Hr(r,o,a),r!==null?r.sibling:null);nt(ht,ht.current&1);break;case 19:if(h=(a&o.childLanes)!==0,(r.flags&128)!==0){if(h)return Ry(r,o,a);o.flags|=128}if(f=o.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),nt(ht,ht.current),h)break;return null;case 22:case 23:return o.lanes=0,Cy(r,o,a)}return Hr(r,o,a)}var Oy,zd,Ly,My;Oy=function(r,o){for(var a=o.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},zd=function(){},Ly=function(r,o,a,h){var f=r.memoizedProps;if(f!==h){r=o.stateNode,ho(xr.current);var g=null;switch(a){case"input":f=pe(r,f),h=pe(r,h),g=[];break;case"select":f=le({},f,{value:void 0}),h=le({},h,{value:void 0}),g=[];break;case"textarea":f=da(r,f),h=da(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Su)}va(a,h);var x;a=null;for(U in f)if(!h.hasOwnProperty(U)&&f.hasOwnProperty(U)&&f[U]!=null)if(U==="style"){var k=f[U];for(x in k)k.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(s.hasOwnProperty(U)?g||(g=[]):(g=g||[]).push(U,null));for(U in h){var A=h[U];if(k=f?.[U],h.hasOwnProperty(U)&&A!==k&&(A!=null||k!=null))if(U==="style")if(k){for(x in k)!k.hasOwnProperty(x)||A&&A.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in A)A.hasOwnProperty(x)&&k[x]!==A[x]&&(a||(a={}),a[x]=A[x])}else a||(g||(g=[]),g.push(U,a)),a=A;else U==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,k=k?k.__html:void 0,A!=null&&k!==A&&(g=g||[]).push(U,A)):U==="children"?typeof A!="string"&&typeof A!="number"||(g=g||[]).push(U,""+A):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(s.hasOwnProperty(U)?(A!=null&&U==="onScroll"&&rt("scroll",r),g||k===A||(g=[])):(g=g||[]).push(U,A))}a&&(g=g||[]).push("style",a);var U=g;(o.updateQueue=U)&&(o.flags|=4)}},My=function(r,o,a,h){a!==h&&(o.flags|=4)};function Za(r,o){if(!ct)switch(r.tailMode){case"hidden":o=r.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Zt(r){var o=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(o)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,o}function qE(r,o,a){var h=o.pendingProps;switch(ud(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(o),null;case 1:return fn(o.type)&&ku(),Zt(o),null;case 3:return h=o.stateNode,ws(),it(dn),it(Yt),Ed(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Pu(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ir!==null&&(Xd(ir),ir=null))),zd(r,o),Zt(o),null;case 5:wd(o);var f=ho(Wa.current);if(a=o.type,r!==null&&o.stateNode!=null)Ly(r,o,a,h,f),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Zt(o),null}if(r=ho(xr.current),Pu(o)){h=o.stateNode,a=o.type;var g=o.memoizedProps;switch(h[wr]=o,h[Ua]=g,r=(o.mode&1)!==0,a){case"dialog":rt("cancel",h),rt("close",h);break;case"iframe":case"object":case"embed":rt("load",h);break;case"video":case"audio":for(f=0;f<ja.length;f++)rt(ja[f],h);break;case"source":rt("error",h);break;case"img":case"image":case"link":rt("error",h),rt("load",h);break;case"details":rt("toggle",h);break;case"input":be(h,g),rt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},rt("invalid",h);break;case"textarea":Vo(h,g),rt("invalid",h)}va(a,g),f=null;for(var x in g)if(g.hasOwnProperty(x)){var k=g[x];x==="children"?typeof k=="string"?h.textContent!==k&&(g.suppressHydrationWarning!==!0&&Eu(h.textContent,k,r),f=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(g.suppressHydrationWarning!==!0&&Eu(h.textContent,k,r),f=["children",""+k]):s.hasOwnProperty(x)&&k!=null&&x==="onScroll"&&rt("scroll",h)}switch(a){case"input":Nt(h),zt(h,g,!0);break;case"textarea":Nt(h),fa(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Su)}h=f,o.updateQueue=h,h!==null&&(o.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=kt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=x.createElement(a,{is:h.is}):(r=x.createElement(a),a==="select"&&(x=r,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):r=x.createElementNS(r,a),r[wr]=o,r[Ua]=h,Oy(r,o,!1,!1),o.stateNode=r;e:{switch(x=ba(a,h),a){case"dialog":rt("cancel",r),rt("close",r),f=h;break;case"iframe":case"object":case"embed":rt("load",r),f=h;break;case"video":case"audio":for(f=0;f<ja.length;f++)rt(ja[f],r);f=h;break;case"source":rt("error",r),f=h;break;case"img":case"image":case"link":rt("error",r),rt("load",r),f=h;break;case"details":rt("toggle",r),f=h;break;case"input":be(r,h),f=pe(r,h),rt("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=le({},h,{value:void 0}),rt("invalid",r);break;case"textarea":Vo(r,h),f=da(r,h),rt("invalid",r);break;default:f=h}va(a,f),k=f;for(g in k)if(k.hasOwnProperty(g)){var A=k[g];g==="style"?ga(r,A):g==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&pa(r,A)):g==="children"?typeof A=="string"?(a!=="textarea"||A!=="")&&ti(r,A):typeof A=="number"&&ti(r,""+A):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(s.hasOwnProperty(g)?A!=null&&g==="onScroll"&&rt("scroll",r):A!=null&&Q(r,g,A,x))}switch(a){case"input":Nt(r),zt(r,h,!1);break;case"textarea":Nt(r),fa(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Le(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Ar(r,!!h.multiple,g,!1):h.defaultValue!=null&&Ar(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Su)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Zt(o),null;case 6:if(r&&o.stateNode!=null)My(r,o,r.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(a=ho(Wa.current),ho(xr.current),Pu(o)){if(h=o.stateNode,a=o.memoizedProps,h[wr]=o,(g=h.nodeValue!==a)&&(r=Tn,r!==null))switch(r.tag){case 3:Eu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Eu(h.nodeValue,a,(r.mode&1)!==0)}g&&(o.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[wr]=o,o.stateNode=h}return Zt(o),null;case 13:if(it(ht),h=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ct&&kn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)jg(),gs(),o.flags|=98560,g=!1;else if(g=Pu(o),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[wr]=o}else gs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Zt(o),g=!1}else ir!==null&&(Xd(ir),ir=null),g=!0;if(!g)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=a,o):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(r===null||(ht.current&1)!==0?Dt===0&&(Dt=3):ef())),o.updateQueue!==null&&(o.flags|=4),Zt(o),null);case 4:return ws(),zd(r,o),r===null&&Ba(o.stateNode.containerInfo),Zt(o),null;case 10:return md(o.type._context),Zt(o),null;case 17:return fn(o.type)&&ku(),Zt(o),null;case 19:if(it(ht),g=o.memoizedState,g===null)return Zt(o),null;if(h=(o.flags&128)!==0,x=g.rendering,x===null)if(h)Za(g,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(x=Mu(r),x!==null){for(o.flags|=128,Za(g,!1),h=x.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=a,a=o.child;a!==null;)g=a,r=h,g.flags&=14680066,x=g.alternate,x===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=x.childLanes,g.lanes=x.lanes,g.child=x.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=x.memoizedProps,g.memoizedState=x.memoizedState,g.updateQueue=x.updateQueue,g.type=x.type,r=x.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return nt(ht,ht.current&1|2),o.child}r=r.sibling}g.tail!==null&&tt()>Ts&&(o.flags|=128,h=!0,Za(g,!1),o.lanes=4194304)}else{if(!h)if(r=Mu(x),r!==null){if(o.flags|=128,h=!0,a=r.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),Za(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!ct)return Zt(o),null}else 2*tt()-g.renderingStartTime>Ts&&a!==1073741824&&(o.flags|=128,h=!0,Za(g,!1),o.lanes=4194304);g.isBackwards?(x.sibling=o.child,o.child=x):(a=g.last,a!==null?a.sibling=x:o.child=x,g.last=x)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=tt(),o.sibling=null,a=ht.current,nt(ht,h?a&1|2:a&1),o):(Zt(o),null);case 22:case 23:return Jd(),h=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Cn&1073741824)!==0&&(Zt(o),o.subtreeFlags&6&&(o.flags|=8192)):Zt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function HE(r,o){switch(ud(o),o.tag){case 1:return fn(o.type)&&ku(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return ws(),it(dn),it(Yt),Ed(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 5:return wd(o),null;case 13:if(it(ht),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(t(340));gs()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return it(ht),null;case 4:return ws(),null;case 10:return md(o.type._context),null;case 22:case 23:return Jd(),null;case 24:return null;default:return null}}var Hu=!1,Jt=!1,GE=typeof WeakSet=="function"?WeakSet:Set,de=null;function Es(r,o){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){mt(r,o,h)}else a.current=null}function Vy(r,o,a){try{a()}catch(h){mt(r,o,h)}}var Fy=!1;function WE(r,o){if(ed=ui,r=mg(),Gh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var x=0,k=-1,A=-1,U=0,Z=0,ne=r,X=null;t:for(;;){for(var ue;ne!==a||f!==0&&ne.nodeType!==3||(k=x+f),ne!==g||h!==0&&ne.nodeType!==3||(A=x+h),ne.nodeType===3&&(x+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)X=ne,ne=ue;for(;;){if(ne===r)break t;if(X===a&&++U===f&&(k=x),X===g&&++Z===h&&(A=x),(ue=ne.nextSibling)!==null)break;ne=X,X=ne.parentNode}ne=ue}a=k===-1||A===-1?null:{start:k,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(td={focusedElem:r,selectionRange:a},ui=!1,de=o;de!==null;)if(o=de,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,de=r;else for(;de!==null;){o=de;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,vt=me.memoizedState,B=o.stateNode,R=B.getSnapshotBeforeUpdate(o.elementType===o.type?ge:or(o.type,ge),vt);B.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var z=o.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){mt(o,o.return,oe)}if(r=o.sibling,r!==null){r.return=o.return,de=r;break}de=o.return}return me=Fy,Fy=!1,me}function Ja(r,o,a){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Vy(o,a,g)}f=f.next}while(f!==h)}}function Gu(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==o)}}function Ud(r){var o=r.ref;if(o!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof o=="function"?o(r):o.current=r}}function jy(r){var o=r.alternate;o!==null&&(r.alternate=null,jy(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[wr],delete o[Ua],delete o[od],delete o[DE],delete o[PE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function By(r){return r.tag===5||r.tag===3||r.tag===4}function zy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||By(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $d(r,o,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,o?a.nodeType===8?a.parentNode.insertBefore(r,o):a.insertBefore(r,o):(a.nodeType===8?(o=a.parentNode,o.insertBefore(r,a)):(o=a,o.appendChild(r)),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=Su));else if(h!==4&&(r=r.child,r!==null))for($d(r,o,a),r=r.sibling;r!==null;)$d(r,o,a),r=r.sibling}function qd(r,o,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,o?a.insertBefore(r,o):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(qd(r,o,a),r=r.sibling;r!==null;)qd(r,o,a),r=r.sibling}var qt=null,sr=!1;function vi(r,o,a){for(a=a.child;a!==null;)Uy(r,o,a),a=a.sibling}function Uy(r,o,a){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Ji,a)}catch{}switch(a.tag){case 5:Jt||Es(a,o);case 6:var h=qt,f=sr;qt=null,vi(r,o,a),qt=h,sr=f,qt!==null&&(sr?(r=qt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):qt.removeChild(a.stateNode));break;case 18:qt!==null&&(sr?(r=qt,a=a.stateNode,r.nodeType===8?id(r.parentNode,a):r.nodeType===1&&id(r,a),tr(r)):id(qt,a.stateNode));break;case 4:h=qt,f=sr,qt=a.stateNode.containerInfo,sr=!0,vi(r,o,a),qt=h,sr=f;break;case 0:case 11:case 14:case 15:if(!Jt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,x=g.destroy;g=g.tag,x!==void 0&&((g&2)!==0||(g&4)!==0)&&Vy(a,o,x),f=f.next}while(f!==h)}vi(r,o,a);break;case 1:if(!Jt&&(Es(a,o),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(k){mt(a,o,k)}vi(r,o,a);break;case 21:vi(r,o,a);break;case 22:a.mode&1?(Jt=(h=Jt)||a.memoizedState!==null,vi(r,o,a),Jt=h):vi(r,o,a);break;default:vi(r,o,a)}}function $y(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new GE),o.forEach(function(h){var f=nS.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function ar(r,o){var a=o.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,x=o,k=x;e:for(;k!==null;){switch(k.tag){case 5:qt=k.stateNode,sr=!1;break e;case 3:qt=k.stateNode.containerInfo,sr=!0;break e;case 4:qt=k.stateNode.containerInfo,sr=!0;break e}k=k.return}if(qt===null)throw Error(t(160));Uy(g,x,f),qt=null,sr=!1;var A=f.alternate;A!==null&&(A.return=null),f.return=null}catch(U){mt(f,o,U)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)qy(o,r),o=o.sibling}function qy(r,o){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(ar(o,r),Sr(r),h&4){try{Ja(3,r,r.return),Gu(3,r)}catch(ge){mt(r,r.return,ge)}try{Ja(5,r,r.return)}catch(ge){mt(r,r.return,ge)}}break;case 1:ar(o,r),Sr(r),h&512&&a!==null&&Es(a,a.return);break;case 5:if(ar(o,r),Sr(r),h&512&&a!==null&&Es(a,a.return),r.flags&32){var f=r.stateNode;try{ti(f,"")}catch(ge){mt(r,r.return,ge)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,x=a!==null?a.memoizedProps:g,k=r.type,A=r.updateQueue;if(r.updateQueue=null,A!==null)try{k==="input"&&g.type==="radio"&&g.name!=null&&Pe(f,g),ba(k,x);var U=ba(k,g);for(x=0;x<A.length;x+=2){var Z=A[x],ne=A[x+1];Z==="style"?ga(f,ne):Z==="dangerouslySetInnerHTML"?pa(f,ne):Z==="children"?ti(f,ne):Q(f,Z,ne,U)}switch(k){case"input":Xe(f,g);break;case"textarea":Fo(f,g);break;case"select":var X=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ue=g.value;ue!=null?Ar(f,!!g.multiple,ue,!1):X!==!!g.multiple&&(g.defaultValue!=null?Ar(f,!!g.multiple,g.defaultValue,!0):Ar(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ua]=g}catch(ge){mt(r,r.return,ge)}}break;case 6:if(ar(o,r),Sr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(ge){mt(r,r.return,ge)}}break;case 3:if(ar(o,r),Sr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{tr(o.containerInfo)}catch(ge){mt(r,r.return,ge)}break;case 4:ar(o,r),Sr(r);break;case 13:ar(o,r),Sr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Wd=tt())),h&4&&$y(r);break;case 22:if(Z=a!==null&&a.memoizedState!==null,r.mode&1?(Jt=(U=Jt)||Z,ar(o,r),Jt=U):ar(o,r),Sr(r),h&8192){if(U=r.memoizedState!==null,(r.stateNode.isHidden=U)&&!Z&&(r.mode&1)!==0)for(de=r,Z=r.child;Z!==null;){for(ne=de=Z;de!==null;){switch(X=de,ue=X.child,X.tag){case 0:case 11:case 14:case 15:Ja(4,X,X.return);break;case 1:Es(X,X.return);var me=X.stateNode;if(typeof me.componentWillUnmount=="function"){h=X,a=X.return;try{o=h,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ge){mt(h,a,ge)}}break;case 5:Es(X,X.return);break;case 22:if(X.memoizedState!==null){Wy(ne);continue}}ue!==null?(ue.return=X,de=ue):Wy(ne)}Z=Z.sibling}e:for(Z=null,ne=r;;){if(ne.tag===5){if(Z===null){Z=ne;try{f=ne.stateNode,U?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(k=ne.stateNode,A=ne.memoizedProps.style,x=A!=null&&A.hasOwnProperty("display")?A.display:null,k.style.display=ma("display",x))}catch(ge){mt(r,r.return,ge)}}}else if(ne.tag===6){if(Z===null)try{ne.stateNode.nodeValue=U?"":ne.memoizedProps}catch(ge){mt(r,r.return,ge)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;Z===ne&&(Z=null),ne=ne.return}Z===ne&&(Z=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:ar(o,r),Sr(r),h&4&&$y(r);break;case 21:break;default:ar(o,r),Sr(r)}}function Sr(r){var o=r.flags;if(o&2){try{e:{for(var a=r.return;a!==null;){if(By(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(ti(f,""),h.flags&=-33);var g=zy(r);qd(r,g,f);break;case 3:case 4:var x=h.stateNode.containerInfo,k=zy(r);$d(r,k,x);break;default:throw Error(t(161))}}catch(A){mt(r,r.return,A)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function KE(r,o,a){de=r,Hy(r)}function Hy(r,o,a){for(var h=(r.mode&1)!==0;de!==null;){var f=de,g=f.child;if(f.tag===22&&h){var x=f.memoizedState!==null||Hu;if(!x){var k=f.alternate,A=k!==null&&k.memoizedState!==null||Jt;k=Hu;var U=Jt;if(Hu=x,(Jt=A)&&!U)for(de=f;de!==null;)x=de,A=x.child,x.tag===22&&x.memoizedState!==null?Ky(f):A!==null?(A.return=x,de=A):Ky(f);for(;g!==null;)de=g,Hy(g),g=g.sibling;de=f,Hu=k,Jt=U}Gy(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,de=g):Gy(r)}}function Gy(r){for(;de!==null;){var o=de;if((o.flags&8772)!==0){var a=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Jt||Gu(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Jt)if(a===null)h.componentDidMount();else{var f=o.elementType===o.type?a.memoizedProps:or(o.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=o.updateQueue;g!==null&&Gg(o,g,h);break;case 3:var x=o.updateQueue;if(x!==null){if(a=null,o.child!==null)switch(o.child.tag){case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}Gg(o,x,a)}break;case 5:var k=o.stateNode;if(a===null&&o.flags&4){a=k;var A=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&a.focus();break;case"img":A.src&&(a.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var U=o.alternate;if(U!==null){var Z=U.memoizedState;if(Z!==null){var ne=Z.dehydrated;ne!==null&&tr(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||o.flags&512&&Ud(o)}catch(X){mt(o,o.return,X)}}if(o===r){de=null;break}if(a=o.sibling,a!==null){a.return=o.return,de=a;break}de=o.return}}function Wy(r){for(;de!==null;){var o=de;if(o===r){de=null;break}var a=o.sibling;if(a!==null){a.return=o.return,de=a;break}de=o.return}}function Ky(r){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var a=o.return;try{Gu(4,o)}catch(A){mt(o,a,A)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var f=o.return;try{h.componentDidMount()}catch(A){mt(o,f,A)}}var g=o.return;try{Ud(o)}catch(A){mt(o,g,A)}break;case 5:var x=o.return;try{Ud(o)}catch(A){mt(o,x,A)}}}catch(A){mt(o,o.return,A)}if(o===r){de=null;break}var k=o.sibling;if(k!==null){k.return=o.return,de=k;break}de=o.return}}var QE=Math.ceil,Wu=J.ReactCurrentDispatcher,Hd=J.ReactCurrentOwner,jn=J.ReactCurrentBatchConfig,He=0,Mt=null,xt=null,Ht=0,Cn=0,Ss=fi(0),Dt=0,el=null,po=0,Ku=0,Gd=0,tl=null,mn=null,Wd=0,Ts=1/0,Gr=null,Qu=!1,Kd=null,bi=null,Yu=!1,wi=null,Xu=0,nl=0,Qd=null,Zu=-1,Ju=0;function un(){return(He&6)!==0?tt():Zu!==-1?Zu:Zu=tt()}function xi(r){return(r.mode&1)===0?1:(He&2)!==0&&Ht!==0?Ht&-Ht:NE.transition!==null?(Ju===0&&(Ju=to()),Ju):(r=Ue,r!==0||(r=window.event,r=r===void 0?16:Pa(r.type)),r)}function lr(r,o,a,h){if(50<nl)throw nl=0,Qd=null,Error(t(185));oi(r,a,h),((He&2)===0||r!==Mt)&&(r===Mt&&((He&2)===0&&(Ku|=a),Dt===4&&Ei(r,Ht)),gn(r,h),a===1&&He===0&&(o.mode&1)===0&&(Ts=tt()+500,Iu&&mi()))}function gn(r,o){var a=r.callbackNode;Or(r,o);var h=eo(r,r===Mt?Ht:0);if(h===0)a!==null&&ka(a),r.callbackNode=null,r.callbackPriority=0;else if(o=h&-h,r.callbackPriority!==o){if(a!=null&&ka(a),o===1)r.tag===0?AE(Yy.bind(null,r)):Og(Yy.bind(null,r)),IE(function(){(He&6)===0&&mi()}),a=null;else{switch(ai(h)){case 1:a=Zi;break;case 4:a=ni;break;case 16:a=Nn;break;case 536870912:a=Jl;break;default:a=Nn}a=iv(a,Qy.bind(null,r))}r.callbackPriority=o,r.callbackNode=a}}function Qy(r,o){if(Zu=-1,Ju=0,(He&6)!==0)throw Error(t(327));var a=r.callbackNode;if(ks()&&r.callbackNode!==a)return null;var h=eo(r,r===Mt?Ht:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||o)o=ec(r,h);else{o=h;var f=He;He|=2;var g=Zy();(Mt!==r||Ht!==o)&&(Gr=null,Ts=tt()+500,go(r,o));do try{ZE();break}catch(k){Xy(r,k)}while(!0);pd(),Wu.current=g,He=f,xt!==null?o=0:(Mt=null,Ht=0,o=Dt)}if(o!==0){if(o===2&&(f=xn(r),f!==0&&(h=f,o=Yd(r,f))),o===1)throw a=el,go(r,0),Ei(r,h),gn(r,tt()),a;if(o===6)Ei(r,h);else{if(f=r.current.alternate,(h&30)===0&&!YE(f)&&(o=ec(r,h),o===2&&(g=xn(r),g!==0&&(h=g,o=Yd(r,g))),o===1))throw a=el,go(r,0),Ei(r,h),gn(r,tt()),a;switch(r.finishedWork=f,r.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:yo(r,mn,Gr);break;case 3:if(Ei(r,h),(h&130023424)===h&&(o=Wd+500-tt(),10<o)){if(eo(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){un(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=rd(yo.bind(null,r,mn,Gr),o);break}yo(r,mn,Gr);break;case 4:if(Ei(r,h),(h&4194240)===h)break;for(o=r.eventTimes,f=-1;0<h;){var x=31-sn(h);g=1<<x,x=o[x],x>f&&(f=x),h&=~g}if(h=f,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*QE(h/1960))-h,10<h){r.timeoutHandle=rd(yo.bind(null,r,mn,Gr),h);break}yo(r,mn,Gr);break;case 5:yo(r,mn,Gr);break;default:throw Error(t(329))}}}return gn(r,tt()),r.callbackNode===a?Qy.bind(null,r):null}function Yd(r,o){var a=tl;return r.current.memoizedState.isDehydrated&&(go(r,o).flags|=256),r=ec(r,o),r!==2&&(o=mn,mn=a,o!==null&&Xd(o)),r}function Xd(r){mn===null?mn=r:mn.push.apply(mn,r)}function YE(r){for(var o=r;;){if(o.flags&16384){var a=o.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!rr(g(),f))return!1}catch{return!1}}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ei(r,o){for(o&=~Gd,o&=~Ku,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var a=31-sn(o),h=1<<a;r[a]=-1,o&=~h}}function Yy(r){if((He&6)!==0)throw Error(t(327));ks();var o=eo(r,0);if((o&1)===0)return gn(r,tt()),null;var a=ec(r,o);if(r.tag!==0&&a===2){var h=xn(r);h!==0&&(o=h,a=Yd(r,h))}if(a===1)throw a=el,go(r,0),Ei(r,o),gn(r,tt()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,yo(r,mn,Gr),gn(r,tt()),null}function Zd(r,o){var a=He;He|=1;try{return r(o)}finally{He=a,He===0&&(Ts=tt()+500,Iu&&mi())}}function mo(r){wi!==null&&wi.tag===0&&(He&6)===0&&ks();var o=He;He|=1;var a=jn.transition,h=Ue;try{if(jn.transition=null,Ue=1,r)return r()}finally{Ue=h,jn.transition=a,He=o,(He&6)===0&&mi()}}function Jd(){Cn=Ss.current,it(Ss)}function go(r,o){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,CE(a)),xt!==null)for(a=xt.return;a!==null;){var h=a;switch(ud(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ku();break;case 3:ws(),it(dn),it(Yt),Ed();break;case 5:wd(h);break;case 4:ws();break;case 13:it(ht);break;case 19:it(ht);break;case 10:md(h.type._context);break;case 22:case 23:Jd()}a=a.return}if(Mt=r,xt=r=Si(r.current,null),Ht=Cn=o,Dt=0,el=null,Gd=Ku=po=0,mn=tl=null,co!==null){for(o=0;o<co.length;o++)if(a=co[o],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var x=g.next;g.next=f,h.next=x}a.pending=h}co=null}return r}function Xy(r,o){do{var a=xt;try{if(pd(),Vu.current=zu,Fu){for(var h=dt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Fu=!1}if(fo=0,Lt=_t=dt=null,Ka=!1,Qa=0,Hd.current=null,a===null||a.return===null){Dt=1,el=o,xt=null;break}e:{var g=r,x=a.return,k=a,A=o;if(o=Ht,k.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var U=A,Z=k,ne=Z.tag;if((Z.mode&1)===0&&(ne===0||ne===11||ne===15)){var X=Z.alternate;X?(Z.updateQueue=X.updateQueue,Z.memoizedState=X.memoizedState,Z.lanes=X.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ue=xy(x);if(ue!==null){ue.flags&=-257,Ey(ue,x,k,g,o),ue.mode&1&&wy(g,U,o),o=ue,A=U;var me=o.updateQueue;if(me===null){var ge=new Set;ge.add(A),o.updateQueue=ge}else me.add(A);break e}else{if((o&1)===0){wy(g,U,o),ef();break e}A=Error(t(426))}}else if(ct&&k.mode&1){var vt=xy(x);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),Ey(vt,x,k,g,o),dd(xs(A,k));break e}}g=A=xs(A,k),Dt!==4&&(Dt=2),tl===null?tl=[g]:tl.push(g),g=x;do{switch(g.tag){case 3:g.flags|=65536,o&=-o,g.lanes|=o;var B=vy(g,A,o);Hg(g,B);break e;case 1:k=A;var R=g.type,z=g.stateNode;if((g.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(bi===null||!bi.has(z)))){g.flags|=65536,o&=-o,g.lanes|=o;var oe=by(g,k,o);Hg(g,oe);break e}}g=g.return}while(g!==null)}ev(a)}catch(ve){o=ve,xt===a&&a!==null&&(xt=a=a.return);continue}break}while(!0)}function Zy(){var r=Wu.current;return Wu.current=zu,r===null?zu:r}function ef(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Mt===null||(po&268435455)===0&&(Ku&268435455)===0||Ei(Mt,Ht)}function ec(r,o){var a=He;He|=2;var h=Zy();(Mt!==r||Ht!==o)&&(Gr=null,go(r,o));do try{XE();break}catch(f){Xy(r,f)}while(!0);if(pd(),He=a,Wu.current=h,xt!==null)throw Error(t(261));return Mt=null,Ht=0,Dt}function XE(){for(;xt!==null;)Jy(xt)}function ZE(){for(;xt!==null&&!Xl();)Jy(xt)}function Jy(r){var o=rv(r.alternate,r,Cn);r.memoizedProps=r.pendingProps,o===null?ev(r):xt=o,Hd.current=null}function ev(r){var o=r;do{var a=o.alternate;if(r=o.return,(o.flags&32768)===0){if(a=qE(a,o,Cn),a!==null){xt=a;return}}else{if(a=HE(a,o),a!==null){a.flags&=32767,xt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Dt=6,xt=null;return}}if(o=o.sibling,o!==null){xt=o;return}xt=o=r}while(o!==null);Dt===0&&(Dt=5)}function yo(r,o,a){var h=Ue,f=jn.transition;try{jn.transition=null,Ue=1,JE(r,o,a,h)}finally{jn.transition=f,Ue=h}return null}function JE(r,o,a,h){do ks();while(wi!==null);if((He&6)!==0)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(Je(r,g),r===Mt&&(xt=Mt=null,Ht=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Yu||(Yu=!0,iv(Nn,function(){return ks(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=jn.transition,jn.transition=null;var x=Ue;Ue=1;var k=He;He|=4,Hd.current=null,WE(r,a),qy(a,r),bE(td),ui=!!ed,td=ed=null,r.current=a,KE(a),Fh(),He=k,Ue=x,jn.transition=g}else r.current=a;if(Yu&&(Yu=!1,wi=r,Xu=f),g=r.pendingLanes,g===0&&(bi=null),eu(a.stateNode),gn(r,tt()),o!==null)for(h=r.onRecoverableError,a=0;a<o.length;a++)f=o[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Qu)throw Qu=!1,r=Kd,Kd=null,r;return(Xu&1)!==0&&r.tag!==0&&ks(),g=r.pendingLanes,(g&1)!==0?r===Qd?nl++:(nl=0,Qd=r):nl=0,mi(),null}function ks(){if(wi!==null){var r=ai(Xu),o=jn.transition,a=Ue;try{if(jn.transition=null,Ue=16>r?16:r,wi===null)var h=!1;else{if(r=wi,wi=null,Xu=0,(He&6)!==0)throw Error(t(331));var f=He;for(He|=4,de=r.current;de!==null;){var g=de,x=g.child;if((de.flags&16)!==0){var k=g.deletions;if(k!==null){for(var A=0;A<k.length;A++){var U=k[A];for(de=U;de!==null;){var Z=de;switch(Z.tag){case 0:case 11:case 15:Ja(8,Z,g)}var ne=Z.child;if(ne!==null)ne.return=Z,de=ne;else for(;de!==null;){Z=de;var X=Z.sibling,ue=Z.return;if(jy(Z),Z===U){de=null;break}if(X!==null){X.return=ue,de=X;break}de=ue}}}var me=g.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var vt=ge.sibling;ge.sibling=null,ge=vt}while(ge!==null)}}de=g}}if((g.subtreeFlags&2064)!==0&&x!==null)x.return=g,de=x;else e:for(;de!==null;){if(g=de,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Ja(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,de=B;break e}de=g.return}}var R=r.current;for(de=R;de!==null;){x=de;var z=x.child;if((x.subtreeFlags&2064)!==0&&z!==null)z.return=x,de=z;else e:for(x=R;de!==null;){if(k=de,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Gu(9,k)}}catch(ve){mt(k,k.return,ve)}if(k===x){de=null;break e}var oe=k.sibling;if(oe!==null){oe.return=k.return,de=oe;break e}de=k.return}}if(He=f,mi(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Ji,r)}catch{}h=!0}return h}finally{Ue=a,jn.transition=o}}return!1}function tv(r,o,a){o=xs(a,o),o=vy(r,o,1),r=yi(r,o,1),o=un(),r!==null&&(oi(r,1,o),gn(r,o))}function mt(r,o,a){if(r.tag===3)tv(r,r,a);else for(;o!==null;){if(o.tag===3){tv(o,r,a);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(bi===null||!bi.has(h))){r=xs(a,r),r=by(o,r,1),o=yi(o,r,1),r=un(),o!==null&&(oi(o,1,r),gn(o,r));break}}o=o.return}}function eS(r,o,a){var h=r.pingCache;h!==null&&h.delete(o),o=un(),r.pingedLanes|=r.suspendedLanes&a,Mt===r&&(Ht&a)===a&&(Dt===4||Dt===3&&(Ht&130023424)===Ht&&500>tt()-Wd?go(r,0):Gd|=a),gn(r,o)}function nv(r,o){o===0&&((r.mode&1)===0?o=1:(o=Ko,Ko<<=1,(Ko&130023424)===0&&(Ko=4194304)));var a=un();r=$r(r,o),r!==null&&(oi(r,o,a),gn(r,a))}function tS(r){var o=r.memoizedState,a=0;o!==null&&(a=o.retryLane),nv(r,a)}function nS(r,o){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),nv(r,a)}var rv;rv=function(r,o,a){if(r!==null)if(r.memoizedProps!==o.pendingProps||dn.current)pn=!0;else{if((r.lanes&a)===0&&(o.flags&128)===0)return pn=!1,$E(r,o,a);pn=(r.flags&131072)!==0}else pn=!1,ct&&(o.flags&1048576)!==0&&Lg(o,Du,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;qu(r,o),r=o.pendingProps;var f=fs(o,Yt.current);bs(o,a),f=kd(null,o,h,r,f,a);var g=Cd();return o.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,fn(h)?(g=!0,Cu(o)):g=!1,o.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,vd(o),f.updater=Uu,o.stateNode=f,f._reactInternals=o,Nd(o,h,r,a),o=Md(null,o,h,!0,g,a)):(o.tag=0,ct&&g&&ld(o),ln(null,o,f,a),o=o.child),o;case 16:h=o.elementType;e:{switch(qu(r,o),r=o.pendingProps,f=h._init,h=f(h._payload),o.type=h,f=o.tag=iS(h),r=or(h,r),f){case 0:o=Ld(null,o,h,r,a);break e;case 1:o=_y(null,o,h,r,a);break e;case 11:o=Sy(null,o,h,r,a);break e;case 14:o=Ty(null,o,h,or(h.type,r),a);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:or(h,f),Ld(r,o,h,f,a);case 1:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:or(h,f),_y(r,o,h,f,a);case 3:e:{if(Dy(o),r===null)throw Error(t(387));h=o.pendingProps,g=o.memoizedState,f=g.element,qg(r,o),Lu(o,h,null,a);var x=o.memoizedState;if(h=x.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){f=xs(Error(t(423)),o),o=Py(r,o,h,a,f);break e}else if(h!==f){f=xs(Error(t(424)),o),o=Py(r,o,h,a,f);break e}else for(kn=di(o.stateNode.containerInfo.firstChild),Tn=o,ct=!0,ir=null,a=Ug(o,null,h,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(gs(),h===f){o=Hr(r,o,a);break e}ln(r,o,h,a)}o=o.child}return o;case 5:return Wg(o),r===null&&hd(o),h=o.type,f=o.pendingProps,g=r!==null?r.memoizedProps:null,x=f.children,nd(h,f)?x=null:g!==null&&nd(h,g)&&(o.flags|=32),Iy(r,o),ln(r,o,x,a),o.child;case 6:return r===null&&hd(o),null;case 13:return Ay(r,o,a);case 4:return bd(o,o.stateNode.containerInfo),h=o.pendingProps,r===null?o.child=ys(o,null,h,a):ln(r,o,h,a),o.child;case 11:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:or(h,f),Sy(r,o,h,f,a);case 7:return ln(r,o,o.pendingProps,a),o.child;case 8:return ln(r,o,o.pendingProps.children,a),o.child;case 12:return ln(r,o,o.pendingProps.children,a),o.child;case 10:e:{if(h=o.type._context,f=o.pendingProps,g=o.memoizedProps,x=f.value,nt(Nu,h._currentValue),h._currentValue=x,g!==null)if(rr(g.value,x)){if(g.children===f.children&&!dn.current){o=Hr(r,o,a);break e}}else for(g=o.child,g!==null&&(g.return=o);g!==null;){var k=g.dependencies;if(k!==null){x=g.child;for(var A=k.firstContext;A!==null;){if(A.context===h){if(g.tag===1){A=qr(-1,a&-a),A.tag=2;var U=g.updateQueue;if(U!==null){U=U.shared;var Z=U.pending;Z===null?A.next=A:(A.next=Z.next,Z.next=A),U.pending=A}}g.lanes|=a,A=g.alternate,A!==null&&(A.lanes|=a),gd(g.return,a,o),k.lanes|=a;break}A=A.next}}else if(g.tag===10)x=g.type===o.type?null:g.child;else if(g.tag===18){if(x=g.return,x===null)throw Error(t(341));x.lanes|=a,k=x.alternate,k!==null&&(k.lanes|=a),gd(x,a,o),x=g.sibling}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===o){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}ln(r,o,f.children,a),o=o.child}return o;case 9:return f=o.type,h=o.pendingProps.children,bs(o,a),f=Vn(f),h=h(f),o.flags|=1,ln(r,o,h,a),o.child;case 14:return h=o.type,f=or(h,o.pendingProps),f=or(h.type,f),Ty(r,o,h,f,a);case 15:return ky(r,o,o.type,o.pendingProps,a);case 17:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:or(h,f),qu(r,o),o.tag=1,fn(h)?(r=!0,Cu(o)):r=!1,bs(o,a),gy(o,h,f),Nd(o,h,f,a),Md(null,o,h,!0,r,a);case 19:return Ry(r,o,a);case 22:return Cy(r,o,a)}throw Error(t(156,o.tag))};function iv(r,o){return Go(r,o)}function rS(r,o,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(r,o,a,h){return new rS(r,o,a,h)}function tf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function iS(r){if(typeof r=="function")return tf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===Fe)return 14}return 2}function Si(r,o){var a=r.alternate;return a===null?(a=Bn(r.tag,o,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=o,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,o=r.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function tc(r,o,a,h,f,g){var x=2;if(h=r,typeof r=="function")tf(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case C:return vo(a.children,f,g,o);case T:x=8,f|=8;break;case I:return r=Bn(12,a,o,f|2),r.elementType=I,r.lanes=g,r;case _:return r=Bn(13,a,o,f),r.elementType=_,r.lanes=g,r;case Ze:return r=Bn(19,a,o,f),r.elementType=Ze,r.lanes=g,r;case je:return nc(a,f,g,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:x=10;break e;case O:x=9;break e;case F:x=11;break e;case Fe:x=14;break e;case Ke:x=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return o=Bn(x,a,o,f),o.elementType=r,o.type=h,o.lanes=g,o}function vo(r,o,a,h){return r=Bn(7,r,h,o),r.lanes=a,r}function nc(r,o,a,h){return r=Bn(22,r,h,o),r.elementType=je,r.lanes=a,r.stateNode={isHidden:!1},r}function nf(r,o,a){return r=Bn(6,r,null,o),r.lanes=a,r}function rf(r,o,a){return o=Bn(4,r.children!==null?r.children:[],r.key,o),o.lanes=a,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function oS(r,o,a,h,f){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ii(0),this.expirationTimes=ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function of(r,o,a,h,f,g,x,k,A){return r=new oS(r,o,a,k,A),o===1?(o=1,g===!0&&(o|=8)):o=0,g=Bn(3,null,null,o),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},vd(g),r}function sS(r,o,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:h==null?null:""+h,children:r,containerInfo:o,implementation:a}}function ov(r){if(!r)return pi;r=r._reactInternals;e:{if(Yn(r)!==r||r.tag!==1)throw Error(t(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(fn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(fn(a))return Ng(r,a,o)}return o}function sv(r,o,a,h,f,g,x,k,A){return r=of(a,h,!0,r,f,g,x,k,A),r.context=ov(null),a=r.current,h=un(),f=xi(a),g=qr(h,f),g.callback=o??null,yi(a,g,f),r.current.lanes=f,oi(r,f,h),gn(r,h),r}function rc(r,o,a,h){var f=o.current,g=un(),x=xi(f);return a=ov(a),o.context===null?o.context=a:o.pendingContext=a,o=qr(g,x),o.payload={element:r},h=h===void 0?null:h,h!==null&&(o.callback=h),r=yi(f,o,x),r!==null&&(lr(r,f,x,g),Ou(r,f,x)),x}function ic(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function av(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<o?a:o}}function sf(r,o){av(r,o),(r=r.alternate)&&av(r,o)}function aS(){return null}var lv=typeof reportError=="function"?reportError:function(r){console.error(r)};function af(r){this._internalRoot=r}oc.prototype.render=af.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(t(409));rc(r,o,null,null)},oc.prototype.unmount=af.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;mo(function(){rc(null,r,null,null)}),o[jr]=null}};function oc(r){this._internalRoot=r}oc.prototype.unstable_scheduleHydration=function(r){if(r){var o=ou();r={blockedOn:null,target:r,priority:o};for(var a=0;a<gr.length&&o!==0&&o<gr[a].priority;a++);gr.splice(a,0,r),a===0&&lu(r)}};function lf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function sc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function uv(){}function lS(r,o,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var U=ic(x);g.call(U)}}var x=sv(o,h,r,0,null,!1,!1,"",uv);return r._reactRootContainer=x,r[jr]=x.current,Ba(r.nodeType===8?r.parentNode:r),mo(),x}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var k=h;h=function(){var U=ic(A);k.call(U)}}var A=of(r,0,!1,null,null,!1,!1,"",uv);return r._reactRootContainer=A,r[jr]=A.current,Ba(r.nodeType===8?r.parentNode:r),mo(function(){rc(o,A,a,h)}),A}function ac(r,o,a,h,f){var g=a._reactRootContainer;if(g){var x=g;if(typeof f=="function"){var k=f;f=function(){var A=ic(x);k.call(A)}}rc(o,x,r,f)}else x=lS(a,o,r,f,h);return ic(x)}ru=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var a=ri(o.pendingLanes);a!==0&&(si(o,a|1),gn(o,tt()),(He&6)===0&&(Ts=tt()+500,mi()))}break;case 13:mo(function(){var h=$r(r,1);if(h!==null){var f=un();lr(h,r,1,f)}}),sf(r,1)}},Qo=function(r){if(r.tag===13){var o=$r(r,134217728);if(o!==null){var a=un();lr(o,r,134217728,a)}sf(r,134217728)}},iu=function(r){if(r.tag===13){var o=xi(r),a=$r(r,o);if(a!==null){var h=un();lr(a,r,o,h)}sf(r,o)}},ou=function(){return Ue},su=function(r,o){var a=Ue;try{return Ue=r,o()}finally{Ue=a}},Bo=function(r,o,a){switch(o){case"input":if(Xe(r,a),o=a.name,a.type==="radio"&&o!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<a.length;o++){var h=a[o];if(h!==r&&h.form===r.form){var f=Tu(h);if(!f)throw Error(t(90));Bt(h),Xe(h,f)}}}break;case"textarea":Fo(r,a);break;case"select":o=a.value,o!=null&&Ar(r,!!a.multiple,o,!1)}},Ki=Zd,xa=mo;var uS={usingClientEntryPoint:!1,Events:[$a,hs,Tu,pr,wa,Zd]},rl={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cS={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ta(r),r===null?null:r.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||aS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Ji=lc.inject(cS),wn=lc}catch{}}return yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uS,yn.createPortal=function(r,o){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lf(o))throw Error(t(200));return sS(r,o,null,a)},yn.createRoot=function(r,o){if(!lf(r))throw Error(t(299));var a=!1,h="",f=lv;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(f=o.onRecoverableError)),o=of(r,1,!1,null,null,a,!1,h,f),r[jr]=o.current,Ba(r.nodeType===8?r.parentNode:r),new af(o)},yn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ta(o),r=r===null?null:r.stateNode,r},yn.flushSync=function(r){return mo(r)},yn.hydrate=function(r,o,a){if(!sc(o))throw Error(t(200));return ac(null,r,o,!0,a)},yn.hydrateRoot=function(r,o,a){if(!lf(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",x=lv;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),o=sv(o,null,r,1,a??null,f,!1,g,x),r[jr]=o.current,Ba(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[a,f]:o.mutableSourceEagerHydrationData.push(a,f);return new oc(o)},yn.render=function(r,o,a){if(!sc(o))throw Error(t(200));return ac(null,r,o,!1,a)},yn.unmountComponentAtNode=function(r){if(!sc(r))throw Error(t(40));return r._reactRootContainer?(mo(function(){ac(null,null,r,!1,function(){r._reactRootContainer=null,r[jr]=null})}),!0):!1},yn.unstable_batchedUpdates=Zd,yn.unstable_renderSubtreeIntoContainer=function(r,o,a,h){if(!sc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return ac(r,o,a,!1,h)},yn.version="18.3.1-next-f1338f8080-20240426",yn}var xv;function vS(){if(xv)return uf.exports;xv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),uf.exports=yS(),uf.exports}var Ev;function bS(){if(Ev)return uc;Ev=1;var n=vS();return uc.createRoot=n.createRoot,uc.hydrateRoot=n.hydrateRoot,uc}var wS=bS();const xS=yb(wS);var vb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sv=_n.createContext&&_n.createContext(vb),Di=function(){return Di=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Di.apply(this,arguments)},ES=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};function bb(n){return n&&n.map(function(e,t){return _n.createElement(e.tag,Di({key:t},e.attr),bb(e.child))})}function hh(n){return function(e){return _n.createElement(SS,Di({attr:Di({},n.attr)},e),bb(n.child))}}function SS(n){var e=function(t){var i=n.attr,s=n.size,l=n.title,c=ES(n,["attr","size","title"]),d=s||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),_n.createElement("svg",Di({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:p,style:Di(Di({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&_n.createElement("title",null,l),n.children)};return Sv!==void 0?_n.createElement(Sv.Consumer,null,function(t){return e(t)}):e(vb)}function TS(n){return hh({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(n)}function kS(n){return hh({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(n)}function CS(n){return hh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(n)}function IS(n){return hh({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"}}]})(n)}var bn=function(){return bn=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},bn.apply(this,arguments)};function Sl(n,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,l;i<s;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}var ot="-ms-",fl="-moz-",Qe="-webkit-",wb="comm",dh="rule",Ap="decl",_S="@import",xb="@keyframes",DS="@layer",Eb=Math.abs,Np=String.fromCharCode,jf=Object.assign;function PS(n,e){return jt(n,0)^45?(((e<<2^jt(n,0))<<2^jt(n,1))<<2^jt(n,2))<<2^jt(n,3):0}function Sb(n){return n.trim()}function Wr(n,e){return(n=e.exec(n))?n[0]:n}function Re(n,e,t){return n.replace(e,t)}function Tc(n,e,t){return n.indexOf(e,t)}function jt(n,e){return n.charCodeAt(e)|0}function zs(n,e,t){return n.slice(e,t)}function kr(n){return n.length}function Tb(n){return n.length}function sl(n,e){return e.push(n),n}function AS(n,e){return n.map(e).join("")}function Tv(n,e){return n.filter(function(t){return!Wr(t,e)})}var fh=1,Us=1,kb=0,Hn=0,St=0,ra="";function ph(n,e,t,i,s,l,c,d){return{value:n,root:e,parent:t,type:i,props:s,children:l,line:fh,column:Us,length:c,return:"",siblings:d}}function Ci(n,e){return jf(ph("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function Cs(n){for(;n.root;)n=Ci(n.root,{children:[n]});sl(n,n.siblings)}function NS(){return St}function RS(){return St=Hn>0?jt(ra,--Hn):0,Us--,St===10&&(Us=1,fh--),St}function hr(){return St=Hn<kb?jt(ra,Hn++):0,Us++,St===10&&(Us=1,fh++),St}function Io(){return jt(ra,Hn)}function kc(){return Hn}function mh(n,e){return zs(ra,n,e)}function Bf(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function OS(n){return fh=Us=1,kb=kr(ra=n),Hn=0,[]}function LS(n){return ra="",n}function cf(n){return Sb(mh(Hn-1,zf(n===91?n+2:n===40?n+1:n)))}function MS(n){for(;(St=Io())&&St<33;)hr();return Bf(n)>2||Bf(St)>3?"":" "}function VS(n,e){for(;--e&&hr()&&!(St<48||St>102||St>57&&St<65||St>70&&St<97););return mh(n,kc()+(e<6&&Io()==32&&hr()==32))}function zf(n){for(;hr();)switch(St){case n:return Hn;case 34:case 39:n!==34&&n!==39&&zf(St);break;case 40:n===41&&zf(n);break;case 92:hr();break}return Hn}function FS(n,e){for(;hr()&&n+St!==57&&!(n+St===84&&Io()===47););return"/*"+mh(e,Hn-1)+"*"+Np(n===47?n:hr())}function jS(n){for(;!Bf(Io());)hr();return mh(n,Hn)}function BS(n){return LS(Cc("",null,null,null,[""],n=OS(n),0,[0],n))}function Cc(n,e,t,i,s,l,c,d,p){for(var y=0,v=0,w=c,S=0,D=0,N=0,M=1,L=1,H=1,W=0,Q="",J=s,ee=l,re=i,C=Q;L;)switch(N=W,W=hr()){case 40:if(N!=108&&jt(C,w-1)==58){Tc(C+=Re(cf(W),"&","&\f"),"&\f",Eb(y?d[y-1]:0))!=-1&&(H=-1);break}case 34:case 39:case 91:C+=cf(W);break;case 9:case 10:case 13:case 32:C+=MS(N);break;case 92:C+=VS(kc()-1,7);continue;case 47:switch(Io()){case 42:case 47:sl(zS(FS(hr(),kc()),e,t,p),p);break;default:C+="/"}break;case 123*M:d[y++]=kr(C)*H;case 125*M:case 59:case 0:switch(W){case 0:case 125:L=0;case 59+v:H==-1&&(C=Re(C,/\f/g,"")),D>0&&kr(C)-w&&sl(D>32?Cv(C+";",i,t,w-1,p):Cv(Re(C," ","")+";",i,t,w-2,p),p);break;case 59:C+=";";default:if(sl(re=kv(C,e,t,y,v,s,d,Q,J=[],ee=[],w,l),l),W===123)if(v===0)Cc(C,e,re,re,J,l,w,d,ee);else switch(S===99&&jt(C,3)===110?100:S){case 100:case 108:case 109:case 115:Cc(n,re,re,i&&sl(kv(n,re,re,0,0,s,d,Q,s,J=[],w,ee),ee),s,ee,w,d,i?J:ee);break;default:Cc(C,re,re,re,[""],ee,0,d,ee)}}y=v=D=0,M=H=1,Q=C="",w=c;break;case 58:w=1+kr(C),D=N;default:if(M<1){if(W==123)--M;else if(W==125&&M++==0&&RS()==125)continue}switch(C+=Np(W),W*M){case 38:H=v>0?1:(C+="\f",-1);break;case 44:d[y++]=(kr(C)-1)*H,H=1;break;case 64:Io()===45&&(C+=cf(hr())),S=Io(),v=w=kr(Q=C+=jS(kc())),W++;break;case 45:N===45&&kr(C)==2&&(M=0)}}return l}function kv(n,e,t,i,s,l,c,d,p,y,v,w){for(var S=s-1,D=s===0?l:[""],N=Tb(D),M=0,L=0,H=0;M<i;++M)for(var W=0,Q=zs(n,S+1,S=Eb(L=c[M])),J=n;W<N;++W)(J=Sb(L>0?D[W]+" "+Q:Re(Q,/&\f/g,D[W])))&&(p[H++]=J);return ph(n,e,t,s===0?dh:d,p,y,v,w)}function zS(n,e,t,i){return ph(n,e,t,wb,Np(NS()),zs(n,2,-2),0,i)}function Cv(n,e,t,i,s){return ph(n,e,t,Ap,zs(n,0,i),zs(n,i+1,-1),i,s)}function Cb(n,e,t){switch(PS(n,e)){case 5103:return Qe+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qe+n+n;case 4789:return fl+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Qe+n+fl+n+ot+n+n;case 5936:switch(jt(n,e+11)){case 114:return Qe+n+ot+Re(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Qe+n+ot+Re(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Qe+n+ot+Re(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Qe+n+ot+n+n;case 6165:return Qe+n+ot+"flex-"+n+n;case 5187:return Qe+n+Re(n,/(\w+).+(:[^]+)/,Qe+"box-$1$2"+ot+"flex-$1$2")+n;case 5443:return Qe+n+ot+"flex-item-"+Re(n,/flex-|-self/g,"")+(Wr(n,/flex-|baseline/)?"":ot+"grid-row-"+Re(n,/flex-|-self/g,""))+n;case 4675:return Qe+n+ot+"flex-line-pack"+Re(n,/align-content|flex-|-self/g,"")+n;case 5548:return Qe+n+ot+Re(n,"shrink","negative")+n;case 5292:return Qe+n+ot+Re(n,"basis","preferred-size")+n;case 6060:return Qe+"box-"+Re(n,"-grow","")+Qe+n+ot+Re(n,"grow","positive")+n;case 4554:return Qe+Re(n,/([^-])(transform)/g,"$1"+Qe+"$2")+n;case 6187:return Re(Re(Re(n,/(zoom-|grab)/,Qe+"$1"),/(image-set)/,Qe+"$1"),n,"")+n;case 5495:case 3959:return Re(n,/(image-set\([^]*)/,Qe+"$1$`$1");case 4968:return Re(Re(n,/(.+:)(flex-)?(.*)/,Qe+"box-pack:$3"+ot+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qe+n+n;case 4200:if(!Wr(n,/flex-|baseline/))return ot+"grid-column-align"+zs(n,e)+n;break;case 2592:case 3360:return ot+Re(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(i,s){return e=s,Wr(i.props,/grid-\w+-end/)})?~Tc(n+(t=t[e].value),"span",0)?n:ot+Re(n,"-start","")+n+ot+"grid-row-span:"+(~Tc(t,"span",0)?Wr(t,/\d+/):+Wr(t,/\d+/)-+Wr(n,/\d+/))+";":ot+Re(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(i){return Wr(i.props,/grid-\w+-start/)})?n:ot+Re(Re(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return Re(n,/(.+)-inline(.+)/,Qe+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(kr(n)-1-e>6)switch(jt(n,e+1)){case 109:if(jt(n,e+4)!==45)break;case 102:return Re(n,/(.+:)(.+)-([^]+)/,"$1"+Qe+"$2-$3$1"+fl+(jt(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Tc(n,"stretch",0)?Cb(Re(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return Re(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,s,l,c,d,p,y){return ot+s+":"+l+y+(c?ot+s+"-span:"+(d?p:+p-+l)+y:"")+n});case 4949:if(jt(n,e+6)===121)return Re(n,":",":"+Qe)+n;break;case 6444:switch(jt(n,jt(n,14)===45?18:11)){case 120:return Re(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Qe+(jt(n,14)===45?"inline-":"")+"box$3$1"+Qe+"$2$3$1"+ot+"$2box$3")+n;case 100:return Re(n,":",":"+ot)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Re(n,"scroll-","scroll-snap-")+n}return n}function jc(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function US(n,e,t,i){switch(n.type){case DS:if(n.children.length)break;case _S:case Ap:return n.return=n.return||n.value;case wb:return"";case xb:return n.return=n.value+"{"+jc(n.children,i)+"}";case dh:if(!kr(n.value=n.props.join(",")))return""}return kr(t=jc(n.children,i))?n.return=n.value+"{"+t+"}":""}function $S(n){var e=Tb(n);return function(t,i,s,l){for(var c="",d=0;d<e;d++)c+=n[d](t,i,s,l)||"";return c}}function qS(n){return function(e){e.root||(e=e.return)&&n(e)}}function HS(n,e,t,i){if(n.length>-1&&!n.return)switch(n.type){case Ap:n.return=Cb(n.value,n.length,t);return;case xb:return jc([Ci(n,{value:Re(n.value,"@","@"+Qe)})],i);case dh:if(n.length)return AS(t=n.props,function(s){switch(Wr(s,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Cs(Ci(n,{props:[Re(s,/:(read-\w+)/,":"+fl+"$1")]})),Cs(Ci(n,{props:[s]})),jf(n,{props:Tv(t,i)});break;case"::placeholder":Cs(Ci(n,{props:[Re(s,/:(plac\w+)/,":"+Qe+"input-$1")]})),Cs(Ci(n,{props:[Re(s,/:(plac\w+)/,":"+fl+"$1")]})),Cs(Ci(n,{props:[Re(s,/:(plac\w+)/,ot+"input-$1")]})),Cs(Ci(n,{props:[s]})),jf(n,{props:Tv(t,i)});break}return""})}}var GS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},In={},$s=typeof process<"u"&&In!==void 0&&(In.REACT_APP_SC_ATTR||In.SC_ATTR)||"data-styled",Ib="active",_b="data-styled-version",gh="6.1.19",Rp=`/*!sc*/
`,Bc=typeof window<"u"&&typeof document<"u",WS=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&In!==void 0&&In.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&In.REACT_APP_SC_DISABLE_SPEEDY!==""?In.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&In.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&In!==void 0&&In.SC_DISABLE_SPEEDY!==void 0&&In.SC_DISABLE_SPEEDY!==""&&In.SC_DISABLE_SPEEDY!=="false"&&In.SC_DISABLE_SPEEDY),yh=Object.freeze([]),qs=Object.freeze({});function KS(n,e,t){return t===void 0&&(t=qs),n.theme!==t.theme&&n.theme||e||t.theme}var Db=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),QS=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,YS=/(^-|-$)/g;function Iv(n){return n.replace(QS,"-").replace(YS,"")}var XS=/(a)(d)/gi,cc=52,_v=function(n){return String.fromCharCode(n+(n>25?39:97))};function Uf(n){var e,t="";for(e=Math.abs(n);e>cc;e=e/cc|0)t=_v(e%cc)+t;return(_v(e%cc)+t).replace(XS,"$1-$2")}var hf,Pb=5381,Ns=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},Ab=function(n){return Ns(Pb,n)};function Nb(n){return Uf(Ab(n)>>>0)}function ZS(n){return n.displayName||n.name||"Component"}function df(n){return typeof n=="string"&&!0}var Rb=typeof Symbol=="function"&&Symbol.for,Ob=Rb?Symbol.for("react.memo"):60115,JS=Rb?Symbol.for("react.forward_ref"):60112,eT={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},tT={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Lb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nT=((hf={})[JS]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hf[Ob]=Lb,hf);function Dv(n){return("type"in(e=n)&&e.type.$$typeof)===Ob?Lb:"$$typeof"in n?nT[n.$$typeof]:eT;var e}var rT=Object.defineProperty,iT=Object.getOwnPropertyNames,Pv=Object.getOwnPropertySymbols,oT=Object.getOwnPropertyDescriptor,sT=Object.getPrototypeOf,Av=Object.prototype;function Mb(n,e,t){if(typeof e!="string"){if(Av){var i=sT(e);i&&i!==Av&&Mb(n,i,t)}var s=iT(e);Pv&&(s=s.concat(Pv(e)));for(var l=Dv(n),c=Dv(e),d=0;d<s.length;++d){var p=s[d];if(!(p in tT||t&&t[p]||c&&p in c||l&&p in l)){var y=oT(e,p);try{rT(n,p,y)}catch{}}}}return n}function Hs(n){return typeof n=="function"}function Op(n){return typeof n=="object"&&"styledComponentId"in n}function So(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function $f(n,e){if(n.length===0)return"";for(var t=n[0],i=1;i<n.length;i++)t+=n[i];return t}function Tl(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function qf(n,e,t){if(t===void 0&&(t=!1),!t&&!Tl(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)n[i]=qf(n[i],e[i]);else if(Tl(e))for(var i in e)n[i]=qf(n[i],e[i]);return n}function Lp(n,e){Object.defineProperty(n,"toString",{value:e})}function Bl(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var aT=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,l=s;e>=l;)if((l<<=1)<0)throw Bl(16,"".concat(e));this.groupSizes=new Uint32Array(l),this.groupSizes.set(i),this.length=l;for(var c=s;c<l;c++)this.groupSizes[c]=0}for(var d=this.indexOfGroup(e+1),p=(c=0,t.length);c<p;c++)this.tag.insertRule(d,t[c])&&(this.groupSizes[e]++,d++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),s=i+t;this.groupSizes[e]=0;for(var l=i;l<s;l++)this.tag.deleteRule(i)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var i=this.groupSizes[e],s=this.indexOfGroup(e),l=s+i,c=s;c<l;c++)t+="".concat(this.tag.getRule(c)).concat(Rp);return t},n}(),Ic=new Map,zc=new Map,_c=1,hc=function(n){if(Ic.has(n))return Ic.get(n);for(;zc.has(_c);)_c++;var e=_c++;return Ic.set(n,e),zc.set(e,n),e},lT=function(n,e){_c=e+1,Ic.set(n,e),zc.set(e,n)},uT="style[".concat($s,"][").concat(_b,'="').concat(gh,'"]'),cT=new RegExp("^".concat($s,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),hT=function(n,e,t){for(var i,s=t.split(","),l=0,c=s.length;l<c;l++)(i=s[l])&&n.registerName(e,i)},dT=function(n,e){for(var t,i=((t=e.textContent)!==null&&t!==void 0?t:"").split(Rp),s=[],l=0,c=i.length;l<c;l++){var d=i[l].trim();if(d){var p=d.match(cT);if(p){var y=0|parseInt(p[1],10),v=p[2];y!==0&&(lT(v,y),hT(n,v,p[3]),n.getTag().insertRules(y,s)),s.length=0}else s.push(d)}}},Nv=function(n){for(var e=document.querySelectorAll(uT),t=0,i=e.length;t<i;t++){var s=e[t];s&&s.getAttribute($s)!==Ib&&(dT(n,s),s.parentNode&&s.parentNode.removeChild(s))}};function fT(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Vb=function(n){var e=document.head,t=n||e,i=document.createElement("style"),s=function(d){var p=Array.from(d.querySelectorAll("style[".concat($s,"]")));return p[p.length-1]}(t),l=s!==void 0?s.nextSibling:null;i.setAttribute($s,Ib),i.setAttribute(_b,gh);var c=fT();return c&&i.setAttribute("nonce",c),t.insertBefore(i,l),i},pT=function(){function n(e){this.element=Vb(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var i=document.styleSheets,s=0,l=i.length;s<l;s++){var c=i[s];if(c.ownerNode===t)return c}throw Bl(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),mT=function(){function n(e){this.element=Vb(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),gT=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),Rv=Bc,yT={isServer:!Bc,useCSSOMInjection:!WS},Fb=function(){function n(e,t,i){e===void 0&&(e=qs),t===void 0&&(t={});var s=this;this.options=bn(bn({},yT),e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&Bc&&Rv&&(Rv=!1,Nv(this)),Lp(this,function(){return function(l){for(var c=l.getTag(),d=c.length,p="",y=function(w){var S=function(H){return zc.get(H)}(w);if(S===void 0)return"continue";var D=l.names.get(S),N=c.getGroup(w);if(D===void 0||!D.size||N.length===0)return"continue";var M="".concat($s,".g").concat(w,'[id="').concat(S,'"]'),L="";D!==void 0&&D.forEach(function(H){H.length>0&&(L+="".concat(H,","))}),p+="".concat(N).concat(M,'{content:"').concat(L,'"}').concat(Rp)},v=0;v<d;v++)y(v);return p}(s)})}return n.registerId=function(e){return hc(e)},n.prototype.rehydrate=function(){!this.server&&Bc&&Nv(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(bn(bn({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var i=t.useCSSOMInjection,s=t.target;return t.isServer?new gT(s):i?new pT(s):new mT(s)}(this.options),new aT(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(hc(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},n.prototype.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(hc(e),i)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(hc(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),vT=/&/g,bT=/^\s*\/\/.*$/gm;function jb(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=jb(t.children,e)),t})}function wT(n){var e,t,i,s=qs,l=s.options,c=l===void 0?qs:l,d=s.plugins,p=d===void 0?yh:d,y=function(S,D,N){return N.startsWith(t)&&N.endsWith(t)&&N.replaceAll(t,"").length>0?".".concat(e):S},v=p.slice();v.push(function(S){S.type===dh&&S.value.includes("&")&&(S.props[0]=S.props[0].replace(vT,t).replace(i,y))}),c.prefix&&v.push(HS),v.push(US);var w=function(S,D,N,M){D===void 0&&(D=""),N===void 0&&(N=""),M===void 0&&(M="&"),e=M,t=D,i=new RegExp("\\".concat(t,"\\b"),"g");var L=S.replace(bT,""),H=BS(N||D?"".concat(N," ").concat(D," { ").concat(L," }"):L);c.namespace&&(H=jb(H,c.namespace));var W=[];return jc(H,$S(v.concat(qS(function(Q){return W.push(Q)})))),W};return w.hash=p.length?p.reduce(function(S,D){return D.name||Bl(15),Ns(S,D.name)},Pb).toString():"",w}var xT=new Fb,Hf=wT(),Bb=_n.createContext({shouldForwardProp:void 0,styleSheet:xT,stylis:Hf});Bb.Consumer;_n.createContext(void 0);function Ov(){return ie.useContext(Bb)}var zb=function(){function n(e,t){var i=this;this.inject=function(s,l){l===void 0&&(l=Hf);var c=i.name+l.hash;s.hasNameForId(i.id,c)||s.insertRules(i.id,c,l(i.rules,c,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Lp(this,function(){throw Bl(12,String(i.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=Hf),this.name+e.hash},n}(),ET=function(n){return n>="A"&&n<="Z"};function Lv(n){for(var e="",t=0;t<n.length;t++){var i=n[t];if(t===1&&i==="-"&&n[0]==="-")return n;ET(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var Ub=function(n){return n==null||n===!1||n===""},$b=function(n){var e,t,i=[];for(var s in n){var l=n[s];n.hasOwnProperty(s)&&!Ub(l)&&(Array.isArray(l)&&l.isCss||Hs(l)?i.push("".concat(Lv(s),":"),l,";"):Tl(l)?i.push.apply(i,Sl(Sl(["".concat(s," {")],$b(l),!1),["}"],!1)):i.push("".concat(Lv(s),": ").concat((e=s,(t=l)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in GS||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return i};function _o(n,e,t,i){if(Ub(n))return[];if(Op(n))return[".".concat(n.styledComponentId)];if(Hs(n)){if(!Hs(l=n)||l.prototype&&l.prototype.isReactComponent||!e)return[n];var s=n(e);return _o(s,e,t,i)}var l;return n instanceof zb?t?(n.inject(t,i),[n.getName(i)]):[n]:Tl(n)?$b(n):Array.isArray(n)?Array.prototype.concat.apply(yh,n.map(function(c){return _o(c,e,t,i)})):[n.toString()]}function ST(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Hs(t)&&!Op(t))return!1}return!0}var TT=Ab(gh),kT=function(){function n(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&ST(e),this.componentId=t,this.baseHash=Ns(TT,t),this.baseStyle=i,Fb.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,i){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))s=So(s,this.staticRulesId);else{var l=$f(_o(this.rules,e,t,i)),c=Uf(Ns(this.baseHash,l)>>>0);if(!t.hasNameForId(this.componentId,c)){var d=i(l,".".concat(c),void 0,this.componentId);t.insertRules(this.componentId,c,d)}s=So(s,c),this.staticRulesId=c}else{for(var p=Ns(this.baseHash,i.hash),y="",v=0;v<this.rules.length;v++){var w=this.rules[v];if(typeof w=="string")y+=w;else if(w){var S=$f(_o(w,e,t,i));p=Ns(p,S+v),y+=S}}if(y){var D=Uf(p>>>0);t.hasNameForId(this.componentId,D)||t.insertRules(this.componentId,D,i(y,".".concat(D),void 0,this.componentId)),s=So(s,D)}}return s},n}(),qb=_n.createContext(void 0);qb.Consumer;var ff={};function CT(n,e,t){var i=Op(n),s=n,l=!df(n),c=e.attrs,d=c===void 0?yh:c,p=e.componentId,y=p===void 0?function(J,ee){var re=typeof J!="string"?"sc":Iv(J);ff[re]=(ff[re]||0)+1;var C="".concat(re,"-").concat(Nb(gh+re+ff[re]));return ee?"".concat(ee,"-").concat(C):C}(e.displayName,e.parentComponentId):p,v=e.displayName,w=v===void 0?function(J){return df(J)?"styled.".concat(J):"Styled(".concat(ZS(J),")")}(n):v,S=e.displayName&&e.componentId?"".concat(Iv(e.displayName),"-").concat(e.componentId):e.componentId||y,D=i&&s.attrs?s.attrs.concat(d).filter(Boolean):d,N=e.shouldForwardProp;if(i&&s.shouldForwardProp){var M=s.shouldForwardProp;if(e.shouldForwardProp){var L=e.shouldForwardProp;N=function(J,ee){return M(J,ee)&&L(J,ee)}}else N=M}var H=new kT(t,S,i?s.componentStyle:void 0);function W(J,ee){return function(re,C,T){var I=re.attrs,P=re.componentStyle,O=re.defaultProps,F=re.foldedComponentIds,_=re.styledComponentId,Ze=re.target,Fe=_n.useContext(qb),Ke=Ov(),je=re.shouldForwardProp||Ke.shouldForwardProp,se=KS(C,Fe,O)||qs,he=function(_e,Ne,Oe){for(var Le,Be=bn(bn({},Ne),{className:void 0,theme:Oe}),lt=0;lt<_e.length;lt+=1){var Nt=Hs(Le=_e[lt])?Le(Be):Le;for(var Bt in Nt)Be[Bt]=Bt==="className"?So(Be[Bt],Nt[Bt]):Bt==="style"?bn(bn({},Be[Bt]),Nt[Bt]):Nt[Bt]}return Ne.className&&(Be.className=So(Be.className,Ne.className)),Be}(I,C,se),le=he.as||Ze,V={};for(var G in he)he[G]===void 0||G[0]==="$"||G==="as"||G==="theme"&&he.theme===se||(G==="forwardedAs"?V.as=he.forwardedAs:je&&!je(G,le)||(V[G]=he[G]));var ye=function(_e,Ne){var Oe=Ov(),Le=_e.generateAndInjectStyles(Ne,Oe.styleSheet,Oe.stylis);return Le}(P,he),Ie=So(F,_);return ye&&(Ie+=" "+ye),he.className&&(Ie+=" "+he.className),V[df(le)&&!Db.has(le)?"class":"className"]=Ie,T&&(V.ref=T),ie.createElement(le,V)}(Q,J,ee)}W.displayName=w;var Q=_n.forwardRef(W);return Q.attrs=D,Q.componentStyle=H,Q.displayName=w,Q.shouldForwardProp=N,Q.foldedComponentIds=i?So(s.foldedComponentIds,s.styledComponentId):"",Q.styledComponentId=S,Q.target=i?s.target:n,Object.defineProperty(Q,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(J){this._foldedDefaultProps=i?function(ee){for(var re=[],C=1;C<arguments.length;C++)re[C-1]=arguments[C];for(var T=0,I=re;T<I.length;T++)qf(ee,I[T],!0);return ee}({},s.defaultProps,J):J}}),Lp(Q,function(){return".".concat(Q.styledComponentId)}),l&&Mb(Q,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Q}function Mv(n,e){for(var t=[n[0]],i=0,s=e.length;i<s;i+=1)t.push(e[i],n[i+1]);return t}var Vv=function(n){return Object.assign(n,{isCss:!0})};function Hb(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Hs(n)||Tl(n))return Vv(_o(Mv(yh,Sl([n],e,!0))));var i=n;return e.length===0&&i.length===1&&typeof i[0]=="string"?_o(i):Vv(_o(Mv(i,e)))}function Gf(n,e,t){if(t===void 0&&(t=qs),!e)throw Bl(1,e);var i=function(s){for(var l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];return n(e,t,Hb.apply(void 0,Sl([s],l,!1)))};return i.attrs=function(s){return Gf(n,e,bn(bn({},t),{attrs:Array.prototype.concat(t.attrs,s).filter(Boolean)}))},i.withConfig=function(s){return Gf(n,e,bn(bn({},t),s))},i}var Gb=function(n){return Gf(CT,n)},xe=Gb;Db.forEach(function(n){xe[n]=Gb(n)});function IT(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var i=$f(Hb.apply(void 0,Sl([n],e,!1))),s=Nb(i);return new zb(s,i)}const _T={github:$.jsx(TS,{}),scholar:$.jsx(IS,{}),email:$.jsx(CS,{})},DT=xe.aside`
  width: var(--sidebar-width);
  min-height: calc(100vh - 76px);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 32px 0 0 0;
  margin-left: 0;
  background: none;
  border: none;
`,PT=xe.img`
  width: 240px;
  height: 240px;
  /* border-radius: 50%; */
  object-fit: cover;
  margin-bottom: 10px;
  border: 0px solid var(--primary);
`,AT=xe.h2`
  margin: 0 0 8px 0;
  font-size: 1.7rem;
  font-weight: 700;
`,NT=xe.div`
  color: var(--primary);
  font-size: 1.1rem;
  margin-bottom: 8px;
`,RT=xe.div`
  color: #222;
  font-size: 1rem;
  margin-bottom: 0px;
  text-align: center;
`,OT=xe.div`
  margin: 18px 0 0 0;
  padding: 0 0 12px 0;
  display: flex;
  gap: 18px;
`,LT=xe.div`
  width: 90%;
  margin-top: 0px;
`,MT=xe.div`
  color: var(--primary);
  font-weight: 700;
  margin-bottom: 8px;
  font-size: 1.4rem;
`,VT=xe.ul`
  list-style: none;
  padding: 0;
  margin: 0;
  max-height: 400px;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: #3674B5 #e0e7ef; /* Firefox */
  &::-webkit-scrollbar {
    width: 8px;
    background: #e0e7ef;
  }
  &::-webkit-scrollbar-thumb {
    background: #3674B5;
    border-radius: 4px;
  }
  &::-webkit-scrollbar-thumb:hover {
    background: #3674B5;
  }
`,FT=xe.li`
  font-size: 0.98rem;
  color: var(--text);
  margin-bottom: 6px;
  border-left: 3px solid var(--primary);
  padding-left: 8px;
  line-height: 1.7;
`,jT=xe.span`
  color: #000;
  font-size: 0.92rem;
  margin-right: 6px;
  font-weight: bold;
`;function BT(n){if(!n)return null;let e=n.replace(/\*\*([^*]+)\*\*/g,"<b>$1</b>");return e=e.replace(/\[([^\]]+)\]\(([^\)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" style="color:#2563eb;text-decoration:underline;">$1</a>'),e}function zT({config:n}){return $.jsxs(DT,{children:[$.jsx(PT,{src:n.avatar,alt:"avatar"}),$.jsx(AT,{children:n.name}),$.jsx(NT,{children:n.title}),$.jsx(RT,{children:"The Hong Kong University of Science and Technology"}),$.jsx(OT,{children:n.social.map(e=>$.jsx("a",{href:e.type==="email"?`mailto:${n.email}`:e.url,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--text)",fontSize:22},children:_T[e.type]||$.jsx(kS,{})},e.type))}),$.jsxs(LT,{children:[$.jsx(MT,{children:"News"}),$.jsx(VT,{children:n.news.map((e,t)=>$.jsxs(FT,{children:[$.jsx(jT,{children:e.date}),$.jsx("span",{dangerouslySetInnerHTML:{__html:BT(e.content)}})]},t))})]})]})}const To={name:"Kangyu YUAN",name_cn:"袁康宇",title:"Ph.D. Student",avatar:"/materials/avatar.jpg",bio:`I am currently a Ph.D. student at the Hong Kong University of Science and Technology (HKUST), supervised by [Prof. Xiaojuan Ma](https://cse.hkust.edu.hk/~mxj/) since 2024. 
  Before that, I studied and got the degree of B.E. in department of [Artificial Intelligence](https://sai.sysu.edu.cn/) at Sun Yat-sen University from 2020 to 2024, where I received research training from [Prof. Zhenhui Peng](https://zhenhuipeng.com/). 
  My current research interests include **Social Computing** and **Mental Health**. I am committed to sustainable and friendly communities building through:`,bioList:["(1) Analyzing user interaction patterns & Evolvement in online communities ==(Factors Identification)==","(2) Exploring the potential interventions strategies in a user-center perspective ==(Design Exploration)==.","(3) Introducing social-technical skills to mitigate online negative social phenomena ==(System Application)==."],bioAfterList:"I am currently looking for collaborators on online community sustainability and friendliness. If you are interested in my research topics, please feel free to contact me.",location:"Hong Kong, China",email:"kyuanaf@connect.ust.hk",social:[{type:"github",url:"https://github.com/Yuanky123"},{type:"scholar",url:"https://scholar.google.com.hk/citations?user=1EJefeAAAAAJ&hl=it"},{type:"email",url:"kyuanaf@connect.ust.hk"},{type:"orcid",url:"https://orcid.org/0009-0001-8460-9651"}],topNav:[{label:"Publications",url:"#"},{label:"Life",url:"#"}],education:[{department:"Department of Computer Science and Engineering",school:"The Hong Kong University of Science and Technology",degree:"Ph.D. Student",time:"2024 - Present"},{department:"Department of Artificial Intelligence",school:"Sun Yat-sen University",degree:"Bachelor of Engineering (B.E.)",time:"2020 - 2024"}],experience:[{company:"@[HCI Initiative](https://hci.cse.ust.hk/people.html), HKUST, mentored by [Chengbo Zheng ](https://www.cbzheng.link/) in [Prof. Xiaojuan Ma](https://cse.hkust.edu.hk/~mxj/)'s lab",title:"Research intern",time:"2023.06 - 2023.09"},{company:"@HaiA Lab, SYSU, supervised by [Prof. Zhenhui Peng](https://zhenhuipeng.com/)",title:"Research training",time:"2022.11 - 2024.06"}],research:["Research Interest 1","Research Interest 2","Research Interest 3"],news:[{date:"Jun. 2025",content:"One **@CSCW 2025** co-author paper accepted. Congrats and thanks to all!"},{date:"Apr. 2025",content:"Attend the CHI 2025 in Yokohama, Japan. Glad to present our poster!"},{date:"Mar. 2025",content:"One **@CSCW 2025** co-author paper accepted. Congrats and Thanks to all!"},{date:"Feb. 2025",content:"One **@CHI 2025** LBW work accepted. Thanks to all collaborators!"},{date:"Sep. 2024",content:"Join HKUST as a Ph.D. student supervised by Prof. Xiaojuan Ma! Looking forward to the new journey!"},{date:"Jun. 2024",content:"Graduate from SYSU with a B.E. in Artificial Intelligence. Thanks to all people I met and worked with!"},{date:"Feb. 2024",content:"One **@CHI 2024** co-author LBW work accepted. Thanks to all!"},{date:"Jan. 2024",content:"One **@CHI 2024** co-author paper accepted. Congrats and Thanks to all!"},{date:"Jun. 2023",content:"One **@UIST 2023** co-first author paper accepted. Thanks to all my collaborators!"}],papers:[{title:'[CHI EA 2025] "I Love the Internet Again": Exploring the Interaction Inception of "TikTok Refugees" Flocking into RedNote',authors:"==Kangyu YUAN==, Li Zhang, Hanfang Lyu, Ziqi Pan, Yuanhao Zhang, Junze Li, Bingcan Guo, Jiaxiong Hu, Qingyu Guo, Xiaojuan Ma",venue:"CHI EA",year:"2025",link:"https://dl.acm.org/doi/full/10.1145/3706599.3719738"},{title:"[CHI EA 2024] Exploring the Evolvement of Artwork Descriptions in Online Creative Community under the Surge of Generative AI: A Case Study of DeviantArt",authors:"Qingyu Guo, ==Kangyu YUAN==, Changyang He, Zhenhui Peng, Xiaojuan Ma",venue:"CHI EA",year:"2024",link:"https://dl.acm.org/doi/full/10.1145/3613905.3650851"},{title:"[CHI 2024] Charting the Future of AI in Project-Based Learning: A Co-Design Exploration with Students",authors:"Chengbo Zheng, ==Kangyu YUAN==, Bingcan Guo, Reza Hadi Mogavi, Zhenhui Peng, Shuai Ma, Xiaojuan Ma",venue:"CHI",year:"2024",link:"https://dl.acm.org/doi/full/10.1145/3613904.3642807"},{title:"[UIST 2023] CriTrainer: An Adaptive Training Tool for Critical Paper Reading",authors:"==Kangyu YUAN==, **Hehai Lin**, **Shilei Cao**, Zhenhui Peng, Qingyu Guo, Xiaojuan Ma",venue:"UIST",year:"2023, co-first author",link:"https://dl.acm.org/doi/abs/10.1145/3586183.3606816"}],projects:[{name:"Project Name",desc:"Project Description",link:"#"}]},UT=xe.header`
  width: 100%;
  height: 76px;
  background: var(--primary);
  display: flex;
  align-items: flex-end;
  justify-content: center;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100;
  border-bottom: 1.5px solid var(--primary-light);
`,$T=xe.div`
  width: 100%;
  max-width: 1200px;
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  padding: 32px 48px 0 48px;
  box-sizing: border-box;
`,qT=xe.div`
  display: flex;
  flex-direction: column;
  align-items: center;
`,HT=xe.h1`
  font-size: 2.1rem;
  font-weight: 600;
  margin: 0;
  color: #fff;
`,GT=xe.span`
  font-size: 1.1rem;
  color: #fff;
  margin-top: 2px;
`,WT=xe.nav`
  display: flex;
  gap: 36px;
  align-items: center;
`,KT=xe.button`
  background: none;
  border: none;
  color: ${({active:n})=>n?"#fff":"#c7e3fa"};
  font-size: 1.25rem;
  font-weight: 500;
  text-decoration: none;
  cursor: pointer;
  transition: color var(--transition);
  outline: none;
  &:hover {
    color: #fff;
    text-decoration: underline;
  }
`;function QT({theme:n,setTheme:e,current:t,activeSection:i,onChange:s}){const l=[{label:"Home",key:"home"},...To.topNav.map((d,p)=>({...d,key:d.label.toLowerCase()}))],c=d=>{s(d)};return $.jsx(UT,{children:$.jsxs($T,{children:[$.jsxs(qT,{children:[$.jsx(HT,{children:To.name}),To.name_cn&&$.jsx(GT,{children:To.name_cn})]}),$.jsx(WT,{children:l.map(d=>{const p=t==="home"?d.key==="publications"?i==="publications":i==="home"&&d.key==="home":t===d.key;return $.jsx(KT,{active:p,onClick:()=>c(d.key),children:d.label},d.key)})})]})})}const YT=xe.h3`
  margin-top: 32px;
  color: #3674B5;
  font-size: 1.25rem;
`,pf=xe.h3`
  margin-top: 20px;
  color: var(--primary);
  font-size: 1.25rem;
  margin-bottom: 12px;
`,Fv=xe.ul`
  margin: 8px 0 0 0;
  padding-left: 20px;
`,XT=xe.div`
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-top: 12px;
`,ZT=xe.div`
  background: var(--card-bg);
  border-radius: 5px;
  box-shadow: 0 10px 12px rgba(54,116,181,0.10);
  border: 0px solid var(--border);
  display: flex;
  flex-direction: row;
  gap: 22px;
  padding: 15px 24px 15px 18px;
  align-items: flex-start;
  min-height: 120px;
`,JT=xe.img`
  width: 140px;
  height: 105px;
  object-fit: cover;
  border-radius: 8px;
  background: #eee;
  flex-shrink: 0;
`,ek=xe.div`
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
`,tk=xe.a`
  font-size: 1.08rem;
  font-weight: bold;
  color: var(--title);
  text-decoration: none;
  &:hover { text-decoration: underline; }
  display: block;
`,nk=xe.div`
  color: #444;
  font-size: 0.98rem;
  margin: 4px 0 2px 0;
`,rk=xe.div`
  color: #888;
  font-size: 0.95rem;
`,ik=xe.div`
  color: #333;
  font-size: 0.97rem;
  margin-top: 4px;
`;function mf(n){if(!n)return null;let e=n.replace(/\[([^\]]+)\]\(([^\)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" style="color:#3674B5;text-decoration:underline;">$1</a>');return e=e.replace(/\*\*([^*]+)\*\*/g,"<b>$1</b>"),e=e.replace(/==([^=]+)==/g,'<span style="color:#3674B5;font-weight:bold;">$1</span>'),e}function ok(n){if(!n)return null;let e=n.replace(/\[([^\]]+)\]\(([^\)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" style="color:#3674B5;text-decoration:underline;">$1</a>');return e=e.replace(/\*\*([^*]+)\*\*/g,"<b>$1</b>"),e}function dc(n){if(!n)return null;let e=n.replace(/\*\*([^*]+)\*\*/g,"<b>$1</b>");return e=e.replace(/==([^=]+)==/g,'<span style="color:#3674B5;font-weight:bold;">$1</span>'),e=e.replace(/\[([^\]]+)\]\(([^\)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" style="color:#3674B5;text-decoration:underline;">$1</a>'),e}function Wb({config:n,pubRef:e}){return $.jsxs("div",{style:{background:"none",boxShadow:"none",border:"none",padding:"0 24px"},children:[$.jsx(YT,{style:{marginTop:10,marginBottom:12},children:"About Me"}),$.jsx("div",{style:{fontSize:"1.1rem",marginBottom:12},dangerouslySetInnerHTML:{__html:mf(n.bio)}}),n.bioList&&n.bioList.length>0&&$.jsx("ul",{style:{margin:"12px 0 12px 24px"},children:n.bioList.map((t,i)=>$.jsx("li",{style:{marginBottom:4},dangerouslySetInnerHTML:{__html:mf(t)}},i))}),n.bioAfterList&&$.jsx("div",{style:{fontSize:"1.1rem",margin:"12px 0 24px 0"},dangerouslySetInnerHTML:{__html:mf(n.bioAfterList)}}),$.jsx(pf,{children:"Experience"}),$.jsx(Fv,{children:n.experience.map((t,i)=>$.jsx("li",{dangerouslySetInnerHTML:{__html:ok(`${t.company}, ${t.title} (${t.time})`)}},i))}),$.jsx(pf,{children:"Education"}),$.jsx(Fv,{children:n.education.map((t,i)=>$.jsxs("li",{children:[t.school,", ",t.degree," (",t.time,")"]},i))}),$.jsx(pf,{ref:e,id:"publications",children:"Publications"}),$.jsx(XT,{children:n.papers.map((t,i,s)=>{let l=t.img||`/materials/publications/${s.length-i}.jpg`;const c=d=>{d.target.src.endsWith(".png")||(d.target.src=`/materials/publications/${s.length-i}.png`)};return $.jsxs(ZT,{children:[$.jsx(JT,{src:l,alt:"pub",onError:c}),$.jsxs(ek,{children:[$.jsx(tk,{href:t.link,target:"_blank",rel:"noopener noreferrer",dangerouslySetInnerHTML:{__html:dc(t.title)}}),$.jsx(nk,{dangerouslySetInnerHTML:{__html:dc(t.authors)}}),$.jsx(rk,{dangerouslySetInnerHTML:{__html:dc(t.venue+(t.year?`, ${t.year}`:""))}}),t.desc&&$.jsx(ik,{dangerouslySetInnerHTML:{__html:dc(t.desc)}})]})]},i)})})]})}xe.div`
  background: var(--card-bg);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(37,99,235,0.05);
  padding: 24px 20px;
  margin-bottom: 20px;
  border: 1px solid var(--border);
  transition: box-shadow var(--transition), background var(--transition);
`;xe.a`
  color: var(--primary);
  font-size: 1.1rem;
  font-weight: 700;
  text-decoration: none;
  &:hover { text-decoration: underline; }
`;xe.div`
  color: var(--text);
  font-size: 1rem;
  margin: 6px 0;
`;xe.div`
  color: #888;
  font-size: 0.95rem;
`;xe.div`
  background: var(--card-bg);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(37,99,235,0.05);
  padding: 24px 20px;
  margin-bottom: 20px;
  border: 1px solid var(--border);
  transition: box-shadow var(--transition), background var(--transition);
`;xe.a`
  color: var(--primary);
  font-size: 1.1rem;
  font-weight: 700;
  text-decoration: none;
  &:hover { text-decoration: underline; }
`;xe.div`
  color: var(--text);
  font-size: 1rem;
  margin: 6px 0;
`;const sk=()=>{};var jv={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Kb=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},ak=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],d=n[t++],p=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Qb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,d=c?n[s+1]:0,p=s+2<n.length,y=p?n[s+2]:0,v=l>>2,w=(l&3)<<4|d>>4;let S=(d&15)<<2|y>>6,D=y&63;p||(D=64,c||(S=64)),i.push(t[v],t[w],t[S],t[D])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Kb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ak(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const p=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||c==null||d==null||p==null)throw new lk;const y=l<<2|c>>4;if(i.push(y),d!==64){const v=c<<4&240|d>>2;if(i.push(v),p!==64){const w=d<<6&192|p;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uk=function(n){const e=Kb(n);return Qb.encodeByteArray(e,!0)},Uc=function(n){return uk(n).replace(/\./g,"")},ck=function(n){try{return Qb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dk=()=>hk().__FIREBASE_DEFAULTS__,fk=()=>{if(typeof process>"u"||typeof jv>"u")return;const n=jv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ck(n[1]);return e&&JSON.parse(e)},Mp=()=>{try{return sk()||dk()||fk()||pk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mk=n=>{var e,t;return(t=(e=Mp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gk=n=>{const e=mk(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Yb=()=>{var n;return(n=Mp())===null||n===void 0?void 0:n.config};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vp(n){return n.endsWith(".cloudworkstations.dev")}async function vk(n){return(await fetch(n,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bk(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Uc(JSON.stringify(t)),Uc(JSON.stringify(c)),""].join(".")}const pl={};function wk(){const n={prod:[],emulator:[]};for(const e of Object.keys(pl))pl[e]?n.emulator.push(e):n.prod.push(e);return n}function xk(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Bv=!1;function Ek(n,e){if(typeof window>"u"||typeof document>"u"||!Vp(window.location.host)||pl[n]===e||pl[n]||Bv)return;pl[n]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",s=wk().prod.length>0;function l(){const w=document.getElementById(i);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Bv=!0,l()},w}function y(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=xk(i),S=t("text"),D=document.getElementById(S)||document.createElement("span"),N=t("learnmore"),M=document.getElementById(N)||document.createElement("a"),L=t("preprendIcon"),H=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const W=w.element;c(W),y(M,N);const Q=p();d(H,L),W.append(H,D,M,Q),document.body.appendChild(W)}s?(D.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Sk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tk(){var n;const e=(n=Mp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kk(){return!Tk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ck(){try{return typeof indexedDB=="object"}catch{return!1}}function Ik(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _k="FirebaseError";class ia extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=_k,Object.setPrototypeOf(this,ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xb.prototype.create)}}class Xb{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?Dk(l,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new ia(s,d,i)}}function Dk(n,e){return n.replace(Pk,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const Pk=/\{\$([^}]+)}/g;function $c(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(zv(l)&&zv(c)){if(!$c(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function zv(n){return n!==null&&typeof n=="object"}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Gs(n){return n&&n._delegate?n._delegate:n}class kl{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wo="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ak{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new yk;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Rk(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Nk(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nk(n){return n===wo?void 0:n}function Rk(n){return n.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ok{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ak(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const Lk={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Mk=qe.INFO,Vk={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},Fk=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=Vk[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zb{constructor(e){this.name=e,this._logLevel=Mk,this._logHandler=Fk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const jk=(n,e)=>e.some(t=>n instanceof t);let Uv,$v;function Bk(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zk(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jb=new WeakMap,Wf=new WeakMap,ew=new WeakMap,gf=new WeakMap,Fp=new WeakMap;function Uk(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Pi(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Jb.set(t,n)}).catch(()=>{}),Fp.set(e,n),e}function $k(n){if(Wf.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Wf.set(n,e)}let Kf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Wf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ew.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Pi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qk(n){Kf=n(Kf)}function Hk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(yf(this),e,...t);return ew.set(i,e.sort?e.sort():[e]),Pi(i)}:zk().includes(n)?function(...e){return n.apply(yf(this),e),Pi(Jb.get(this))}:function(...e){return Pi(n.apply(yf(this),e))}}function Gk(n){return typeof n=="function"?Hk(n):(n instanceof IDBTransaction&&$k(n),jk(n,Bk())?new Proxy(n,Kf):n)}function Pi(n){if(n instanceof IDBRequest)return Uk(n);if(gf.has(n))return gf.get(n);const e=Gk(n);return e!==n&&(gf.set(n,e),Fp.set(e,n)),e}const yf=n=>Fp.get(n);function Wk(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),d=Pi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Pi(c.result),p.oldVersion,p.newVersion,Pi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const Kk=["get","getKey","getAll","getAllKeys","count"],Qk=["put","add","delete","clear"],vf=new Map;function qv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(vf.get(e))return vf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=Qk.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Kk.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,s?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),s&&p.done]))[0]};return vf.set(e,l),l}qk(n=>({...n,get:(e,t,i)=>qv(e,t)||n.get(e,t,i),has:(e,t)=>!!qv(e,t)||n.has(e,t)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Xk(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(" ")}}function Xk(n){return n.getComponent()?.type==="VERSION"}const Qf="@firebase/app",Hv="0.13.1";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xr=new Zb("@firebase/app"),Zk="@firebase/app-compat",Jk="@firebase/analytics-compat",eC="@firebase/analytics",tC="@firebase/app-check-compat",nC="@firebase/app-check",rC="@firebase/auth",iC="@firebase/auth-compat",oC="@firebase/database",sC="@firebase/data-connect",aC="@firebase/database-compat",lC="@firebase/functions",uC="@firebase/functions-compat",cC="@firebase/installations",hC="@firebase/installations-compat",dC="@firebase/messaging",fC="@firebase/messaging-compat",pC="@firebase/performance",mC="@firebase/performance-compat",gC="@firebase/remote-config",yC="@firebase/remote-config-compat",vC="@firebase/storage",bC="@firebase/storage-compat",wC="@firebase/firestore",xC="@firebase/ai",EC="@firebase/firestore-compat",SC="firebase",TC="11.9.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Yf="[DEFAULT]",kC={[Qf]:"fire-core",[Zk]:"fire-core-compat",[eC]:"fire-analytics",[Jk]:"fire-analytics-compat",[nC]:"fire-app-check",[tC]:"fire-app-check-compat",[rC]:"fire-auth",[iC]:"fire-auth-compat",[oC]:"fire-rtdb",[sC]:"fire-data-connect",[aC]:"fire-rtdb-compat",[lC]:"fire-fn",[uC]:"fire-fn-compat",[cC]:"fire-iid",[hC]:"fire-iid-compat",[dC]:"fire-fcm",[fC]:"fire-fcm-compat",[pC]:"fire-perf",[mC]:"fire-perf-compat",[gC]:"fire-rc",[yC]:"fire-rc-compat",[vC]:"fire-gcs",[bC]:"fire-gcs-compat",[wC]:"fire-fst",[EC]:"fire-fst-compat",[xC]:"fire-vertex","fire-js":"fire-js",[SC]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qc=new Map,CC=new Map,Xf=new Map;function Gv(n,e){try{n.container.addComponent(e)}catch(t){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hc(n){const e=n.name;if(Xf.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;Xf.set(e,n);for(const t of qc.values())Gv(t,n);for(const t of CC.values())Gv(t,n);return!0}function IC(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _C(n){return n==null?!1:n.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new Xb("app","Firebase",DC);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AC=TC;function tw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Yf,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Ai.create("bad-app-name",{appName:String(s)});if(t||(t=Yb()),!t)throw Ai.create("no-options");const l=qc.get(s);if(l){if($c(t,l.options)&&$c(i,l.config))return l;throw Ai.create("duplicate-app",{appName:s})}const c=new Ok(s);for(const p of Xf.values())c.addComponent(p);const d=new PC(t,i,c);return qc.set(s,d),d}function NC(n=Yf){const e=qc.get(n);if(!e&&n===Yf&&Yb())return tw();if(!e)throw Ai.create("no-app",{appName:n});return e}function Fs(n,e,t){var i;let s=(i=kC[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(d.join(" "));return}Hc(new kl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const RC="firebase-heartbeat-database",OC=1,Cl="firebase-heartbeat-store";let bf=null;function nw(){return bf||(bf=Wk(RC,OC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Cl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ai.create("idb-open",{originalErrorMessage:n.message})})),bf}async function LC(n){try{const e=(await nw()).transaction(Cl),t=await e.objectStore(Cl).get(rw(n));return await e.done,t}catch(e){if(e instanceof ia)Xr.warn(e.message);else{const t=Ai.create("idb-get",{originalErrorMessage:e?.message});Xr.warn(t.message)}}}async function Wv(n,e){try{const t=(await nw()).transaction(Cl,"readwrite");await t.objectStore(Cl).put(e,rw(n)),await t.done}catch(t){if(t instanceof ia)Xr.warn(t.message);else{const i=Ai.create("idb-set",{originalErrorMessage:t?.message});Xr.warn(i.message)}}}function rw(n){return`${n.name}!${n.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const MC=1024,VC=30;class FC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new BC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>VC){const l=zC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Kv(),{heartbeatsToSend:i,unsentEntries:s}=jC(this._heartbeatsCache.heartbeats),l=Uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Xr.warn(t),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function jC(n,e=MC){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),Qv(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Qv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class BC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ck()?Ik().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await LC(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Qv(n){return Uc(JSON.stringify({version:2,heartbeats:n})).length}function zC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function UC(n){Hc(new kl("platform-logger",e=>new Yk(e),"PRIVATE")),Hc(new kl("heartbeat",e=>new FC(e),"PRIVATE")),Fs(Qf,Hv,n),Fs(Qf,Hv,"esm2017"),Fs("fire-js","")}UC("");var $C="firebase",qC="11.9.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Fs($C,qC,"app");var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ni,iw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function I(){}I.prototype=T.prototype,C.D=T.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(P,O,F){for(var _=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)_[Ze-2]=arguments[Ze];return T.prototype[O].apply(P,_)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)P[O]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(O=0;16>O;++O)P[O]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=C.g[0],I=C.g[1],O=C.g[2];var F=C.g[3],_=T+(F^I&(O^F))+P[0]+3614090360&4294967295;T=I+(_<<7&4294967295|_>>>25),_=F+(O^T&(I^O))+P[1]+3905402710&4294967295,F=T+(_<<12&4294967295|_>>>20),_=O+(I^F&(T^I))+P[2]+606105819&4294967295,O=F+(_<<17&4294967295|_>>>15),_=I+(T^O&(F^T))+P[3]+3250441966&4294967295,I=O+(_<<22&4294967295|_>>>10),_=T+(F^I&(O^F))+P[4]+4118548399&4294967295,T=I+(_<<7&4294967295|_>>>25),_=F+(O^T&(I^O))+P[5]+1200080426&4294967295,F=T+(_<<12&4294967295|_>>>20),_=O+(I^F&(T^I))+P[6]+2821735955&4294967295,O=F+(_<<17&4294967295|_>>>15),_=I+(T^O&(F^T))+P[7]+4249261313&4294967295,I=O+(_<<22&4294967295|_>>>10),_=T+(F^I&(O^F))+P[8]+1770035416&4294967295,T=I+(_<<7&4294967295|_>>>25),_=F+(O^T&(I^O))+P[9]+2336552879&4294967295,F=T+(_<<12&4294967295|_>>>20),_=O+(I^F&(T^I))+P[10]+4294925233&4294967295,O=F+(_<<17&4294967295|_>>>15),_=I+(T^O&(F^T))+P[11]+2304563134&4294967295,I=O+(_<<22&4294967295|_>>>10),_=T+(F^I&(O^F))+P[12]+1804603682&4294967295,T=I+(_<<7&4294967295|_>>>25),_=F+(O^T&(I^O))+P[13]+4254626195&4294967295,F=T+(_<<12&4294967295|_>>>20),_=O+(I^F&(T^I))+P[14]+2792965006&4294967295,O=F+(_<<17&4294967295|_>>>15),_=I+(T^O&(F^T))+P[15]+1236535329&4294967295,I=O+(_<<22&4294967295|_>>>10),_=T+(O^F&(I^O))+P[1]+4129170786&4294967295,T=I+(_<<5&4294967295|_>>>27),_=F+(I^O&(T^I))+P[6]+3225465664&4294967295,F=T+(_<<9&4294967295|_>>>23),_=O+(T^I&(F^T))+P[11]+643717713&4294967295,O=F+(_<<14&4294967295|_>>>18),_=I+(F^T&(O^F))+P[0]+3921069994&4294967295,I=O+(_<<20&4294967295|_>>>12),_=T+(O^F&(I^O))+P[5]+3593408605&4294967295,T=I+(_<<5&4294967295|_>>>27),_=F+(I^O&(T^I))+P[10]+38016083&4294967295,F=T+(_<<9&4294967295|_>>>23),_=O+(T^I&(F^T))+P[15]+3634488961&4294967295,O=F+(_<<14&4294967295|_>>>18),_=I+(F^T&(O^F))+P[4]+3889429448&4294967295,I=O+(_<<20&4294967295|_>>>12),_=T+(O^F&(I^O))+P[9]+568446438&4294967295,T=I+(_<<5&4294967295|_>>>27),_=F+(I^O&(T^I))+P[14]+3275163606&4294967295,F=T+(_<<9&4294967295|_>>>23),_=O+(T^I&(F^T))+P[3]+4107603335&4294967295,O=F+(_<<14&4294967295|_>>>18),_=I+(F^T&(O^F))+P[8]+1163531501&4294967295,I=O+(_<<20&4294967295|_>>>12),_=T+(O^F&(I^O))+P[13]+2850285829&4294967295,T=I+(_<<5&4294967295|_>>>27),_=F+(I^O&(T^I))+P[2]+4243563512&4294967295,F=T+(_<<9&4294967295|_>>>23),_=O+(T^I&(F^T))+P[7]+1735328473&4294967295,O=F+(_<<14&4294967295|_>>>18),_=I+(F^T&(O^F))+P[12]+2368359562&4294967295,I=O+(_<<20&4294967295|_>>>12),_=T+(I^O^F)+P[5]+4294588738&4294967295,T=I+(_<<4&4294967295|_>>>28),_=F+(T^I^O)+P[8]+2272392833&4294967295,F=T+(_<<11&4294967295|_>>>21),_=O+(F^T^I)+P[11]+1839030562&4294967295,O=F+(_<<16&4294967295|_>>>16),_=I+(O^F^T)+P[14]+4259657740&4294967295,I=O+(_<<23&4294967295|_>>>9),_=T+(I^O^F)+P[1]+2763975236&4294967295,T=I+(_<<4&4294967295|_>>>28),_=F+(T^I^O)+P[4]+1272893353&4294967295,F=T+(_<<11&4294967295|_>>>21),_=O+(F^T^I)+P[7]+4139469664&4294967295,O=F+(_<<16&4294967295|_>>>16),_=I+(O^F^T)+P[10]+3200236656&4294967295,I=O+(_<<23&4294967295|_>>>9),_=T+(I^O^F)+P[13]+681279174&4294967295,T=I+(_<<4&4294967295|_>>>28),_=F+(T^I^O)+P[0]+3936430074&4294967295,F=T+(_<<11&4294967295|_>>>21),_=O+(F^T^I)+P[3]+3572445317&4294967295,O=F+(_<<16&4294967295|_>>>16),_=I+(O^F^T)+P[6]+76029189&4294967295,I=O+(_<<23&4294967295|_>>>9),_=T+(I^O^F)+P[9]+3654602809&4294967295,T=I+(_<<4&4294967295|_>>>28),_=F+(T^I^O)+P[12]+3873151461&4294967295,F=T+(_<<11&4294967295|_>>>21),_=O+(F^T^I)+P[15]+530742520&4294967295,O=F+(_<<16&4294967295|_>>>16),_=I+(O^F^T)+P[2]+3299628645&4294967295,I=O+(_<<23&4294967295|_>>>9),_=T+(O^(I|~F))+P[0]+4096336452&4294967295,T=I+(_<<6&4294967295|_>>>26),_=F+(I^(T|~O))+P[7]+1126891415&4294967295,F=T+(_<<10&4294967295|_>>>22),_=O+(T^(F|~I))+P[14]+2878612391&4294967295,O=F+(_<<15&4294967295|_>>>17),_=I+(F^(O|~T))+P[5]+4237533241&4294967295,I=O+(_<<21&4294967295|_>>>11),_=T+(O^(I|~F))+P[12]+1700485571&4294967295,T=I+(_<<6&4294967295|_>>>26),_=F+(I^(T|~O))+P[3]+2399980690&4294967295,F=T+(_<<10&4294967295|_>>>22),_=O+(T^(F|~I))+P[10]+4293915773&4294967295,O=F+(_<<15&4294967295|_>>>17),_=I+(F^(O|~T))+P[1]+2240044497&4294967295,I=O+(_<<21&4294967295|_>>>11),_=T+(O^(I|~F))+P[8]+1873313359&4294967295,T=I+(_<<6&4294967295|_>>>26),_=F+(I^(T|~O))+P[15]+4264355552&4294967295,F=T+(_<<10&4294967295|_>>>22),_=O+(T^(F|~I))+P[6]+2734768916&4294967295,O=F+(_<<15&4294967295|_>>>17),_=I+(F^(O|~T))+P[13]+1309151649&4294967295,I=O+(_<<21&4294967295|_>>>11),_=T+(O^(I|~F))+P[4]+4149444226&4294967295,T=I+(_<<6&4294967295|_>>>26),_=F+(I^(T|~O))+P[11]+3174756917&4294967295,F=T+(_<<10&4294967295|_>>>22),_=O+(T^(F|~I))+P[2]+718787259&4294967295,O=F+(_<<15&4294967295|_>>>17),_=I+(F^(O|~T))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(O+(_<<21&4294967295|_>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+F&4294967295}i.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var I=T-this.blockSize,P=this.B,O=this.h,F=0;F<T;){if(O==0)for(;F<=I;)s(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<T;)if(P[O++]=C.charCodeAt(F++),O==this.blockSize){s(this,P),O=0;break}}else for(;F<T;)if(P[O++]=C[F++],O==this.blockSize){s(this,P),O=0;break}}this.h=O,this.o+=T},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var I=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=I&255,I/=256;for(this.u(C),C=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)C[I++]=this.g[T]>>>P&255;return C};function l(C,T){var I=d;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=T(C)}function c(C,T){this.h=T;for(var I=[],P=!0,O=C.length-1;0<=O;O--){var F=C[O]|0;P&&F==T||(I[O]=F,P=!1)}this.g=I}var d={};function p(C){return-128<=C&&128>C?l(C,function(T){return new c([T|0],0>T?-1:0)}):new c([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return w;if(0>C)return L(y(-C));for(var T=[],I=1,P=0;C>=I;P++)T[P]=C/I|0,I*=4294967296;return new c(T,0)}function v(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return L(v(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(T,8)),P=w,O=0;O<C.length;O+=8){var F=Math.min(8,C.length-O),_=parseInt(C.substring(O,O+F),T);8>F?(F=y(Math.pow(T,F)),P=P.j(F).add(y(_))):(P=P.j(I),P=P.add(y(_)))}return P}var w=p(0),S=p(1),D=p(16777216);n=c.prototype,n.m=function(){if(M(this))return-L(this).m();for(var C=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);C+=(0<=P?P:4294967296+P)*T,T*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(M(this))return"-"+L(this).toString(C);for(var T=y(Math.pow(C,6)),I=this,P="";;){var O=J(I,T).g;I=H(I,O.j(T));var F=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=O,N(I))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function M(C){return C.h==-1}n.l=function(C){return C=H(this,C),M(C)?-1:N(C)?0:1};function L(C){for(var T=C.g.length,I=[],P=0;P<T;P++)I[P]=~C.g[P];return new c(I,~C.h).add(S)}n.abs=function(){return M(this)?L(this):this},n.add=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0,O=0;O<=T;O++){var F=P+(this.i(O)&65535)+(C.i(O)&65535),_=(F>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);P=_>>>16,F&=65535,_&=65535,I[O]=_<<16|F}return new c(I,I[I.length-1]&-2147483648?-1:0)};function H(C,T){return C.add(L(T))}n.j=function(C){if(N(this)||N(C))return w;if(M(this))return M(C)?L(this).j(L(C)):L(L(this).j(C));if(M(C))return L(this.j(L(C)));if(0>this.l(D)&&0>C.l(D))return y(this.m()*C.m());for(var T=this.g.length+C.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<C.g.length;O++){var F=this.i(P)>>>16,_=this.i(P)&65535,Ze=C.i(O)>>>16,Fe=C.i(O)&65535;I[2*P+2*O]+=_*Fe,W(I,2*P+2*O),I[2*P+2*O+1]+=F*Fe,W(I,2*P+2*O+1),I[2*P+2*O+1]+=_*Ze,W(I,2*P+2*O+1),I[2*P+2*O+2]+=F*Ze,W(I,2*P+2*O+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new c(I,0)};function W(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function Q(C,T){this.g=C,this.h=T}function J(C,T){if(N(T))throw Error("division by zero");if(N(C))return new Q(w,w);if(M(C))return T=J(L(C),T),new Q(L(T.g),L(T.h));if(M(T))return T=J(C,L(T)),new Q(L(T.g),T.h);if(30<C.g.length){if(M(C)||M(T))throw Error("slowDivide_ only works with positive integers.");for(var I=S,P=T;0>=P.l(C);)I=ee(I),P=ee(P);var O=re(I,1),F=re(P,1);for(P=re(P,2),I=re(I,2);!N(P);){var _=F.add(P);0>=_.l(C)&&(O=O.add(I),F=_),P=re(P,1),I=re(I,1)}return T=H(C,O.j(T)),new Q(O,T)}for(O=w;0<=C.l(T);){for(I=Math.max(1,Math.floor(C.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=y(I),_=F.j(T);M(_)||0<_.l(C);)I-=P,F=y(I),_=F.j(T);N(F)&&(F=S),O=O.add(F),C=H(C,_)}return new Q(O,C)}n.A=function(C){return J(this,C).h},n.and=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&C.i(P);return new c(I,this.h&C.h)},n.or=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|C.i(P);return new c(I,this.h|C.h)},n.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^C.i(P);return new c(I,this.h^C.h)};function ee(C){for(var T=C.g.length+1,I=[],P=0;P<T;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new c(I,C.h)}function re(C,T){var I=T>>5;T%=32;for(var P=C.g.length-I,O=[],F=0;F<P;F++)O[F]=0<T?C.i(F+I)>>>T|C.i(F+I+1)<<32-T:C.i(F+I);return new c(O,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,iw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,Ni=c}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ow,al,sw,Dc,Zf,aw,lw,uw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,b){return u==Array.prototype||u==Object.prototype||(u[m]=b.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function s(u,m){if(m)e:{var b=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var j=u[E];if(!(j in b))break e;b=b[j]}u=u[u.length-1],E=b[u],m=m(E),m!=E&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var b=0,E=!1,j={next:function(){if(!E&&b<u.length){var q=b++;return{value:m(q,u[q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(u){return u||function(){return l(this,function(m,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,b){return u.call.apply(u.bind,arguments)}function w(u,m,b){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,E),u.apply(m,j)}}return function(){return u.apply(m,arguments)}}function S(u,m,b){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,S.apply(null,arguments)}function D(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var E=b.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function N(u,m){function b(){}b.prototype=m.prototype,u.aa=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(E,j,q){for(var ae=Array(arguments.length-2),et=2;et<arguments.length;et++)ae[et-2]=arguments[et];return m.prototype[j].apply(E,ae)}}function M(u){const m=u.length;if(0<m){const b=Array(m);for(let E=0;E<m;E++)b[E]=u[E];return b}return[]}function L(u,m){for(let b=1;b<arguments.length;b++){const E=arguments[b];if(p(E)){const j=u.length||0,q=E.length||0;u.length=j+q;for(let ae=0;ae<q;ae++)u[j+ae]=E[ae]}else u.push(E)}}class H{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){return/^[\s\xa0]*$/.test(u)}function Q(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function J(u){return J[" "](u),u}J[" "]=function(){};var ee=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function re(u,m,b){for(const E in u)m.call(b,u[E],E,u)}function C(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function T(u){const m={};for(const b in u)m[b]=u[b];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let b,E;for(let j=1;j<arguments.length;j++){E=arguments[j];for(b in E)u[b]=E[b];for(let q=0;q<I.length;q++)b=I[q],Object.prototype.hasOwnProperty.call(E,b)&&(u[b]=E[b])}}function O(u){var m=1;u=u.split(":");const b=[];for(;0<m&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function F(u){d.setTimeout(()=>{throw u},0)}function _(){var u=he;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ze{constructor(){this.h=this.g=null}add(m,b){const E=Fe.get();E.set(m,b),this.h?this.h.next=E:this.g=E,this.h=E}}var Fe=new H(()=>new Ke,u=>u.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let je,se=!1,he=new Ze,le=()=>{const u=d.Promise.resolve(void 0);je=()=>{u.then(V)}};var V=()=>{for(var u;u=_();){try{u.h.call(u.g)}catch(b){F(b)}var m=Fe;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}se=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u}();function _e(u,m){if(ye.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ee){e:{try{J(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ne[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&_e.aa.h.call(this)}}N(_e,ye);var Ne={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Be(u,m,b,E,j){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!E,this.ha=j,this.key=++Le,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Nt(u){this.src=u,this.g={},this.h=0}Nt.prototype.add=function(u,m,b,E,j){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var ae=te(u,m,E,j);return-1<ae?(m=u[ae],b||(m.fa=!1)):(m=new Be(m,this.src,q,!!E,j),m.fa=b,u.push(m)),m};function Bt(u,m){var b=m.type;if(b in u.g){var E=u.g[b],j=Array.prototype.indexOf.call(E,m,void 0),q;(q=0<=j)&&Array.prototype.splice.call(E,j,1),q&&(lt(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function te(u,m,b,E){for(var j=0;j<u.length;++j){var q=u[j];if(!q.da&&q.listener==m&&q.capture==!!b&&q.ha==E)return j}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),be={};function Pe(u,m,b,E,j){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Pe(u,m[q],b,E,j);return null}return b=fa(b),u&&u[Oe]?u.K(m,b,y(E)?!!E.capture:!1,j):Xe(u,m,b,!1,E,j)}function Xe(u,m,b,E,j,q){if(!m)throw Error("Invalid event type");var ae=y(j)?!!j.capture:!!j,et=Vo(u);if(et||(u[pe]=et=new Nt(u)),b=et.add(m,b,E,ae,q),b.proxy)return b;if(E=zt(),b.proxy=E,E.src=u,E.listener=b,u.addEventListener)Ie||(j=ae),j===void 0&&(j=!1),u.addEventListener(m.toString(),E,j);else if(u.attachEvent)u.attachEvent(Ar(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return b}function zt(){function u(b){return m.call(u.src,u.listener,b)}const m=da;return u}function Gn(u,m,b,E,j){if(Array.isArray(m))for(var q=0;q<m.length;q++)Gn(u,m[q],b,E,j);else E=y(E)?!!E.capture:!!E,b=fa(b),u&&u[Oe]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],b=te(q,b,E,j),-1<b&&(lt(q[b]),Array.prototype.splice.call(q,b,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Vo(u))&&(m=u.g[m.toString()],u=-1,m&&(u=te(m,b,E,j)),(b=-1<u?m[u]:null)&&Wn(b))}function Wn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Oe])Bt(m.i,u);else{var b=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(b,E,u.capture):m.detachEvent?m.detachEvent(Ar(b),E):m.addListener&&m.removeListener&&m.removeListener(E),(b=Vo(m))?(Bt(b,u),b.h==0&&(b.src=null,m[pe]=null)):lt(u)}}}function Ar(u){return u in be?be[u]:be[u]="on"+u}function da(u,m){if(u.da)u=!0;else{m=new _e(m,this);var b=u.listener,E=u.ha||u.src;u.fa&&Wn(u),u=b.call(E,m)}return u}function Vo(u){return u=u[pe],u instanceof Nt?u:null}var Fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function fa(u){return typeof u=="function"?u:(u[Fo]||(u[Fo]=function(m){return u.handleEvent(m)}),u[Fo])}function kt(){G.call(this),this.i=new Nt(this),this.M=this,this.F=null}N(kt,G),kt.prototype[Oe]=!0,kt.prototype.removeEventListener=function(u,m,b,E){Gn(this,u,m,b,E)};function Ct(u,m){var b,E=u.F;if(E)for(b=[];E;E=E.F)b.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new ye(m,u);else if(m instanceof ye)m.target=m.target||u;else{var j=m;m=new ye(E,u),P(m,j)}if(j=!0,b)for(var q=b.length-1;0<=q;q--){var ae=m.g=b[q];j=Nr(ae,E,!0,m)&&j}if(ae=m.g=u,j=Nr(ae,E,!0,m)&&j,j=Nr(ae,E,!1,m)&&j,b)for(q=0;q<b.length;q++)ae=m.g=b[q],j=Nr(ae,E,!1,m)&&j}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var b=u.g[m],E=0;E<b.length;E++)lt(b[E]);delete u.g[m],u.h--}}this.F=null},kt.prototype.K=function(u,m,b,E){return this.i.add(String(u),m,!1,b,E)},kt.prototype.L=function(u,m,b,E){return this.i.add(String(u),m,!0,b,E)};function Nr(u,m,b,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,q=0;q<m.length;++q){var ae=m[q];if(ae&&!ae.da&&ae.capture==b){var et=ae.listener,It=ae.ha||ae.src;ae.fa&&Bt(u.i,ae),j=et.call(It,E)!==!1&&j}}return j&&!E.defaultPrevented}function pa(u,m,b){if(typeof u=="function")b&&(u=S(u,b));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function ti(u){u.g=pa(()=>{u.g=null,u.i&&(u.i=!1,ti(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Hi extends G{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ti(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(u){G.call(this),this.h=u,this.g={}}N(Gi,G);var ma=[];function ga(u){re(u.g,function(m,b){this.g.hasOwnProperty(b)&&Wn(m)},u),u.g={}}Gi.prototype.N=function(){Gi.aa.N.call(this),ga(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ya=d.JSON.stringify,va=d.JSON.parse,ba=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wi(){}Wi.prototype.h=null;function jo(u){return u.h||(u.h=u.i())}function Bo(){}var An={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fr(){ye.call(this,"d")}N(fr,ye);function zo(){ye.call(this,"c")}N(zo,ye);var pr={},wa=null;function Ki(){return wa=wa||new kt}pr.La="serverreachability";function xa(u){ye.call(this,pr.La,u)}N(xa,ye);function Rr(u){const m=Ki();Ct(m,new xa(m))}pr.STAT_EVENT="statevent";function Ea(u,m){ye.call(this,pr.STAT_EVENT,u),this.stat=m}N(Ea,ye);function yt(u){const m=Ki();Ct(m,new Ea(m,u))}pr.Ma="timingevent";function Uo(u,m){ye.call(this,pr.Ma,u),this.size=m}N(Uo,ye);function Kn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Qi(){this.g=!0}Qi.prototype.xa=function(){this.g=!1};function Yi(u,m,b,E,j,q){u.info(function(){if(u.g)if(q)for(var ae="",et=q.split("&"),It=0;It<et.length;It++){var We=et[It].split("=");if(1<We.length){var Rt=We[0];We=We[1];var Ot=Rt.split("_");ae=2<=Ot.length&&Ot[1]=="type"?ae+(Rt+"="+We+"&"):ae+(Rt+"=redacted&")}}else ae=null;else ae=q;return"XMLHTTP REQ ("+E+") [attempt "+j+"]: "+m+`
`+b+`
`+ae})}function $o(u,m,b,E,j,q,ae){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+j+"]: "+m+`
`+b+`
`+q+" "+ae})}function Qn(u,m,b,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,b)+(E?" "+E:"")})}function Sa(u,m){u.info(function(){return"TIMEOUT: "+m})}Qi.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{var b=JSON.parse(m);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var E=b[u];if(!(2>E.length)){var j=E[1];if(Array.isArray(j)&&!(1>j.length)){var q=j[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ae=1;ae<j.length;ae++)j[ae]=""}}}}return ya(b)}catch{return m}}var qo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ql={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yn;function Xi(){}N(Xi,Wi),Xi.prototype.g=function(){return new XMLHttpRequest},Xi.prototype.i=function(){return{}},Yn=new Xi;function Xn(u,m,b,E){this.j=u,this.i=m,this.l=b,this.R=E||1,this.U=new Gi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yl}function Yl(){this.i=null,this.g="",this.h=!1}var Ta={},Ho={};function Go(u,m,b){u.L=1,u.v=si(xn(m)),u.m=b,u.P=!0,ka(u,null)}function ka(u,m){u.F=Date.now(),tt(u),u.A=xn(u.v);var b=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),li(b.i,"t",E),u.C=0,b=u.j.J,u.h=new Yl,u.g=pu(u.j,b?m:null,!u.m),0<u.O&&(u.M=new Hi(S(u.Y,u,u.g),u.O)),m=u.U,b=u.g,E=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(ma[0]=j.toString()),j=ma);for(var q=0;q<j.length;q++){var ae=Pe(b,j[q],E||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Rr(),Yi(u.i,u.u,u.A,u.l,u.R,u.m)}Xn.prototype.ca=function(u){u=u.target;const m=this.M;m&&hn(u)==3?m.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const Ot=hn(this.g);var m=this.g.Ba();const On=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Aa(this.g)))){this.J||Ot!=4||m==7||(m==8||0>=On?Rr(3):Rr(2)),Zi(this);var b=this.g.Z();this.X=b;t:if(Xl(this)){var E=Aa(this.g);u="";var j=E.length,q=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),ni(this);var ae="";break t}this.h.i=new d.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(q&&m==j-1)});E.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=b==200,$o(this.i,this.u,this.A,this.l,this.R,Ot,b),this.o){if(this.T&&!this.K){t:{if(this.g){var et,It=this.g;if((et=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(et)){var We=et;break t}}We=null}if(b=We)Qn(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ca(this,b);else{this.o=!1,this.s=3,yt(12),Nn(this),ni(this);break e}}if(this.P){b=!0;let Sn;for(;!this.J&&this.C<ae.length;)if(Sn=Fh(this,ae),Sn==Ho){Ot==4&&(this.s=4,yt(14),b=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==Ta){this.s=4,yt(15),Qn(this.i,this.l,ae,"[Invalid Chunk]"),b=!1;break}else Qn(this.i,this.l,Sn,null),Ca(this,Sn);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||ae.length!=0||this.h.h||(this.s=1,yt(16),b=!1),this.o=this.o&&b,!b)Qn(this.i,this.l,ae,"[Invalid Chunked Response]"),Nn(this),ni(this);else if(0<ae.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ra(Rt),Rt.M=!0,yt(11))}}else Qn(this.i,this.l,ae,null),Ca(this,ae);Ot==4&&Nn(this),this.o&&!this.J&&(Ot==4?rs(this.j,this):(this.o=!1,tt(this)))}else Zo(this.g),b==400&&0<ae.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Nn(this),ni(this)}}}catch{}finally{}};function Xl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Fh(u,m){var b=u.C,E=m.indexOf(`
`,b);return E==-1?Ho:(b=Number(m.substring(b,E)),isNaN(b)?Ta:(E+=1,E+b>m.length?Ho:(m=m.slice(E,E+b),u.C=E+b,m)))}Xn.prototype.cancel=function(){this.J=!0,Nn(this)};function tt(u){u.S=Date.now()+u.I,Zl(u,u.I)}function Zl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Kn(S(u.ba,u),m)}function Zi(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Xn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Sa(this.i,this.A),this.L!=2&&(Rr(),yt(17)),Nn(this),this.s=2,ni(this)):Zl(this,this.S-u)};function ni(u){u.j.G==0||u.J||rs(u.j,u)}function Nn(u){Zi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ga(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ca(u,m){try{var b=u.j;if(b.G!=0&&(b.g==u||sn(b.h,u))){if(!u.K&&sn(b.h,u)&&b.G==3){try{var E=b.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var j=E;if(j[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)ns(b),nr(b);else break e;ts(b),yt(18)}}else b.za=j[1],0<b.za-b.T&&37500>j[2]&&b.F&&b.v==0&&!b.C&&(b.C=Kn(S(b.Za,b),6e3));if(1>=eu(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Fr(b,11)}else if((u.K||b.g==u)&&ns(b),!W(m))for(j=b.Da.g.parse(m),m=0;m<j.length;m++){let We=j[m];if(b.T=We[0],We=We[1],b.G==2)if(We[0]=="c"){b.K=We[1],b.ia=We[2];const Rt=We[3];Rt!=null&&(b.la=Rt,b.j.info("VER="+b.la));const Ot=We[4];Ot!=null&&(b.Aa=Ot,b.j.info("SVER="+b.Aa));const On=We[5];On!=null&&typeof On=="number"&&0<On&&(E=1.5*On,b.L=E,b.j.info("backChannelRequestTimeoutMs_="+E)),E=b;const Sn=u.g;if(Sn){const oo=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oo){var q=E.h;q.g||oo.indexOf("spdy")==-1&&oo.indexOf("quic")==-1&&oo.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ia(q,q.h),q.h=null))}if(E.D){const os=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;os&&(E.ya=os,Je(E.I,E.D,os))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),E=b;var ae=u;if(E.qa=fu(E,E.J?E.ia:null,E.W),ae.K){tu(E.h,ae);var et=ae,It=E.L;It&&(et.I=It),et.B&&(Zi(et),tt(et)),E.g=ae}else io(E);0<b.i.length&&vr(b)}else We[0]!="stop"&&We[0]!="close"||Fr(b,7);else b.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Fr(b,7):$t(b):We[0]!="noop"&&b.l&&b.l.ta(We),b.v=0)}}Rr(4)}catch{}}var Jl=class{constructor(u,m){this.g=u,this.map=m}};function Ji(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function eu(u){return u.h?1:u.g?u.g.size:0}function sn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ia(u,m){u.g?u.g.add(m):u.h=m}function tu(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ji.prototype.cancel=function(){if(this.i=nu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.D);return m}return M(u.i)}function Wo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],b=u.length,E=0;E<b;E++)m.push(u[E]);return m}m=[],b=0;for(E in u)m[b++]=u[E];return m}function Ko(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var b=0;b<u;b++)m.push(b);return m}m=[],b=0;for(const E in u)m[b++]=E;return m}}}function ri(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var b=Ko(u),E=Wo(u),j=E.length,q=0;q<j;q++)m.call(void 0,E[q],b&&b[q],u)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jh(u,m){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var E=u[b].indexOf("="),j=null;if(0<=E){var q=u[b].substring(0,E);j=u[b].substring(E+1)}else q=u[b];m(q,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Or(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Or){this.h=u.h,to(this,u.j),this.o=u.o,this.g=u.g,ii(this,u.s),this.l=u.l;var m=u.i,b=new mr;b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),oi(this,b),this.m=u.m}else u&&(m=String(u).match(eo))?(this.h=!1,to(this,m[1]||"",!0),this.o=Ue(m[2]||""),this.g=Ue(m[3]||"",!0),ii(this,m[4]),this.l=Ue(m[5]||"",!0),oi(this,m[6]||"",!0),this.m=Ue(m[7]||"")):(this.h=!1,this.i=new mr(null,this.h))}Or.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ai(m,Qo,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ai(m,Qo,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(ai(b,b.charAt(0)=="/"?ou:iu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",ai(b,_a)),u.join("")};function xn(u){return new Or(u)}function to(u,m,b){u.j=b?Ue(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ii(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function oi(u,m,b){m instanceof mr?(u.i=m,gr(u.i,u.h)):(b||(m=ai(m,su)),u.i=new mr(m,u.h))}function Je(u,m,b){u.i.set(m,b)}function si(u){return Je(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ue(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ai(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,ru),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ru(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Qo=/[#\/\?@]/g,iu=/[#\?:]/g,ou=/[#\?]/g,su=/[#\?@]/g,_a=/#/g;function mr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ut(u){u.g||(u.g=new Map,u.h=0,u.i&&jh(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}n=mr.prototype,n.add=function(u,m){Ut(this),this.i=null,u=Rn(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function Zn(u,m){Ut(u),m=Rn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Jn(u,m){return Ut(u),m=Rn(u,m),u.g.has(m)}n.forEach=function(u,m){Ut(this),this.g.forEach(function(b,E){b.forEach(function(j){u.call(m,j,E,this)},this)},this)},n.na=function(){Ut(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),b=[];for(let E=0;E<m.length;E++){const j=u[E];for(let q=0;q<j.length;q++)b.push(m[E])}return b},n.V=function(u){Ut(this);let m=[];if(typeof u=="string")Jn(this,u)&&(m=m.concat(this.g.get(Rn(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)m=m.concat(u[b])}return m},n.set=function(u,m){return Ut(this),this.i=null,u=Rn(this,u),Jn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function li(u,m,b){Zn(u,m),0<b.length&&(u.i=null,u.g.set(Rn(u,m),M(b)),u.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var b=0;b<m.length;b++){var E=m[b];const q=encodeURIComponent(String(E)),ae=this.V(E);for(E=0;E<ae.length;E++){var j=q;ae[E]!==""&&(j+="="+encodeURIComponent(String(ae[E]))),u.push(j)}}return this.i=u.join("&")};function Rn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function gr(u,m){m&&!u.j&&(Ut(u),u.i=null,u.g.forEach(function(b,E){var j=E.toLowerCase();E!=j&&(Zn(this,E),li(this,j,b))},u)),u.j=m}function Bh(u,m){const b=new Qi;if(d.Image){const E=new Image;E.onload=D(cn,b,"TestLoadImage: loaded",!0,m,E),E.onerror=D(cn,b,"TestLoadImage: error",!1,m,E),E.onabort=D(cn,b,"TestLoadImage: abort",!1,m,E),E.ontimeout=D(cn,b,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function au(u,m){const b=new Qi,E=new AbortController,j=setTimeout(()=>{E.abort(),cn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(q=>{clearTimeout(j),q.ok?cn(b,"TestPingServer: ok",!0,m):cn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),cn(b,"TestPingServer: error",!1,m)})}function cn(u,m,b,E,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),E(b)}catch{}}function zh(){this.g=new ba}function lu(u,m,b){const E=b||"";try{ri(u,function(j,q){let ae=j;y(j)&&(ae=ya(j)),m.push(E+q+"="+encodeURIComponent(ae))})}catch(j){throw m.push(E+"type="+encodeURIComponent("_badmap")),j}}function Lr(u){this.l=u.Ub||null,this.j=u.eb||!1}N(Lr,Wi),Lr.prototype.g=function(){return new no(this.l,this.j)},Lr.prototype.i=function(u){return function(){return u}}({});function no(u,m){kt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(no,kt),n=no.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,tr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function uu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?er(this):tr(this),this.readyState==3&&uu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,er(this))},n.Qa=function(u){this.g&&(this.response=u,er(this))},n.ga=function(){this.g&&er(this)};function er(u){u.readyState=4,u.l=null,u.j=null,u.v=null,tr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function tr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(no.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mr(u){let m="";return re(u,function(b,E){m+=E,m+=":",m+=b,m+=`\r
`}),m}function ui(u,m,b){e:{for(E in b){var E=!1;break e}E=!0}E||(b=Mr(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):Je(u,m,b))}function ut(u){kt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(ut,kt);var Uh=/^https?$/i,Da=["POST","PUT"];n=ut.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,b,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yn.g(),this.v=this.o?jo(this.o):jo(Yn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){ro(this,q);return}if(u=b||"",b=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var j in E)b.set(j,E[j]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())b.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Da,m,void 0))||E||j||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ae]of b)this.g.setRequestHeader(q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xo(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){ro(this,q)}};function ro(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Yo(u),En(u)}function Yo(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ct(this,"complete"),Ct(this,"abort"),En(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),ut.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},n.bb=function(){Pa(this)};function Pa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||hn(u)!=4||u.Z()!=2)){if(u.u&&hn(u)==4)pa(u.Ea,0,u);else if(Ct(u,"readystatechange"),hn(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var E;if(E=ae===0){var j=String(u.D).match(eo)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),E=!Uh.test(j?j.toLowerCase():"")}b=E}if(b)Ct(u,"complete"),Ct(u,"success");else{u.m=6;try{var q=2<hn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Yo(u)}}finally{En(u)}}}}function En(u,m){if(u.g){Xo(u);const b=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ct(u,"ready");try{b.onreadystatechange=E}catch{}}}function Xo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function hn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),va(m)}};function Aa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zo(u){const m={};u=(u.g&&2<=hn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(W(u[E]))continue;var b=O(u[E]);const j=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=m[j]||[];m[j]=q,q.push(b)}C(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yr(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Na(u){this.Aa=0,this.i=[],this.j=new Qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yr("baseRetryDelayMs",5e3,u),this.cb=yr("retryDelaySeedMs",1e4,u),this.Wa=yr("forwardChannelMaxRetries",2,u),this.wa=yr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ji(u&&u.concurrentRequestLimit),this.Da=new zh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Na.prototype,n.la=8,n.G=1,n.connect=function(u,m,b,E){yt(0),this.W=u,this.H=m||{},b&&E!==void 0&&(this.H.OSID=b,this.H.OAID=E),this.F=this.X,this.I=fu(this,null,this.W),vr(this)};function $t(u){if(Jo(u),u.G==3){var m=u.U++,b=xn(u.I);if(Je(b,"SID",u.K),Je(b,"RID",m),Je(b,"TYPE","terminate"),Vr(u,b),m=new Xn(u,u.j,m),m.L=2,m.v=si(xn(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.v,b=!0),b||(m.g=pu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),tt(m)}du(u)}function nr(u){u.g&&(Ra(u),u.g.cancel(),u.g=null)}function Jo(u){nr(u),u.u&&(d.clearTimeout(u.u),u.u=null),ns(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function vr(u){if(!wn(u.h)&&!u.s){u.s=!0;var m=u.Ga;je||le(),se||(je(),se=!0),he.add(m,u),u.B=0}}function $h(u,m){return eu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Kn(S(u.Ga,u,m),hu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Xn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=T(q),P(q,this.S)):q=this.S),this.m!==null||this.O||(j.H=q,q=null),this.P)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var E=this.i[b];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=ci(this,j,m),b=xn(this.I),Je(b,"RID",u),Je(b,"CVER",22),this.D&&Je(b,"X-HTTP-Session-Id",this.D),Vr(this,b),q&&(this.O?m="headers="+encodeURIComponent(String(Mr(q)))+"&"+m:this.m&&ui(b,this.m,q)),Ia(this.h,j),this.Ua&&Je(b,"TYPE","init"),this.P?(Je(b,"$req",m),Je(b,"SID","null"),j.T=!0,Go(j,b,null)):Go(j,b,m),this.G=2}}else this.G==3&&(u?es(this,u):this.i.length==0||wn(this.h)||es(this))};function es(u,m){var b;m?b=m.l:b=u.U++;const E=xn(u.I);Je(E,"SID",u.K),Je(E,"RID",b),Je(E,"AID",u.T),Vr(u,E),u.m&&u.o&&ui(E,u.m,u.o),b=new Xn(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ci(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ia(u.h,b),Go(b,E,m)}function Vr(u,m){u.H&&re(u.H,function(b,E){Je(m,E,b)}),u.l&&ri({},function(b,E){Je(m,E,b)})}function ci(u,m,b){b=Math.min(u.i.length,b);var E=u.l?S(u.l.Na,u.l,u):null;e:{var j=u.i;let q=-1;for(;;){const ae=["count="+b];q==-1?0<b?(q=j[0].g,ae.push("ofs="+q)):q=0:ae.push("ofs="+q);let et=!0;for(let It=0;It<b;It++){let We=j[It].g;const Rt=j[It].map;if(We-=q,0>We)q=Math.max(0,j[It].g-100),et=!1;else try{lu(Rt,ae,"req"+We+"_")}catch{E&&E(Rt)}}if(et){E=ae.join("&");break e}}}return u=u.i.splice(0,b),m.D=u,E}function io(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;je||le(),se||(je(),se=!0),he.add(m,u),u.v=0}}function ts(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Kn(S(u.Fa,u),hu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Kn(S(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),nr(this),cu(this))};function Ra(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function cu(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=xn(u.qa);Je(m,"RID","rpc"),Je(m,"SID",u.K),Je(m,"AID",u.T),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Je(m,"TO",u.ja),Je(m,"TYPE","xmlhttp"),Vr(u,m),u.m&&u.o&&ui(m,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=si(xn(m)),b.m=null,b.P=!0,ka(b,u)}n.Za=function(){this.C!=null&&(this.C=null,nr(this),ts(this),yt(19))};function ns(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function rs(u,m){var b=null;if(u.g==m){ns(u),Ra(u),u.g=null;var E=2}else if(sn(u.h,m))b=m.D,tu(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){b=m.m?m.m.length:0,m=Date.now()-m.F;var j=u.B;E=Ki(),Ct(E,new Uo(E,b)),vr(u)}else io(u);else if(j=m.s,j==3||j==0&&0<m.X||!(E==1&&$h(u,m)||E==2&&ts(u)))switch(b&&0<b.length&&(m=u.h,m.i=m.i.concat(b)),j){case 1:Fr(u,5);break;case 4:Fr(u,10);break;case 3:Fr(u,6);break;default:Fr(u,2)}}}function hu(u,m){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*m}function Fr(u,m){if(u.j.info("Error code "+m),m==2){var b=S(u.fb,u),E=u.Xa;const j=!E;E=new Or(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||to(E,"https"),si(E),j?Bh(E.toString(),b):au(E.toString(),b)}else yt(2);u.G=0,u.l&&u.l.sa(m),du(u),Jo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function du(u){if(u.G=0,u.ka=[],u.l){const m=nu(u.h);(m.length!=0||u.i.length!=0)&&(L(u.ka,m),L(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function fu(u,m,b){var E=b instanceof Or?xn(b):new Or(b);if(E.g!="")m&&(E.g=m+"."+E.g),ii(E,E.s);else{var j=d.location;E=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var q=new Or(null);E&&to(q,E),m&&(q.g=m),j&&ii(q,j),b&&(q.l=b),E=q}return b=u.D,m=u.ya,b&&m&&Je(E,b,m),Je(E,"VER",u.la),Vr(u,E),E}function pu(u,m,b){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ut(new Lr({eb:b})):new ut(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oa(){}n=Oa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function is(){}is.prototype.g=function(u,m){return new an(u,m)};function an(u,m){kt.call(this),this.g=new Na(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!W(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!W(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new br(this)}N(an,kt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){$t(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=ya(u),u=b);m.i.push(new Jl(m.Ya++,u)),m.G==3&&vr(m)},an.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,an.aa.N.call(this)};function mu(u){fr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}N(mu,fr);function gu(){zo.call(this),this.status=1}N(gu,zo);function br(u){this.g=u}N(br,Oa),br.prototype.ua=function(){Ct(this.g,"a")},br.prototype.ta=function(u){Ct(this.g,new mu(u))},br.prototype.sa=function(u){Ct(this.g,new gu)},br.prototype.ra=function(){Ct(this.g,"b")},is.prototype.createWebChannel=is.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,uw=function(){return new is},lw=function(){return Ki()},aw=pr,Zf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qo.NO_ERROR=0,qo.TIMEOUT=8,qo.HTTP_ERROR=6,Dc=qo,Ql.COMPLETE="complete",sw=Ql,Bo.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",kt.prototype.listen=kt.prototype.K,al=Bo,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,ow=ut}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const Xv="@firebase/firestore",Zv="4.7.17";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let oa="11.9.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Po=new Zb("@firebase/firestore");function _s(){return Po.logLevel}function ce(n,...e){if(Po.logLevel<=qe.DEBUG){const t=e.map(jp);Po.debug(`Firestore (${oa}): ${n}`,...t)}}function Zr(n,...e){if(Po.logLevel<=qe.ERROR){const t=e.map(jp);Po.error(`Firestore (${oa}): ${n}`,...t)}}function Ws(n,...e){if(Po.logLevel<=qe.WARN){const t=e.map(jp);Po.warn(`Firestore (${oa}): ${n}`,...t)}}function jp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ke(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,cw(n,i,t)}function cw(n,e,t){let i=`FIRESTORE (${oa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Zr(i),new Error(i)}function Ye(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||cw(e,s,i)}function Ae(n,e){return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ia{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}}class GC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WC{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let i=this.i;const s=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ri,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},d=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ri)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string",31837,{l:i}),new hw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class KC{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QC{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new KC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_C(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);const i=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Jv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function XC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dw(){return new TextEncoder}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=XC(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function Me(n,e){return n<e?-1:n>e?1:0}function Jf(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return Me(i,s);{const l=dw(),c=ZC(l.encode(e0(n,t)),l.encode(e0(e,t)));return c!==0?c:Me(i,s)}}t+=i>65535?2:1}return Me(n.length,e.length)}function e0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function ZC(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Me(n[t],e[t]);return Me(n.length,e.length)}function Ks(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const t0=-62135596800,n0=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*n0);return new Pt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<t0)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-t0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Pt(0,0))}static max(){return new De(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const r0="__name__";class Tr{constructor(e,t,i){t===void 0?t=0:t>e.length&&ke(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ke(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=Tr.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Me(e.length,t.length)}static compareSegments(e,t){const i=Tr.isNumericId(e),s=Tr.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Tr.extractNumericId(e).compare(Tr.extractNumericId(t)):Jf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ni.fromString(e.substring(4,e.length-2))}}class st extends Tr{construct(e,t,i){return new st(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new st(t)}static emptyPath(){return new st([])}}const JC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Tr{construct(e,t,i){return new Kt(e,t,i)}static isValidIdentifier(e){return JC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r0}static keyField(){return new Kt([r0])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new fe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new fe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(l(),s++)}if(l(),c)throw new fe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class we{constructor(e){this.path=e}static fromPath(e){return new we(st.fromString(e))}static fromName(e){return new we(st.fromString(e).popFirst(5))}static empty(){return new we(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new st(e.slice()))}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Il=-1;function e4(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=De.fromTimestamp(i===1e9?new Pt(t+1,0):new Pt(t,i));return new Li(s,we.empty(),e)}function t4(n){return new Li(n.readTime,n.key,Il)}class Li{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Li(De.min(),we.empty(),Il)}static max(){return new Li(De.max(),we.empty(),Il)}}function n4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const r4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function sa(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==r4)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,i)=>{t(e)})}static reject(e){return new K((t,i)=>{i(e)})}static waitFor(e){return new K((t,i)=>{let s=0,l=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++l,c&&l===s&&t()},p=>i(p))}),c=!0,l===s&&t()})}static or(e){let t=K.resolve(!1);for(const i of e)t=t.next(s=>s?K.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new K((i,s)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(v=>{c[y]=v,++d,d===l&&i(c)},v=>s(v))}})}static doWhile(e,t){return new K((i,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):i()};l()})}}function o4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function aa(n){return n.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}vh.le=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bp=-1;function bh(n){return n==null}function Gc(n){return n===0&&1/n==-1/0}function s4(n){return typeof n=="number"&&Number.isInteger(n)&&!Gc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pw="";function a4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=i0(e)),e=l4(n.get(t),e);return i0(e)}function l4(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case pw:t+="";break;default:t+=l}}return t}function i0(n){return n+pw+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function o0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function No(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pt{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}}class pc{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??Wt.RED,this.left=s??Wt.EMPTY,this.right=l??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new Wt(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Wt.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(n,e,t,i,s){return this}insert(n,e,t){return new Wt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class At{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new s0(this.data.getIterator())}getIteratorFrom(e){return new s0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new At(this.comparator);return t.data=e,t}}class s0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cr{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new cr([])}unionWith(e){let t=new At(Kt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new cr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ks(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gw("Invalid base64 string: "+s):s}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const u4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(n){if(Ye(!!n,39018),typeof n=="string"){let e=0;const t=u4.exec(n);if(Ye(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vi(n){return typeof n=="string"?Qt.fromBase64String(n):Qt.fromUint8Array(n)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yw="server_timestamp",vw="__type__",bw="__previous_value__",ww="__local_write_time__";function zp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[vw])===null||t===void 0?void 0:t.stringValue)===yw}function wh(n){const e=n.mapValue.fields[bw];return zp(e)?wh(e):e}function _l(n){const e=Mi(n.mapValue.fields[ww].timestampValue);return new Pt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class c4{constructor(e,t,i,s,l,c,d,p,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=v}}const Wc="(default)";class Dl{constructor(e,t){this.projectId=e,this.database=t||Wc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xw="__type__",h4="__max__",mc={mapValue:{}},Ew="__vector__",Kc="value";function Fi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zp(n)?4:f4(n)?9007199254740991:d4(n)?10:11:ke(28295,{value:n})}function Pr(n,e){if(n===e)return!0;const t=Fi(n);if(t!==Fi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _l(n).isEqual(_l(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Mi(i.timestampValue),c=Mi(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Vi(i.bytesValue).isEqual(Vi(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return wt(i.geoPointValue.latitude)===wt(s.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return wt(i.integerValue)===wt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=wt(i.doubleValue),c=wt(s.doubleValue);return l===c?Gc(l)===Gc(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Ks(n.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(o0(l)!==o0(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Pr(l[d],c[d])))return!1;return!0}(n,e);default:return ke(52216,{left:n})}}function Pl(n,e){return(n.values||[]).find(t=>Pr(t,e))!==void 0}function Qs(n,e){if(n===e)return 0;const t=Fi(n),i=Fi(e);if(t!==i)return Me(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return function(s,l){const c=wt(s.integerValue||s.doubleValue),d=wt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return a0(n.timestampValue,e.timestampValue);case 4:return a0(_l(n),_l(e));case 5:return Jf(n.stringValue,e.stringValue);case 6:return function(s,l){const c=Vi(s),d=Vi(l);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const c=s.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const y=Me(c[p],d[p]);if(y!==0)return y}return Me(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const c=Me(wt(s.latitude),wt(l.latitude));return c!==0?c:Me(wt(s.longitude),wt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return l0(n.arrayValue,e.arrayValue);case 10:return function(s,l){var c,d,p,y;const v=s.fields||{},w=l.fields||{},S=(c=v[Kc])===null||c===void 0?void 0:c.arrayValue,D=(d=w[Kc])===null||d===void 0?void 0:d.arrayValue,N=Me(((p=S?.values)===null||p===void 0?void 0:p.length)||0,((y=D?.values)===null||y===void 0?void 0:y.length)||0);return N!==0?N:l0(S,D)}(n.mapValue,e.mapValue);case 11:return function(s,l){if(s===mc.mapValue&&l===mc.mapValue)return 0;if(s===mc.mapValue)return 1;if(l===mc.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),p=l.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const w=Jf(d[v],y[v]);if(w!==0)return w;const S=Qs(c[d[v]],p[y[v]]);if(S!==0)return S}return Me(d.length,y.length)}(n.mapValue,e.mapValue);default:throw ke(23264,{Pe:t})}}function a0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=Mi(n),i=Mi(e),s=Me(t.seconds,i.seconds);return s!==0?s:Me(t.nanos,i.nanos)}function l0(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=Qs(t[s],i[s]);if(l)return l}return Me(t.length,i.length)}function Ys(n){return ep(n)}function ep(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const t=Mi(e);return`time(${t.seconds},${t.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Vi(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return we.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let t="[",i=!0;for(const s of e.values||[])i?i=!1:t+=",",t+=ep(s);return t+"]"}(n.arrayValue):"mapValue"in n?function(e){const t=Object.keys(e.fields||{}).sort();let i="{",s=!0;for(const l of t)s?s=!1:i+=",",i+=`${l}:${ep(e.fields[l])}`;return i+"}"}(n.mapValue):ke(61005,{value:n})}function Pc(n){switch(Fi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(n);return e?16+Pc(e):16;case 5:return 2*n.stringValue.length;case 6:return Vi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce((i,s)=>i+Pc(s),0)}(n.arrayValue);case 10:case 11:return function(t){let i=0;return No(t.fields,(s,l)=>{i+=s.length+Pc(l)}),i}(n.mapValue);default:throw ke(13486,{value:n})}}function u0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tp(n){return!!n&&"integerValue"in n}function Up(n){return!!n&&"arrayValue"in n}function c0(n){return!!n&&"nullValue"in n}function h0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ac(n){return!!n&&"mapValue"in n}function d4(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[xw])===null||t===void 0?void 0:t.stringValue)===Ew}function ml(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return No(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ml(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ml(n.arrayValue.values[t]);return e}return Object.assign({},n)}function f4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===h4}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ac(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ml(t)}setAll(e){let t=Kt.emptyPath(),i={},s=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,s),i={},s=[],t=d.popLast()}c?i[d.lastSegment()]=ml(c):s.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());Ac(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Ac(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){No(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new $n(ml(this.value))}}function Sw(n){const e=[];return No(n.fields,(t,i)=>{const s=new Kt([t]);if(Ac(i)){const l=Sw(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new cr(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rn{constructor(e,t,i,s,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new rn(e,0,De.min(),De.min(),De.min(),$n.empty(),0)}static newFoundDocument(e,t,i,s){return new rn(e,1,t,De.min(),i,s,0)}static newNoDocument(e,t){return new rn(e,2,t,De.min(),De.min(),$n.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,De.min(),De.min(),$n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qc{constructor(e,t){this.position=e,this.inclusive=t}}function d0(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=we.comparator(we.fromName(c.referenceValue),t.key):i=Qs(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function f0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pr(n.position[t],e.position[t]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Al{constructor(e,t="asc"){this.field=e,this.dir=t}}function p4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tw{}class Tt extends Tw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new g4(e,t,i):t==="array-contains"?new b4(e,i):t==="in"?new w4(e,i):t==="not-in"?new x4(e,i):t==="array-contains-any"?new E4(e,i):new Tt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new y4(e,i):new v4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Qs(t,this.value)):t!==null&&Fi(this.value)===Fi(t)&&this.matchesComparison(Qs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends Tw{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new dr(e,t)}matches(e){return kw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function kw(n){return n.op==="and"}function Cw(n){return m4(n)&&kw(n)}function m4(n){for(const e of n.filters)if(e instanceof dr)return!1;return!0}function np(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+Ys(n.value);if(Cw(n))return n.filters.map(e=>np(e)).join(",");{const e=n.filters.map(t=>np(t)).join(",");return`${n.op}(${e})`}}function Iw(n,e){return n instanceof Tt?function(t,i){return i instanceof Tt&&t.op===i.op&&t.field.isEqual(i.field)&&Pr(t.value,i.value)}(n,e):n instanceof dr?function(t,i){return i instanceof dr&&t.op===i.op&&t.filters.length===i.filters.length?t.filters.reduce((s,l,c)=>s&&Iw(l,i.filters[c]),!0):!1}(n,e):void ke(19439)}function _w(n){return n instanceof Tt?function(e){return`${e.field.canonicalString()} ${e.op} ${Ys(e.value)}`}(n):n instanceof dr?function(e){return e.op.toString()+" {"+e.getFilters().map(_w).join(" ,")+"}"}(n):"Filter"}class g4 extends Tt{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class y4 extends Tt{constructor(e,t){super(e,"in",t),this.keys=Dw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class v4 extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=Dw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Dw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>we.fromName(i.referenceValue))}class b4 extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Up(t)&&Pl(t.arrayValue,this.value)}}class w4 extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pl(this.value.arrayValue,t)}}class x4 extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Pl(this.value.arrayValue,t)}}class E4 extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Up(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Pl(this.value.arrayValue,i))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S4{constructor(e,t=null,i=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function p0(n,e=null,t=[],i=[],s=null,l=null,c=null){return new S4(n,e,t,i,s,l,c)}function $p(n){const e=Ae(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>np(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),bh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ys(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ys(i)).join(",")),e.Ie=t}return e.Ie}function qp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!p4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Iw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!f0(n.startAt,e.startAt)&&f0(n.endAt,e.endAt)}function rp(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class la{constructor(e,t=null,i=[],s=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function T4(n,e,t,i,s,l,c,d){return new la(n,e,t,i,s,l,c,d)}function Pw(n){return new la(n)}function m0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Aw(n){return n.collectionGroup!==null}function gl(n){const e=Ae(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new At(Kt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Al(s,i))}),t.has(Kt.keyField().canonicalString())||e.Ee.push(new Al(Kt.keyField(),i))}return e.Ee}function Cr(n){const e=Ae(n);return e.de||(e.de=k4(e,gl(n))),e.de}function k4(n,e){if(n.limitType==="F")return p0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Al(s.field,l)});const t=n.endAt?new Qc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Qc(n.startAt.position,n.startAt.inclusive):null;return p0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ip(n,e){const t=n.filters.concat([e]);return new la(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Yc(n,e,t){return new la(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xh(n,e){return qp(Cr(n),Cr(e))&&n.limitType===e.limitType}function Nw(n){return`${$p(Cr(n))}|lt:${n.limitType}`}function Ds(n){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>_w(i)).join(", ")}]`),bh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ys(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ys(i)).join(",")),`Target(${t})`}(Cr(n))}; limitType=${n.limitType})`}function Eh(n,e){return e.isFoundDocument()&&function(t,i){const s=i.key.path;return t.collectionGroup!==null?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):we.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,i){for(const s of gl(t))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(t,i){for(const s of t.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(t,i){return!(t.startAt&&!function(s,l,c){const d=d0(s,l,c);return s.inclusive?d<=0:d<0}(t.startAt,gl(t),i)||t.endAt&&!function(s,l,c){const d=d0(s,l,c);return s.inclusive?d>=0:d>0}(t.endAt,gl(t),i))}(n,e)}function C4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Rw(n){return(e,t)=>{let i=!1;for(const s of gl(n)){const l=I4(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function I4(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):function(s,l,c){const d=l.data.field(s),p=c.data.field(s);return d!==null&&p!==null?Qs(d,p):ke(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ke(19790,{direction:n.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return mw(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _4=new pt(we.comparator);function Jr(){return _4}const Ow=new pt(we.comparator);function ll(...n){let e=Ow;for(const t of n)e=e.insert(t.key,t);return e}function Lw(n){let e=Ow;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ko(){return yl()}function Mw(){return yl()}function yl(){return new Ro(n=>n.toString(),(n,e)=>n.isEqual(e))}const D4=new pt(we.comparator),P4=new At(we.comparator);function ze(...n){let e=P4;for(const t of n)e=e.add(t);return e}const A4=new At(Me);function N4(){return A4}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Hp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function Vw(n){return{integerValue:""+n}}function R4(n,e){return s4(e)?Vw(e):Hp(n,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sh{constructor(){this._=void 0}}function O4(n,e,t){return n instanceof Nl?function(i,s){const l={fields:{[vw]:{stringValue:yw},[ww]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zp(s)&&(s=wh(s)),s&&(l.fields[bw]=s),{mapValue:l}}(t,e):n instanceof Rl?jw(n,e):n instanceof Ol?Bw(n,e):function(i,s){const l=Fw(i,s),c=g0(l)+g0(i.Re);return tp(l)&&tp(i.Re)?Vw(c):Hp(i.serializer,c)}(n,e)}function L4(n,e,t){return n instanceof Rl?jw(n,e):n instanceof Ol?Bw(n,e):t}function Fw(n,e){return n instanceof Xc?function(t){return tp(t)||function(i){return!!i&&"doubleValue"in i}(t)}(e)?e:{integerValue:0}:null}class Nl extends Sh{}class Rl extends Sh{constructor(e){super(),this.elements=e}}function jw(n,e){const t=zw(e);for(const i of n.elements)t.some(s=>Pr(s,i))||t.push(i);return{arrayValue:{values:t}}}class Ol extends Sh{constructor(e){super(),this.elements=e}}function Bw(n,e){let t=zw(e);for(const i of n.elements)t=t.filter(s=>!Pr(s,i));return{arrayValue:{values:t}}}class Xc extends Sh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function g0(n){return wt(n.integerValue||n.doubleValue)}function zw(n){return Up(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class M4{constructor(e,t){this.field=e,this.transform=t}}function V4(n,e){return n.field.isEqual(e.field)&&function(t,i){return t instanceof Rl&&i instanceof Rl||t instanceof Ol&&i instanceof Ol?Ks(t.elements,i.elements,Pr):t instanceof Xc&&i instanceof Xc?Pr(t.Re,i.Re):t instanceof Nl&&i instanceof Nl}(n.transform,e.transform)}class F4{constructor(e,t){this.version=e,this.transformResults=t}}class Kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Th{}function Uw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qw(n.key,Kr.none()):new zl(n.key,n.data,Kr.none());{const t=n.data,i=$n.empty();let s=new At(Kt.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new Oo(n.key,i,new cr(s.toArray()),Kr.none())}}function j4(n,e,t){n instanceof zl?function(i,s,l){const c=i.value.clone(),d=v0(i.fieldTransforms,s,l.transformResults);c.setAll(d),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Oo?function(i,s,l){if(!Nc(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=v0(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll($w(i)),d.setAll(c),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function vl(n,e,t,i){return n instanceof zl?function(s,l,c,d){if(!Nc(s.precondition,l))return c;const p=s.value.clone(),y=b0(s.fieldTransforms,d,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Oo?function(s,l,c,d){if(!Nc(s.precondition,l))return c;const p=b0(s.fieldTransforms,d,l),y=l.data;return y.setAll($w(s)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(s,l,c){return Nc(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function B4(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=Fw(i.transform,s||null);l!=null&&(t===null&&(t=$n.empty()),t.set(i.field,l))}return t||null}function y0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(t,i){return t===void 0&&i===void 0||!(!t||!i)&&Ks(t,i,(s,l)=>V4(s,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zl extends Th{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oo extends Th{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function $w(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function v0(n,e,t){const i=new Map;Ye(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,d=e.data.field(l.field);i.set(l.field,L4(c,d,t[s]))}return i}function b0(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,O4(l,c,e))}return i}class qw extends Th{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z4 extends Th{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class U4{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&j4(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=vl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=vl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Mw();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(s.key)?null:d;const p=Uw(c,d);p!==null&&i.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(De.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Ks(this.mutations,e.mutations,(t,i)=>y0(t,i))&&Ks(this.baseMutations,e.baseMutations,(t,i)=>y0(t,i))}}class Gp{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Ye(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return D4}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new Gp(e,t,i,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let $4=class{constructor(n,e){this.largestBatchId=n,this.mutation=e}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class q4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Et,$e;function H4(n){switch(n){case Y.OK:return ke(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ke(15467,{code:n})}}function Hw(n){if(n===void 0)return Zr("GRPC error has no .code"),Y.UNKNOWN;switch(n){case Et.OK:return Y.OK;case Et.CANCELLED:return Y.CANCELLED;case Et.UNKNOWN:return Y.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Y.INTERNAL;case Et.UNAVAILABLE:return Y.UNAVAILABLE;case Et.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Et.NOT_FOUND:return Y.NOT_FOUND;case Et.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Et.ABORTED:return Y.ABORTED;case Et.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Et.DATA_LOSS:return Y.DATA_LOSS;default:return ke(39323,{code:n})}}($e=Et||(Et={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const G4=new Ni([4294967295,4294967295],0);function w0(n){const e=dw().encode(n),t=new iw;return t.update(e),new Uint8Array(t.digest())}function x0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ni([t,i],0),new Ni([s,l],0)]}class Wp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ul(`Invalid padding: ${t}`);if(i<0)throw new ul(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ul(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ul(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ni.fromNumber(this.pe)}we(e,t,i){let s=e.add(t.multiply(Ni.fromNumber(i)));return s.compare(G4)===1&&(s=new Ni([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=w0(e),[i,s]=x0(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Wp(l,s,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=w0(e),[i,s]=x0(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kh{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Ul.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new kh(De.min(),s,new pt(Me),Jr(),ze())}}class Ul{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ul(i,t,ze(),ze(),ze())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rc{constructor(e,t,i,s){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=s}}class Gw{constructor(e,t){this.targetId=e,this.Ce=t}}class Ww{constructor(e,t,i=Qt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class E0{constructor(){this.Fe=0,this.Me=S0(),this.xe=Qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),t=ze(),i=ze();return this.Me.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:ke(38017,{changeType:l})}}),new Ul(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=S0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class W4{constructor(e){this.ze=e,this.je=new Map,this.He=Jr(),this.Je=gc(),this.Ye=gc(),this.Ze=new pt(Me)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:ke(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,i=e.Ce.count,s=this._t(t);if(s){const l=s.target;if(rp(l))if(i===0){const c=new we(l.path);this.tt(t,c,rn.newNoDocument(c,De.min()))}else Ye(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),p=d?this.lt(d,e,c):1;if(p!==0){this.st(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,y)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,d;try{c=Vi(i).toUint8Array()}catch(p){if(p instanceof gw)return Ws("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Wp(c,s,l)}catch(p){return Ws(p instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let s=0;return i.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),s++)}),s}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&rp(d.target)){const p=new we(d.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,rn.newNoDocument(p,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=ze();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const s=new kh(e,t,this.Ze,this.He,i);return this.He=Jr(),this.Je=gc(),this.Ye=gc(),this.Ze=new pt(Me),s}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new E0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new At(Me),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new At(Me),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new E0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function gc(){return new pt(we.comparator)}function S0(){return new pt(we.comparator)}const K4={asc:"ASCENDING",desc:"DESCENDING"},Q4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y4={and:"AND",or:"OR"};class X4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function op(n,e){return n.useProto3Json||bh(e)?e:{value:e}}function Zc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Z4(n,e){return Zc(n,e.toTimestamp())}function Ir(n){return Ye(!!n,49232),De.fromTimestamp(function(e){const t=Mi(e);return new Pt(t.seconds,t.nanos)}(n))}function Kp(n,e){return sp(n,e).canonicalString()}function sp(n,e){const t=function(i){return new st(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Qw(n){const e=st.fromString(n);return Ye(e2(e),10190,{key:e.toString()}),e}function ap(n,e){return Kp(n.databaseId,e.path)}function wf(n,e){const t=Qw(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(Xw(t))}function Yw(n,e){return Kp(n.databaseId,e)}function J4(n){const e=Qw(n);return e.length===4?st.emptyPath():Xw(e)}function lp(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Xw(n){return Ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function T0(n,e,t){return{name:ap(n,e),fields:t.value.mapValue.fields}}function eI(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ke(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Ye(y===void 0||typeof y=="string",58123),Qt.fromBase64String(y||"")):(Ye(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Qt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const y=p.code===void 0?Y.UNKNOWN:Hw(p.code);return new fe(y,p.message||"")}(c);t=new Ww(i,s,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=wf(n,i.document.name),l=Ir(i.document.updateTime),c=i.document.createTime?Ir(i.document.createTime):De.min(),d=new $n({mapValue:{fields:i.document.fields}}),p=rn.newFoundDocument(s,l,c,d),y=i.targetIds||[],v=i.removedTargetIds||[];t=new Rc(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=wf(n,i.document),l=i.readTime?Ir(i.readTime):De.min(),c=rn.newNoDocument(s,l),d=i.removedTargetIds||[];t=new Rc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=wf(n,i.document),l=i.removedTargetIds||[];t=new Rc([],l,s,null)}else{if(!("filter"in e))return ke(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new q4(s,l),d=i.targetId;t=new Gw(d,c)}}return t}function tI(n,e){let t;if(e instanceof zl)t={update:T0(n,e.key,e.value)};else if(e instanceof qw)t={delete:ap(n,e.key)};else if(e instanceof Oo)t={update:T0(n,e.key,e.data),updateMask:cI(e.fieldMask)};else{if(!(e instanceof z4))return ke(16599,{ft:e.type});t={verify:ap(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,l){const c=l.transform;if(c instanceof Nl)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Rl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ol)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Xc)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw ke(20930,{transform:l.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Z4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ke(27497)}(n,e.precondition)),t}function nI(n,e){return n&&n.length>0?(Ye(e!==void 0,14353),n.map(t=>function(i,s){let l=i.updateTime?Ir(i.updateTime):Ir(s);return l.isEqual(De.min())&&(l=Ir(s)),new F4(l,i.transformResults||[])}(t,e))):[]}function rI(n,e){return{documents:[Yw(n,e.path)]}}function iI(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Yw(n,s);const l=function(p){if(p.length!==0)return Jw(dr.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(v){return{field:Ps(v.field),direction:aI(v.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=op(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:s}}function oI(n){let e=J4(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Ye(i===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(v){const w=Zw(v);return w instanceof dr&&Cw(w)?w.getFilters():[w]}(t.where));let c=[];t.orderBy&&(c=function(v){return v.map(w=>function(S){return new Al(As(S.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(v){let w;return w=typeof v=="object"?v.value:v,bh(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(v){const w=!!v.before,S=v.values||[];return new Qc(S,w)}(t.startAt));let y=null;return t.endAt&&(y=function(v){const w=!v.before,S=v.values||[];return new Qc(S,w)}(t.endAt)),T4(e,s,c,l,d,"F",p,y)}function sI(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Zw(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=As(e.unaryFilter.field);return Tt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=As(e.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=As(e.unaryFilter.field);return Tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=As(e.unaryFilter.field);return Tt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}}(n):n.fieldFilter!==void 0?function(e){return Tt.create(As(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return dr.create(e.compositeFilter.filters.map(t=>Zw(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ke(1026)}}(e.compositeFilter.op))}(n):ke(30097,{filter:n})}function aI(n){return K4[n]}function lI(n){return Q4[n]}function uI(n){return Y4[n]}function Ps(n){return{fieldPath:n.canonicalString()}}function As(n){return Kt.fromServerFormat(n.fieldPath)}function Jw(n){return n instanceof Tt?function(e){if(e.op==="=="){if(h0(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NAN"}};if(c0(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(h0(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NOT_NAN"}};if(c0(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(e.field),op:lI(e.op),value:e.value}}}(n):n instanceof dr?function(e){const t=e.getFilters().map(i=>Jw(i));return t.length===1?t[0]:{compositeFilter:{op:uI(e.op),filters:t}}}(n):ke(54877,{filter:n})}function cI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function e2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _i{constructor(e,t,i,s,l=De.min(),c=De.min(),d=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hI{constructor(e){this.wt=e}}function dI(n){const e=oI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Yc(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fI{constructor(){this.Cn=new pI}addToCollectionParentIndex(e,t){return this.Cn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Li.min())}updateCollectionGroup(e,t,i){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class pI{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new At(st.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new At(st.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const k0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},t2=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(t2,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xs{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Xs(0)}static lr(){return new Xs(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const C0="LruGarbageCollector",mI=1048576;function I0([n,e],[t,i]){const s=Me(n,t);return s===0?Me(e,i):s}class gI{constructor(e){this.Er=e,this.buffer=new At(I0),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();I0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yI{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(C0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){aa(t)?ce(C0,"Ignoring IndexedDB error during garbage collection: ",t):await sa(t)}await this.mr(3e5)})}}class vI{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return K.resolve(vh.le);const i=new gI(t);return this.gr.forEachTarget(e,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(k0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k0):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,s,l,c,d,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,c=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(i=w,d=Date.now(),this.removeTargets(e,i,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(y=Date.now(),_s()<=qe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:w})))}}function bI(n,e){return new vI(n,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wI{constructor(){this.changes=new Ro(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?K.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EI{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&vl(i.mutation,s,cr.empty(),Pt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ze()){const s=ko();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let c=ll();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ko();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ze()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,s){let l=Jr();const c=yl(),d=function(){return yl()}();return t.forEach((p,y)=>{const v=i.get(y.key);s.has(y.key)&&(v===void 0||v.mutation instanceof Oo)?l=l.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),vl(v.mutation,y,v.mutation.getFieldMask(),Pt.now())):c.set(y.key,cr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,v)=>c.set(y,v)),t.forEach((y,v)=>{var w;return d.set(y,new xI(v,(w=c.get(y))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const i=yl();let s=new pt((c,d)=>c-d),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||cr.empty();v=d.applyToLocalView(y,v),i.set(p,v);const w=(s.get(d.batchId)||ze()).add(p);s=s.insert(d.batchId,w)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,v=p.value,w=Mw();v.forEach(S=>{if(!l.has(S)){const D=Uw(t.get(S),i.get(S));D!==null&&w.set(S,D),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,w))}return K.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(l){return we.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Aw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):K.resolve(ko());let d=Il,p=l;return c.next(y=>K.forEach(y,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(v)?K.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,ze())).next(v=>({batchId:d,changes:Lw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let s=ll();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=ll();return this.indexManager.getCollectionParents(e,l).next(d=>K.forEach(d,p=>{const y=function(v,w){return new la(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,s).next(v=>{v.forEach((w,S)=>{c=c.insert(w,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s))).next(c=>{l.forEach((p,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,rn.newInvalidDocument(v)))});let d=ll();return c.forEach((p,y)=>{const v=l.get(p);v!==void 0&&vl(v.mutation,y,cr.empty(),Pt.now()),Eh(t,y)&&(d=d.insert(p,y))}),d})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SI{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return K.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ir(i.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:dI(i.bundledQuery),readTime:Ir(i.readTime)}}(t)),K.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TI{constructor(){this.overlays=new pt(we.comparator),this.Qr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ko();return K.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.St(e,t,l)}),K.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),K.resolve()}getOverlaysForCollection(e,t,i){const s=ko(),l=t.length+1,c=new we(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&s.set(p.getKey(),p)}return K.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new pt((y,v)=>y-v);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=l.get(y.largestBatchId);v===null&&(v=ko(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const d=ko(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>d.set(y,v)),!(d.size()>=s)););return K.resolve(d)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new $4(t,i));let l=this.Qr.get(t);l===void 0&&(l=ze(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kI{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qp{constructor(){this.$r=new At(Ft.Ur),this.Kr=new At(Ft.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Ft(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Ft(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new we(new st([])),i=new Ft(t,e),s=new Ft(t,e+1),l=[];return this.Kr.forEachInRange([i,s],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new we(new st([])),i=new Ft(t,e),s=new Ft(t,e+1);let l=ze();return this.Kr.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Ft(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ft{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return we.comparator(e.key,t.key)||Me(e.Zr,t.Zr)}static Wr(e,t){return Me(e.Zr,t.Zr)||we.comparator(e.key,t.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new At(Ft.Ur)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new U4(l,t,i,s);this.mutationQueue.push(c);for(const d of s)this.Xr=this.Xr.add(new Ft(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(c)}lookupMutationBatch(e,t){return K.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.ti(i),l=s<0?0:s;return K.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Bp:this.nr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ft(t,0),s=new Ft(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,s],c=>{const d=this.ei(c.Zr);l.push(d)}),K.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new At(Me);return t.forEach(s=>{const l=new Ft(s,0),c=new Ft(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{i=i.add(d.Zr)})}),K.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;we.isDocumentKey(l)||(l=l.child(""));const c=new Ft(new we(l),0);let d=new At(Me);return this.Xr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===s&&(d=d.add(p.Zr)),!0)},c),K.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(i=>{const s=this.ei(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ye(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return K.forEach(t.mutations,s=>{const l=new Ft(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Ft(t,0),s=this.Xr.firstAfterOrEqual(i);return K.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class II{constructor(e){this.ii=e,this.docs=function(){return new pt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return K.resolve(i?i.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let i=Jr();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():rn.newInvalidDocument(s))}),K.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=Jr();const c=t.path,d=new we(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||n4(t4(v),i)<=0||(s.has(v.key)||Eh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return K.resolve(l)}getAllFromCollectionGroup(e,t,i,s){ke(9500)}si(e,t){return K.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new _I(this)}getSize(e){return K.resolve(this.size)}}class _I extends wI{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(i)}),K.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class DI{constructor(e){this.persistence=e,this.oi=new Ro(t=>$p(t),qp),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this._i=0,this.ai=new Qp,this.targetCount=0,this.ui=Xs.cr()}forEachTarget(e,t){return this.oi.forEach((i,s)=>t(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),K.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Xs(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Tr(t),K.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),K.waitFor(l).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return K.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),K.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),K.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return K.resolve(i)}containsKey(e,t){return K.resolve(this.ai.containsKey(t))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class n2{constructor(e,t){this.ci={},this.overlays={},this.li=new vh(0),this.hi=!1,this.hi=!0,this.Pi=new kI,this.referenceDelegate=e(this),this.Ti=new DI(this),this.indexManager=new fI,this.remoteDocumentCache=function(i){return new II(i)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new hI(t),this.Ei=new SI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new TI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new CI(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const s=new PI(this.li.next());return this.referenceDelegate.di(),i(s).next(l=>this.referenceDelegate.Ai(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ri(e,t){return K.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class PI extends i4{constructor(e){super(),this.currentSequenceNumber=e}}class Yp{constructor(e){this.persistence=e,this.Vi=new Qp,this.mi=null}static fi(e){return new Yp(e)}get gi(){if(this.mi)return this.mi;throw ke(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),K.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.gi,i=>{const s=we.fromPath(i);return this.pi(e,s).next(l=>{l||t.removeEntry(s,De.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return K.or([()=>K.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Jc{constructor(e,t){this.persistence=e,this.yi=new Ro(i=>a4(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=bI(this,t)}static fi(e,t){return new Jc(e,t)}di(){}Ai(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return K.forEach(this.yi,(i,s)=>this.Dr(e,i,s).next(l=>l?K.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.si(e,c=>this.Dr(e,c,t).next(d=>{d||(i++,l.removeEntry(c,De.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),K.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),K.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pc(e.data.value)),t}Dr(e,t,i){return K.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return K.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xp{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.ds=i,this.As=s}static Rs(e,t){let i=ze(),s=ze();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Xp(e,t.fromCache,i,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return kk()?8:o4(Sk())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,t,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new AI;return this.Ss(e,t,c).next(d=>{if(l.result=d,this.fs)return this.Ds(e,t,c,d.size)})}).next(()=>l.result)}Ds(e,t,i,s){return i.documentReadCount<this.gs?(_s()<=qe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ds(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),K.resolve()):(_s()<=qe.DEBUG&&ce("QueryEngine","Query:",Ds(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(_s()<=qe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ds(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(t))):K.resolve())}ws(e,t){if(m0(t))return K.resolve(null);let i=Cr(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Yc(t,null,"F"),i=Cr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=ze(...l);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.vs(t,d);return this.Cs(t,y,c,p.readTime)?this.ws(e,Yc(t,null,"F")):this.Fs(e,y,t,p)}))})))}bs(e,t,i,s){return m0(t)||s.isEqual(De.min())?K.resolve(null):this.ys.getDocuments(e,i).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,i,s)?K.resolve(null):(_s()<=qe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ds(t)),this.Fs(e,c,t,e4(s,Il)).next(d=>d))})}vs(e,t){let i=new At(Rw(e));return t.forEach((s,l)=>{Eh(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Ss(e,t,i){return _s()<=qe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ds(t)),this.ys.getDocumentsMatchingQuery(e,t,Li.min(),i)}Fs(e,t,i,s){return this.ys.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zp="LocalStore",RI=3e8;class OI{constructor(e,t,i,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new pt(Me),this.Os=new Ro(l=>$p(l),qp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function LI(n,e,t,i){return new OI(n,e,t,i)}async function r2(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=ze();for(const y of s){c.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of l){d.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(y=>({ks:y,removedBatchIds:c,addedBatchIds:d}))})})}function MI(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,d,p,y){const v=p.batch,w=v.keys();let S=K.resolve();return w.forEach(D=>{S=S.next(()=>y.getEntry(d,D)).next(N=>{const M=p.docVersions.get(D);Ye(M!==null,48541),N.version.compareTo(M)<0&&(v.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),y.addEntry(N)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(d,v))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=ze();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function i2(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function VI(n,e){const t=Ae(n),i=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const d=[];e.targetChanges.forEach((v,w)=>{const S=s.get(w);if(!S)return;d.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,w).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,w)));let D=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?D=D.withResumeToken(Qt.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,i)),s=s.insert(w,D),function(N,M,L){return N.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=RI?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(S,D,v)&&d.push(t.Ti.updateTargetData(l,D))});let p=Jr(),y=ze();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(FI(l,c,e.documentUpdates).next(v=>{p=v.qs,y=v.Qs})),!i.isEqual(De.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(w=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return K.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.xs=s,l))}function FI(n,e,t){let i=ze(),s=ze();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Jr();return t.forEach((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(De.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ce(Zp,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{qs:c,Qs:s}})}function jI(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Bp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function BI(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Ti.getTargetData(i,e).next(l=>l?(s=l,K.resolve(s)):t.Ti.allocateTargetId(i).next(c=>(s=new _i(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function up(n,e,t){const i=Ae(n),s=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!aa(c))throw c;ce(Zp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(s.target)}function _0(n,e,t){const i=Ae(n);let s=De.min(),l=ze();return i.persistence.runTransaction("Execute query","readwrite",c=>function(d,p,y){const v=Ae(d),w=v.Os.get(y);return w!==void 0?K.resolve(v.xs.get(w)):v.Ti.getTargetData(p,y)}(i,c,Cr(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?s:De.min(),t?l:ze())).next(d=>(zI(i,C4(e),d),{documents:d,$s:l})))}function zI(n,e,t){let i=n.Ns.get(e)||De.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class D0{constructor(){this.activeTargetIds=N4()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UI{constructor(){this.xo=new D0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new D0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $I{No(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const P0="ConnectivityMonitor";class A0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(P0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(P0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let yc=null;function cp(){return yc===null?yc=function(){return 268435456+Math.round(2147483648*Math.random())}():yc++,"0x"+yc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xf="RestConnection",qI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HI{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===Wc?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(e,t,i,s,l){const c=cp(),d=this.jo(e,t.toUriEncodedString());ce(xf,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,s,l);const{host:y}=new URL(d),v=Vp(y);return this.Jo(e,d,p,i,v).then(w=>(ce(xf,`Received RPC '${e}' ${c}: `,w),w),w=>{throw Ws(xf,`RPC '${e}' ${c} failed with error: `,w,"url: ",d,"request:",i),w})}Yo(e,t,i,s,l,c){return this.zo(e,t,i,s,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}jo(e,t){const i=qI[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class GI{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const en="WebChannelConnection";class WI extends HI{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,s,l){const c=cp();return new Promise((d,p)=>{const y=new ow;y.setWithCredentials(!0),y.listenOnce(sw.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Dc.NO_ERROR:const w=y.getResponseJson();ce(en,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case Dc.TIMEOUT:ce(en,`RPC '${e}' ${c} timed out`),p(new fe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const S=y.getStatus();if(ce(en,`RPC '${e}' ${c} failed with status:`,S,"response text:",y.getResponseText()),S>0){let D=y.getResponseJson();Array.isArray(D)&&(D=D[0]);const N=D?.error;if(N&&N.status&&N.message){const M=function(L){const H=L.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(H)>=0?H:Y.UNKNOWN}(N.status);p(new fe(M,N.message))}else p(new fe(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new fe(Y.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{h_:e,streamId:c,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{ce(en,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(s);ce(en,`RPC '${e}' ${c} sending request:`,s),y.send(t,"POST",v,i,15)})}I_(e,t,i){const s=cp(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=uw(),d=lw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");ce(en,`Creating RPC '${e}' stream ${s}: ${v}`,p);const w=c.createWebChannel(v,p);this.E_(w);let S=!1,D=!1;const N=new GI({Zo:L=>{D?ce(en,`Not sending because RPC '${e}' stream ${s} is closed:`,L):(S||(ce(en,`Opening RPC '${e}' stream ${s} transport.`),w.open(),S=!0),ce(en,`RPC '${e}' stream ${s} sending:`,L),w.send(L))},Xo:()=>w.close()}),M=(L,H,W)=>{L.listen(H,Q=>{try{W(Q)}catch(J){setTimeout(()=>{throw J},0)}})};return M(w,al.EventType.OPEN,()=>{D||(ce(en,`RPC '${e}' stream ${s} transport opened.`),N.__())}),M(w,al.EventType.CLOSE,()=>{D||(D=!0,ce(en,`RPC '${e}' stream ${s} transport closed`),N.u_(),this.d_(w))}),M(w,al.EventType.ERROR,L=>{D||(D=!0,Ws(en,`RPC '${e}' stream ${s} transport errored. Name:`,L.name,"Message:",L.message),N.u_(new fe(Y.UNAVAILABLE,"The operation could not be completed")))}),M(w,al.EventType.MESSAGE,L=>{var H;if(!D){const W=L.data[0];Ye(!!W,16349);const Q=W,J=Q?.error||((H=Q[0])===null||H===void 0?void 0:H.error);if(J){ce(en,`RPC '${e}' stream ${s} received error:`,J);const ee=J.status;let re=function(T){const I=Et[T];if(I!==void 0)return Hw(I)}(ee),C=J.message;re===void 0&&(re=Y.INTERNAL,C="Unknown error status: "+ee+" with message "+J.message),D=!0,N.u_(new fe(re,C)),w.close()}else ce(en,`RPC '${e}' stream ${s} received:`,W),N.c_(W)}}),M(d,aw.STAT_EVENT,L=>{L.stat===Zf.PROXY?ce(en,`RPC '${e}' stream ${s} detected buffering proxy`):L.stat===Zf.NOPROXY&&ce(en,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{N.a_()},0),N}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Ef(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ch(n){return new X4(n,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class o2{constructor(e,t,i=1e3,s=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=s,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),s=Math.max(0,t-i);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const N0="PersistentStream";class s2{constructor(e,t,i,s,l,c,d,p){this.xi=e,this.S_=i,this.D_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new o2(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.v_===t&&this.z_(i,s)},i=>{e(()=>{const s=new fe(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(s)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.j_(s))}),this.stream.onMessage(s=>{i(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ce(N0,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ce(N0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KI extends s2{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=eI(this.serializer,e),i=function(s){if(!("targetChange"in s))return De.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?De.min():l.readTime?Ir(l.readTime):De.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=lp(this.serializer),t.addTarget=function(s,l){let c;const d=l.target;if(c=rp(d)?{documents:rI(s,d)}:{query:iI(s,d).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Kw(s,l.resumeToken);const p=op(s,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(De.min())>0){c.readTime=Zc(s,l.snapshotVersion.toTimestamp());const p=op(s,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const i=sI(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=lp(this.serializer),t.removeTarget=e,this.Q_(t)}}class QI extends s2{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=nI(e.writeResults,e.commitTime),i=Ir(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=lp(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>tI(this.serializer,i))};this.Q_(t)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YI{}class XI extends YI{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,sp(t,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(Y.UNKNOWN,l.toString())})}Yo(e,t,i,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,sp(t,i),s,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(Y.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class ZI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Zr(t),this.ua=!1):ce("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ao="RemoteStore";class JI{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{i.enqueueAndForget(async()=>{Lo(this)&&(ce(Ao,"Restarting streams for network reachability change."),await async function(d){const p=Ae(d);p.da.add(4),await $l(p),p.Va.set("Unknown"),p.da.delete(4),await Ih(p)}(this))})}),this.Va=new ZI(i,s)}}async function Ih(n){if(Lo(n))for(const e of n.Aa)await e(!0)}async function $l(n){for(const e of n.Aa)await e(!1)}function a2(n,e){const t=Ae(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),nm(t)?tm(t):ua(t).N_()&&em(t,e))}function Jp(n,e){const t=Ae(n),i=ua(t);t.Ea.delete(e),i.N_()&&l2(t,e),t.Ea.size===0&&(i.N_()?i.k_():Lo(t)&&t.Va.set("Unknown"))}function em(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ua(n).Z_(e)}function l2(n,e){n.ma.Ke(e),ua(n).X_(e)}function tm(n){n.ma=new W4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),ua(n).start(),n.Va.ca()}function nm(n){return Lo(n)&&!ua(n).O_()&&n.Ea.size>0}function Lo(n){return Ae(n).da.size===0}function u2(n){n.ma=void 0}async function e_(n){n.Va.set("Online")}async function t_(n){n.Ea.forEach((e,t)=>{em(n,e)})}async function n_(n,e){u2(n),nm(n)?(n.Va.Pa(e),tm(n)):n.Va.set("Unknown")}async function r_(n,e,t){if(n.Va.set("Online"),e instanceof Ww&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ea.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ea.delete(c),i.ma.removeTarget(c))}(n,e)}catch(i){ce(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await eh(n,i)}else if(e instanceof Rc?n.ma.Xe(e):e instanceof Gw?n.ma.ot(e):n.ma.nt(e),!t.isEqual(De.min()))try{const i=await i2(n.localStore);t.compareTo(i)>=0&&await function(s,l){const c=s.ma.It(l);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=s.Ea.get(p);y&&s.Ea.set(p,y.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,p)=>{const y=s.Ea.get(d);if(!y)return;s.Ea.set(d,y.withResumeToken(Qt.EMPTY_BYTE_STRING,y.snapshotVersion)),l2(s,d);const v=new _i(y.target,d,p,y.sequenceNumber);em(s,v)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(i){ce(Ao,"Failed to raise snapshot:",i),await eh(n,i)}}async function eh(n,e,t){if(!aa(e))throw e;n.da.add(1),await $l(n),n.Va.set("Offline"),t||(t=()=>i2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(Ao,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Ih(n)})}function c2(n,e){return e().catch(t=>eh(n,t,e))}async function _h(n){const e=Ae(n),t=ji(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Bp;for(;i_(e);)try{const s=await jI(e.localStore,i);if(s===null){e.Ia.length===0&&t.k_();break}i=s.batchId,o_(e,s)}catch(s){await eh(e,s)}h2(e)&&d2(e)}function i_(n){return Lo(n)&&n.Ia.length<10}function o_(n,e){n.Ia.push(e);const t=ji(n);t.N_()&&t.ea&&t.ta(e.mutations)}function h2(n){return Lo(n)&&!ji(n).O_()&&n.Ia.length>0}function d2(n){ji(n).start()}async function s_(n){ji(n).ia()}async function a_(n){const e=ji(n);for(const t of n.Ia)e.ta(t.mutations)}async function l_(n,e,t){const i=n.Ia.shift(),s=Gp.from(i,e,t);await c2(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await _h(n)}async function u_(n,e){e&&ji(n).ea&&await async function(t,i){if(function(s){return H4(s)&&s!==Y.ABORTED}(i.code)){const s=t.Ia.shift();ji(t).L_(),await c2(t,()=>t.remoteSyncer.rejectFailedWrite(s.batchId,i)),await _h(t)}}(n,e),h2(n)&&d2(n)}async function R0(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),ce(Ao,"RemoteStore received new credentials");const i=Lo(t);t.da.add(3),await $l(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Ih(t)}async function c_(n,e){const t=Ae(n);e?(t.da.delete(2),await Ih(t)):e||(t.da.add(2),await $l(t),t.Va.set("Unknown"))}function ua(n){return n.fa||(n.fa=function(e,t,i){const s=Ae(e);return s.oa(),new KI(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:e_.bind(null,n),n_:t_.bind(null,n),i_:n_.bind(null,n),Y_:r_.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),nm(n)?tm(n):n.Va.set("Unknown")):(await n.fa.stop(),u2(n))})),n.fa}function ji(n){return n.ga||(n.ga=function(e,t,i){const s=Ae(e);return s.oa(),new QI(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:s_.bind(null,n),i_:u_.bind(null,n),na:a_.bind(null,n),ra:l_.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await _h(n)):(await n.ga.stop(),n.Ia.length>0&&(ce(Ao,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rm{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,d=new rm(e,t,c,s,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function im(n,e){if(Zr("AsyncQueue",`${e}: ${n}`),aa(n))return new fe(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class js{static emptySet(e){return new js(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=ll(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof js)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new js;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O0{constructor(){this.pa=new pt(we.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):ke(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Zs{constructor(e,t,i,s,l,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Zs(e,t,js.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h_{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class d_{constructor(){this.queries=L0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,t){const i=Ae(e),s=i.queries;i.queries=L0(),s.forEach((l,c)=>{for(const d of c.Sa)d.onError(t)})})(this,new fe(Y.ABORTED,"Firestore shutting down"))}}function L0(){return new Ro(n=>Nw(n),xh)}async function f_(n,e){const t=Ae(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.Da()&&e.va()&&(i=2):(l=new h_,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(s,!0);break;case 1:l.ba=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=im(c,`Initialization of query '${Ds(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&om(t)}async function p_(n,e){const t=Ae(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?s=e.va()?0:1:!l.Da()&&e.va()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function m_(n,e){const t=Ae(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Ma(s)&&(i=!0);c.ba=s}}i&&om(t)}function g_(n,e,t){const i=Ae(n),s=i.queries.get(e);if(s)for(const l of s.Sa)l.onError(t);i.queries.delete(e)}function om(n){n.Ca.forEach(e=>{e.next()})}var hp,M0;(M0=hp||(hp={})).xa="default",M0.Cache="cache";class y_{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Zs(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==hp.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class f2{constructor(e){this.key=e}}class p2{constructor(e){this.key=e}}class v_{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.Za=Rw(e),this.Xa=new js(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new O0,s=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,w)=>{const S=s.get(v),D=Eh(this.query,w)?w:null,N=!!S&&this.mutatedKeys.has(S.key),M=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;S&&D?S.data.isEqual(D.data)?N!==M&&(i.track({type:3,doc:D}),L=!0):this.ru(S,D)||(i.track({type:2,doc:D}),L=!0,(p&&this.Za(D,p)>0||y&&this.Za(D,y)<0)&&(d=!0)):!S&&D?(i.track({type:0,doc:D}),L=!0):S&&!D&&(i.track({type:1,doc:S}),L=!0,(p||y)&&(d=!0)),L&&(D?(c=c.add(D),l=M?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Xa:c,nu:i,Cs:d,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((v,w)=>function(S,D){const N=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Vt:M})}};return N(S)-N(D)}(v.type,w.type)||this.Za(v.doc,w.doc)),this.iu(i),s=s!=null&&s;const d=t&&!s?this.su():[],p=this.Ya.size===0&&this.current&&!s?1:0,y=p!==this.Ja;return this.Ja=p,c.length!==0||y?{snapshot:new Zs(this.query,e.Xa,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new O0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new p2(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new f2(i))}),t}au(e){this.Ha=e.$s,this.Ya=ze();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Zs.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const sm="SyncEngine";class b_{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class w_{constructor(e){this.key=e,this.cu=!1}}class x_{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Ro(d=>Nw(d),xh),this.Pu=new Map,this.Tu=new Set,this.Iu=new pt(we.comparator),this.Eu=new Map,this.du=new Qp,this.Au={},this.Ru=new Map,this.Vu=Xs.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function E_(n,e,t=!0){const i=w2(n);let s;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.uu()):s=await m2(i,e,t,!0),s}async function S_(n,e){const t=w2(n);await m2(t,e,!0,!1)}async function m2(n,e,t,i){const s=await BI(n.localStore,Cr(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await T_(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&a2(n.remoteStore,s),d}async function T_(n,e,t,i,s){n.fu=(w,S,D)=>async function(N,M,L,H){let W=M.view.tu(L);W.Cs&&(W=await _0(N.localStore,M.query,!1).then(({documents:re})=>M.view.tu(re,W)));const Q=H&&H.targetChanges.get(M.targetId),J=H&&H.targetMismatches.get(M.targetId)!=null,ee=M.view.applyChanges(W,N.isPrimaryClient,Q,J);return F0(N,M.targetId,ee.ou),ee.snapshot}(n,w,S,D);const l=await _0(n.localStore,e,!0),c=new v_(e,l.$s),d=c.tu(l.documents),p=Ul.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),y=c.applyChanges(d,n.isPrimaryClient,p);F0(n,t,y.ou);const v=new b_(e,t,c);return n.hu.set(e,v),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),y.snapshot}async function k_(n,e,t){const i=Ae(n),s=i.hu.get(e),l=i.Pu.get(s.targetId);if(l.length>1)return i.Pu.set(s.targetId,l.filter(c=>!xh(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await up(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Jp(i.remoteStore,s.targetId),dp(i,s.targetId)}).catch(sa)):(dp(i,s.targetId),await up(i.localStore,s.targetId,!0))}async function C_(n,e){const t=Ae(n),i=t.hu.get(e),s=t.Pu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Jp(t.remoteStore,i.targetId))}async function I_(n,e,t){const i=O_(n);try{const s=await function(l,c){const d=Ae(l),p=Pt.now(),y=c.reduce((S,D)=>S.add(D.key),ze());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let D=Jr(),N=ze();return d.Bs.getEntries(S,y).next(M=>{D=M,D.forEach((L,H)=>{H.isValidDocument()||(N=N.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,D)).next(M=>{v=M;const L=[];for(const H of c){const W=B4(H,v.get(H.key).overlayedDocument);W!=null&&L.push(new Oo(H.key,W,Sw(W.value.mapValue),Kr.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,L,c)}).next(M=>{w=M;const L=M.applyToLocalDocumentSet(v,N);return d.documentOverlayCache.saveOverlays(S,M.batchId,L)})}).then(()=>({batchId:w.batchId,changes:Lw(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let p=l.Au[l.currentUser.toKey()];p||(p=new pt(Me)),p=p.insert(c,d),l.Au[l.currentUser.toKey()]=p}(i,s.batchId,t),await ql(i,s.changes),await _h(i.remoteStore)}catch(s){const l=im(s,"Failed to persist write");t.reject(l)}}async function g2(n,e){const t=Ae(n);try{const i=await VI(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.Eu.get(l);c&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.cu=!0:s.modifiedDocuments.size>0?Ye(c.cu,14607):s.removedDocuments.size>0&&(Ye(c.cu,42227),c.cu=!1))}),await ql(t,i,e)}catch(i){await sa(i)}}function V0(n,e,t){const i=Ae(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.hu.forEach((l,c)=>{const d=c.view.Fa(e);d.snapshot&&s.push(d.snapshot)}),function(l,c){const d=Ae(l);d.onlineState=c;let p=!1;d.queries.forEach((y,v)=>{for(const w of v.Sa)w.Fa(c)&&(p=!0)}),p&&om(d)}(i.eventManager,e),s.length&&i.lu.Y_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function __(n,e,t){const i=Ae(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Eu.get(e),l=s&&s.key;if(l){let c=new pt(we.comparator);c=c.insert(l,rn.newNoDocument(l,De.min()));const d=ze().add(l),p=new kh(De.min(),new Map,new pt(Me),c,d);await g2(i,p),i.Iu=i.Iu.remove(l),i.Eu.delete(e),am(i)}else await up(i.localStore,e,!1).then(()=>dp(i,e,t)).catch(sa)}async function D_(n,e){const t=Ae(n),i=e.batch.batchId;try{const s=await MI(t.localStore,e);v2(t,i,null),y2(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ql(t,s)}catch(s){await sa(s)}}async function P_(n,e,t){const i=Ae(n);try{const s=await function(l,c){const d=Ae(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,c).next(v=>(Ye(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(i.localStore,e);v2(i,e,t),y2(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ql(i,s)}catch(s){await sa(s)}}function y2(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function v2(n,e,t){const i=Ae(n);let s=i.Au[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.Au[i.currentUser.toKey()]=s}}function dp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||b2(n,i)})}function b2(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Jp(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),am(n))}function F0(n,e,t){for(const i of t)i instanceof f2?(n.du.addReference(i.key,e),A_(n,i)):i instanceof p2?(ce(sm,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||b2(n,i.key)):ke(19791,{pu:i})}function A_(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(ce(sm,"New document in limbo: "+t),n.Tu.add(i),am(n))}function am(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new we(st.fromString(e)),i=n.Vu.next();n.Eu.set(i,new w_(t)),n.Iu=n.Iu.insert(t,i),a2(n.remoteStore,new _i(Cr(Pw(t.path)),i,"TargetPurposeLimboResolution",vh.le))}}async function ql(n,e,t){const i=Ae(n),s=[],l=[],c=[];i.hu.isEmpty()||(i.hu.forEach((d,p)=>{c.push(i.fu(p,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const w=y?!y.fromCache:(v=t?.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){s.push(y);const w=Xp.Rs(p.targetId,y);l.push(w)}}))}),await Promise.all(c),i.lu.Y_(s),await async function(d,p){const y=Ae(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>K.forEach(p,w=>K.forEach(w.ds,S=>y.persistence.referenceDelegate.addReference(v,w.targetId,S)).next(()=>K.forEach(w.As,S=>y.persistence.referenceDelegate.removeReference(v,w.targetId,S)))))}catch(v){if(!aa(v))throw v;ce(Zp,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const S=y.xs.get(w),D=S.snapshotVersion,N=S.withLastLimboFreeSnapshotVersion(D);y.xs=y.xs.insert(w,N)}}}(i.localStore,l))}async function N_(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){ce(sm,"User change. New user:",e.toKey());const i=await r2(t.localStore,e);t.currentUser=e,function(s,l){s.Ru.forEach(c=>{c.forEach(d=>{d.reject(new fe(Y.CANCELLED,l))})}),s.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ql(t,i.ks)}}function R_(n,e){const t=Ae(n),i=t.Eu.get(e);if(i&&i.cu)return ze().add(i.key);{let s=ze();const l=t.Pu.get(e);if(!l)return s;for(const c of l){const d=t.hu.get(c);s=s.unionWith(d.view.eu)}return s}}function w2(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=g2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=__.bind(null,e),e.lu.Y_=m_.bind(null,e.eventManager),e.lu.gu=g_.bind(null,e.eventManager),e}function O_(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P_.bind(null,e),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return LI(this.persistence,new NI,e.initialUser,this.serializer)}Su(e){return new n2(Yp.fi,this.serializer)}bu(e){return new UI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class L_ extends th{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ye(this.persistence.referenceDelegate instanceof Jc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new yI(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new n2(i=>Jc.fi(i,t),this.serializer)}}class fp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>V0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=N_.bind(null,this.syncEngine),await c_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new d_}()}createDatastore(e){const t=Ch(e.databaseInfo.databaseId),i=function(s){return new WI(s)}(e.databaseInfo);return function(s,l,c,d){return new XI(s,l,c,d)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(t,i,s,l,c){return new JI(t,i,s,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>V0(this.syncEngine,t,0),function(){return A0.C()?new A0:new $I}())}createSyncEngine(e,t){return function(i,s,l,c,d,p,y){const v=new x_(i,s,l,c,d,p);return y&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Ae(i);ce(Ao,"RemoteStore shutting down."),s.da.add(5),await $l(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}fp.provider={build:()=>new fp};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class M_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bi="FirestoreClient";class V_{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=nn.UNAUTHENTICATED,this.clientId=fw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ce(Bi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ce(Bi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=im(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Sf(n,e){n.asyncQueue.verifyOperationInProgress(),ce(Bi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await r2(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function j0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await F_(n);ce(Bi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>R0(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>R0(e.remoteStore,s)),n._onlineComponents=e}async function F_(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(Bi,"Using user provided OfflineComponentProvider");try{await Sf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ws("Error using user provided cache. Falling back to memory cache: "+t),await Sf(n,new th)}}else ce(Bi,"Using default OfflineComponentProvider"),await Sf(n,new L_(void 0));return n._offlineComponents}async function x2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(Bi,"Using user provided OnlineComponentProvider"),await j0(n,n._uninitializedComponentsProvider._online)):(ce(Bi,"Using default OnlineComponentProvider"),await j0(n,new fp))),n._onlineComponents}function j_(n){return x2(n).then(e=>e.syncEngine)}async function B_(n){const e=await x2(n),t=e.eventManager;return t.onListen=E_.bind(null,e.syncEngine),t.onUnlisten=k_.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=S_.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=C_.bind(null,e.syncEngine),t}function z_(n,e,t={}){const i=new Ri;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,c,d,p){const y=new M_({next:w=>{y.xu(),l.enqueueAndForget(()=>p_(s,v)),w.fromCache&&d.source==="server"?p.reject(new fe(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new y_(c,y,{includeMetadataChanges:!0,Qa:!0});return f_(s,v)}(await B_(n),n.asyncQueue,e,t,i)),i.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function E2(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const B0=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function S2(n,e,t){if(!t)throw new fe(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function U_(n,e,t,i){if(e===!0&&i===!0)throw new fe(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function z0(n){if(!we.isDocumentKey(n))throw new fe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function U0(n){if(we.isDocumentKey(n))throw new fe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Dh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke(12329,{type:typeof n})}function nh(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dh(n);throw new fe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $_(n,e){if(e<=0)throw new fe(Y.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T2="firestore.googleapis.com",$0=!0;class q0{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T2,this.ssl=$0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:$0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=t2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mI)throw new fe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E2((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(t,i){return t.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(t){if(!t)return new HC;switch(t.type){case"firstParty":return new QC(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new fe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=B0.get(e);t&&(ce("ComponentProvider","Removing Datastore"),B0.delete(e),t.terminate())}(this),Promise.resolve()}}function q_(n,e,t,i={}){var s;n=nh(n,Ph);const l=Vp(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&(vk(`https://${p}`),Ek("Firestore",!0)),c.host!==T2&&c.host!==p&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},c),{host:p,ssl:l,emulatorOptions:i});if(!$c(y,d)&&(n._setSettings(y),i.mockUserToken)){let v,w;if(typeof i.mockUserToken=="string")v=i.mockUserToken,w=nn.MOCK_USER;else{v=bk(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new fe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new nn(S)}n._authCredentials=new GC(new hw(v,w))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $i{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class qn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class Oi extends $i{constructor(e,t,i){super(e,t,Pw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new we(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function Tf(n,e,...t){if(n=Gs(n),S2("collection","path",e),n instanceof Ph){const i=st.fromString(e,...t);return U0(i),new Oi(n,null,i)}{if(!(n instanceof qn||n instanceof Oi))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(st.fromString(e,...t));return U0(i),new Oi(n.firestore,null,i)}}function H_(n,e,...t){if(n=Gs(n),arguments.length===1&&(e=fw.newId()),S2("doc","path",e),n instanceof Ph){const i=st.fromString(e,...t);return z0(i),new qn(n,null,new we(i))}{if(!(n instanceof qn||n instanceof Oi))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(st.fromString(e,...t));return z0(i),new qn(n.firestore,n instanceof Oi?n.converter:null,new we(i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const H0="AsyncQueue";class G0{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new o2(this,"async_queue_retry"),this.rc=()=>{const i=Ef();i&&ce(H0,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Ef();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Ef();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ri;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!aa(e))throw e;ce(H0,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Zr("INTERNAL UNHANDLED ERROR: ",W0(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const s=rm.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(s),s}oc(){this.Xu&&ke(47125,{cc:W0(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function W0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class lm extends Ph{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new G0,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G0(e),this._firestoreClient=void 0,await e}}}function G_(n,e){const t=typeof n=="object"?n:NC(),i=typeof n=="string"?n:Wc,s=IC(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=gk("firestore");l&&q_(s,...l)}return s}function k2(n){if(n._terminated)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||W_(n),n._firestoreClient}function W_(n){var e,t,i;const s=n._freezeSettings(),l=function(c,d,p,y){return new c4(c,d,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,E2(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new V_(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}}(n._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Js(Qt.fromBase64String(e))}catch(t){throw new fe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Js(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class um{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cm{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(t,i){if(t.length!==i.length)return!1;for(let s=0;s<t.length;++s)if(t[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const K_=/^__.*__$/;class Q_{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,t,this.fieldTransforms):new zl(e,this.data,t,this.fieldTransforms)}}function C2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ic:n})}}class fm{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new fm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:i,Rc:!1});return s.Vc(e),s}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:i,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return rh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(C2(this.Ic)&&K_.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Y_{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ch(e)}bc(e,t,i,s=!1){return new fm({Ic:e,methodName:t,wc:i,path:Kt.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I2(n){const e=n._freezeSettings(),t=Ch(n._databaseId);return new Y_(n._databaseId,!!e.ignoreUndefinedProperties,t)}function X_(n,e,t,i,s,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,e,t,s);P2("Data must be an object, but it was:",c,i);const d=_2(i,c);let p,y;if(l.merge)p=new cr(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const S=J_(e,w,t);if(!c.contains(S))throw new fe(Y.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);t3(v,S)||v.push(S)}p=new cr(v),y=c.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=c.fieldTransforms;return new Q_(new $n(d),p,y)}class pm extends cm{_toFieldTransform(e){return new M4(e.path,new Nl)}isEqual(e){return e instanceof pm}}function Z_(n,e,t,i=!1){return mm(t,n.bc(i?4:3,e))}function mm(n,e){if(D2(n=Gs(n)))return P2("Unsupported field value:",e,n),_2(n,e);if(n instanceof cm)return function(t,i){if(!C2(i.Ic))throw i.gc(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(t,i){const s=[];let l=0;for(const c of t){let d=mm(c,i.fc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}}(n,e)}return function(t,i){if((t=Gs(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return R4(i.serializer,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){const s=Pt.fromDate(t);return{timestampValue:Zc(i.serializer,s)}}if(t instanceof Pt){const s=new Pt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Zc(i.serializer,s)}}if(t instanceof hm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Js)return{bytesValue:Kw(i.serializer,t._byteString)};if(t instanceof qn){const s=i.databaseId,l=t.firestore._databaseId;if(!l.isEqual(s))throw i.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Kp(t.firestore._databaseId||i.databaseId,t._key.path)}}if(t instanceof dm)return function(s,l){return{mapValue:{fields:{[xw]:{stringValue:Ew},[Kc]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw l.gc("VectorValues must only contain numeric values.");return Hp(l.serializer,c)})}}}}}}(t,i);throw i.gc(`Unsupported field value: ${Dh(t)}`)}(n,e)}function _2(n,e){const t={};return mw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(n,(i,s)=>{const l=mm(s,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function D2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof hm||n instanceof Js||n instanceof qn||n instanceof cm||n instanceof dm)}function P2(n,e,t){if(!D2(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const i=Dh(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function J_(n,e,t){if((e=Gs(e))instanceof um)return e._internalPath;if(typeof e=="string")return A2(n,e);throw rh("Field path arguments must be of type string or ",n,!1,void 0,t)}const e3=new RegExp("[~\\*/\\[\\]]");function A2(n,e,t){if(e.search(e3)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new um(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rh(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${s}`),p+=")"),new fe(Y.INVALID_ARGUMENT,d+n+p)}function t3(n,e){return n.some(t=>t.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class N2{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class n3 extends N2{data(){return super.data()}}function gm(n,e){return typeof e=="string"?A2(n,e):e instanceof um?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function r3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ym{}class vm extends ym{}function K0(n,e,...t){let i=[];e instanceof ym&&i.push(e),i=i.concat(t),function(s){const l=s.filter(d=>d instanceof wm).length,c=s.filter(d=>d instanceof bm).length;if(l>1||l>0&&c>0)throw new fe(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class bm extends vm{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new bm(e,t,i)}_apply(e){const t=this._parse(e);return R2(e._query,t),new $i(e.firestore,e.converter,ip(e._query,t))}_parse(e){const t=I2(e.firestore);return function(i,s,l,c,d,p,y){let v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new fe(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Z0(y,p);const w=[];for(const S of y)w.push(X0(c,i,S));v={arrayValue:{values:w}}}else v=X0(c,i,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Z0(y,p),v=Z_(l,s,y,p==="in"||p==="not-in");return Tt.create(d,p,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class wm extends ym{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let l=i;const c=s.getFlattenedFilters();for(const d of c)R2(l,d),l=ip(l,d)}(e._query,t),new $i(e.firestore,e.converter,ip(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xm extends vm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new xm(e,t)}_apply(e){const t=function(i,s,l){if(i.startAt!==null)throw new fe(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Al(s,l)}(e._query,this._field,this._direction);return new $i(e.firestore,e.converter,function(i,s){const l=i.explicitOrderBy.concat([s]);return new la(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Q0(n,e="asc"){const t=e,i=gm("orderBy",n);return xm._create(i,t)}class Em extends vm{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Em(e,t,i)}_apply(e){return new $i(e.firestore,e.converter,Yc(e._query,this._limit,this._limitType))}}function Y0(n){return $_("limit",n),Em._create("limit",n,"F")}function X0(n,e,t){if(typeof(t=Gs(t))=="string"){if(t==="")throw new fe(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Aw(e)&&t.indexOf("/")!==-1)throw new fe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(st.fromString(t));if(!we.isDocumentKey(i))throw new fe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return u0(n,new we(i))}if(t instanceof qn)return u0(n,t._key);throw new fe(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(t)}.`)}function Z0(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function R2(n,e){const t=function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class i3{convertValue(e,t="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return No(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Kc].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>wt(c.doubleValue));return new dm(l)}convertGeoPoint(e){return new hm(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=wh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const t=Mi(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=st.fromString(e);Ye(e2(i),9688,{name:e});const s=new Dl(i.get(1),i.get(3)),l=new we(i.popFirst(5));return s.isEqual(t)||Zr(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function o3(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class s3 extends N2{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(gm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Oc extends s3{data(e={}){return super.data(e)}}class a3{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new vc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Oc(this._firestore,this._userDataWriter,i.key,i,new vc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new Oc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new vc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const d=new Oc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new vc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),y=l.indexOf(c.doc.key)),{type:l3(c.type),doc:d,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function l3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:n})}}class u3 extends i3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Js(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,t)}}function J0(n){n=nh(n,$i);const e=nh(n.firestore,lm),t=k2(e),i=new u3(e);return r3(n._query),z_(t,n._query).then(s=>new a3(e,i,n,s))}function c3(n,e){const t=nh(n.firestore,lm),i=H_(n),s=o3(n.converter,e);return h3(t,[X_(I2(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Kr.exists(!1))]).then(()=>i)}function h3(n,e){return function(t,i){const s=new Ri;return t.asyncQueue.enqueueAndForget(async()=>I_(await j_(t),i,s)),s.promise}(k2(n),e)}function d3(){return new pm("serverTimestamp")}(function(n,e=!0){(function(t){oa=t})(AC),Hc(new kl("firestore",(t,{instanceIdentifier:i,options:s})=>{const l=t.getProvider("app").getImmediate(),c=new lm(new WC(t.getProvider("auth-internal")),new YC(l,t.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new fe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(d.options.projectId,p)}(l,i),l);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Fs(Xv,Zv,n),Fs(Xv,Zv,"esm2017")})();const f3={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Lc={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:"G-XFYD9QX8LN"},p3=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID"],e1=p3.filter(n=>!f3[n]);let t1,Bs;if(e1.length>0)console.error("❌ 缺少必要的Firebase环境变量:",e1),console.error("请检查GitHub Secrets或本地.env文件"),Bs=null;else try{t1=tw(Lc),Bs=G_(t1),console.log("🔥 Firebase通过环境变量初始化成功")}catch(n){console.error("❌ Firebase初始化失败:",n),Bs=null}console.log("🔥 ChatService Firebase配置状态:",{projectId:Lc.projectId||"❌未设置",authDomain:Lc.authDomain||"❌未设置",apiKey:Lc.apiKey?"✅已设置":"❌未设置",dbInitialized:!!Bs,hasEnvVars:{apiKey:!1,authDomain:!1,projectId:!1,storageBucket:!1,messagingSenderId:!1,appId:!1}});class m3{constructor(){this.db=null,this.isInitialized=!1,this.isOnline=!0,this.offlineMessages=[],this.initialize()}async initialize(){if(console.log("🔥 ChatService初始化开始..."),Bs?(this.db=Bs,console.log("✅ 使用环境变量初始化的Firebase")):(console.log("🏭 生产环境：只使用环境变量配置"),this.db=null),!this.db){console.error("❌ Firebase数据库未初始化，切换到离线模式"),console.error("请检查："),console.error("1. GitHub Secrets是否正确设置"),console.error("2. 环境变量是否正确传递"),this.isOnline=!1,this.isInitialized=!0;return}try{await this.testConnection(),this.isInitialized=!0,this.isOnline=!0,console.log("✅ ChatService初始化成功")}catch(e){console.error("❌ ChatService初始化失败:",e),this.isOnline=!1,this.isInitialized=!0,console.log("📱 切换到离线模式")}}async testConnection(){console.log("🔍 测试Firebase连接...");try{const e=K0(Tf(this.db,"chat_messages"),Q0("timestamp","desc"),Y0(1)),t=await J0(e);return console.log("✅ Firebase连接测试成功"),!0}catch(e){throw console.error("❌ Firebase连接测试失败:",e),e.code==="permission-denied"?console.error("🔒 权限被拒绝 - 检查Firestore安全规则"):e.code==="unauthenticated"?console.error("🔑 未认证 - 检查API密钥配置"):e.code==="unavailable"?console.error("🌐 服务不可用 - 检查网络连接"):console.error("❓ 未知错误:",e.message),e}}async sendMessage(e){if(console.log("📤 发送消息:",e),this.isInitialized||(console.log("⏳ 等待初始化完成..."),await this.waitForInitialization()),!this.isOnline||!this.db)return console.log("📱 离线模式 - 保存到本地"),this.offlineMessages.push(e),{success:!0,offline:!0};try{const t={...e,timestamp:d3(),createdAt:new Date().toISOString()};console.log("💾 写入Firestore:",t);const i=await c3(Tf(this.db,"chat_messages"),t);return console.log("✅ 消息发送成功, ID:",i.id),{success:!0,id:i.id}}catch(t){if(console.error("❌ 发送消息失败:",t),t.code==="unavailable"||t.message.includes("fetch"))return console.log("🔄 切换到离线模式"),this.isOnline=!1,this.offlineMessages.push(e),{success:!0,offline:!0};throw t}}async getMessages(e=50){if(console.log("📖 获取消息列表..."),this.isInitialized||await this.waitForInitialization(),!this.isOnline||!this.db)return console.log("📱 离线模式 - 返回本地消息"),this.offlineMessages;try{const t=K0(Tf(this.db,"chat_messages"),Q0("timestamp","desc"),Y0(e)),i=await J0(t),s=[];return i.forEach(l=>{s.push({id:l.id,...l.data()})}),console.log(`✅ 获取到${s.length}条消息`),s.reverse()}catch(t){if(console.error("❌ 获取消息失败:",t),t.code==="unavailable")return this.isOnline=!1,this.offlineMessages;throw t}}async waitForInitialization(e=5e3){const t=Date.now();for(;!this.isInitialized&&Date.now()-t<e;)await new Promise(i=>setTimeout(i,100));if(!this.isInitialized)throw new Error("ChatService初始化超时")}cleanup(){console.log("🧹 清理ChatService资源...")}getStatus(){return{initialized:this.isInitialized,online:this.isOnline,offlineMessages:this.offlineMessages.length}}}const kf=new m3,g3=IT`
  0% {
    opacity: 0;
    transform: scale(0.95);
    filter: blur(5px);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: blur(0px);
  }
`,y3=xe.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  margin: 0;
  padding: 0;
  border: none;
  outline: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: white;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  z-index: 1000;
  overflow: hidden;
  animation: ${g3} 0.8s ease-out;
  
  /* 背景图片层 - 使用绝对定位确保完全覆盖 */
  &::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    z-index: -2;
    transform: scale(1.1);
    transform-origin: center center;
  }
  
  /* 动态背景图片层 */
  &::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-image: inherit;
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    z-index: -1;
    transform: scale(1.1);
    transform-origin: center center;
    transition: background-image 2s ease-in-out;
  }
`,v3=xe.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.3);
  z-index: 1;
`,b3=xe.div`
  position: relative;
  z-index: 2;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 40px;
  width: 90%;
  max-width: 1200px;
  height: 80%;
`,w3=xe.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
`,x3=xe.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-left: 60px;
`,E3=xe.div`
  display: flex;
  align-items: center;
  margin-bottom: 40px;
  
  .dynamic-clock {
    width: 60px;
    height: 60px;
    border: 3px solid white;
    border-radius: 50%;
    margin-right: 15px;
    position: relative;
    background: rgba(255, 255, 255, 0.1);
    
    /* 12点刻度 */
    .hour-mark {
      position: absolute;
      width: 1.5px;
      height: 6px;
      background: rgba(255, 255, 255, 0.8);
      top: 3px;
      left: 50%;
      transform-origin: 50% 27px;
      transform: translateX(-50%);
      border-radius: 1px;
      
      &:nth-child(1) { transform: translateX(-50%) rotate(0deg); }
      &:nth-child(2) { transform: translateX(-50%) rotate(30deg); }
      &:nth-child(3) { transform: translateX(-50%) rotate(60deg); }
      &:nth-child(4) { transform: translateX(-50%) rotate(90deg); }
      &:nth-child(5) { transform: translateX(-50%) rotate(120deg); }
      &:nth-child(6) { transform: translateX(-50%) rotate(150deg); }
      &:nth-child(7) { transform: translateX(-50%) rotate(180deg); }
      &:nth-child(8) { transform: translateX(-50%) rotate(210deg); }
      &:nth-child(9) { transform: translateX(-50%) rotate(240deg); }
      &:nth-child(10) { transform: translateX(-50%) rotate(270deg); }
      &:nth-child(11) { transform: translateX(-50%) rotate(300deg); }
      &:nth-child(12) { transform: translateX(-50%) rotate(330deg); }
      
      /* 主要时间点（12, 3, 6, 9点）更粗更长 */
      &:nth-child(1), &:nth-child(4), &:nth-child(7), &:nth-child(10) {
        width: 2.5px;
        height: 10px;
        background: white;
        top: 2px;
      }
    }
    
    /* 中心点 */
    &::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 4px;
      height: 4px;
      background: white;
      border-radius: 50%;
      transform: translate(-50%, -50%);
      z-index: 3;
    }
    
    .hour-hand {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 2px;
      height: 16px;
      background: white;
      transform-origin: bottom center;
      transform: translate(-50%, -100%);
      border-radius: 1px;
      z-index: 2;
    }
    
    .minute-hand {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 2px;
      height: 22px;
      background: white;
      transform-origin: bottom center;
      transform: translate(-50%, -100%);
      border-radius: 0.5px;
      z-index: 2;
    }
    
    .second-hand {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0.5px;
      height: 24px;
      background: #ff4444;
      transform-origin: bottom center;
      transform: translate(-50%, -100%);
      border-radius: 0.25px;
      z-index: 3;
      transition: transform 0.1s ease-out;
    }
  }
  
  .logo-text {
    font-size: 2.5rem;
    font-weight: 300;
    font-style: italic;
  }
`,S3=xe.div`
  background: rgba(0, 0, 0, 0.4);
  padding: 30px;
  border-radius: 10px;
  margin-bottom: 30px;
  width: 500px;
  
  .quote-text {
    font-size: 1.1rem;
    line-height: 1.6;
    margin-bottom: 10px;
  }
  
  .quote-author {
    font-size: 0.9rem;
    opacity: 0.8;
    text-align: right;
  }
`,T3=xe.div`
  background: rgba(0, 0, 0, 0.4);
  padding: 30px;
  border-radius: 15px;
  text-align: center;
  margin-bottom: 30px;
  width: 400px;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:hover {
    background: rgba(0, 0, 0, 0.5);
    transform: translateY(-2px);
  }
  
  .date {
    font-size: 1rem;
    opacity: 0.8;
    margin-bottom: 10px;
  }
  
  .time {
    font-size: 3rem;
    font-weight: 300;
    margin-bottom: 15px;
    font-family: 'Courier New', monospace;
  }
  
  .weather {
    font-size: 1.1rem;
    opacity: 0.9;
  }
`,k3=xe.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  width: 350px;
`,Is=xe.div`
  background: rgba(0, 0, 0, 0.4);
  padding: 20px;
  border-radius: 10px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:hover {
    background: rgba(0, 0, 0, 0.5);
    transform: translateY(-2px);
  }
  
  .icon {
    font-size: 1.5rem;
    margin-bottom: 8px;
  }
  
  .label {
    font-size: 0.9rem;
  }
`,C3=xe.button`
  position: absolute;
  top: 20px;
  left: 20px;
  background: rgba(0, 0, 0, 0.4);
  border: none;
  color: white;
  padding: 8px 16px;
  border-radius: 20px;
  cursor: pointer;
  font-size: 0.9rem;
  z-index: 3;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 6px;
  
  &:hover {
    background: rgba(0, 0, 0, 0.6);
    transform: translateX(-2px);
  }
`,I3=xe.div`
  position: absolute;
  top: 20px;
  right: 20px;
  background: rgba(0, 0, 0, 0.4);
  padding: 10px 15px;
  border-radius: 20px;
  font-size: 0.9rem;
  z-index: 3;
  
  .status-dot {
    display: inline-block;
    width: 8px;
    height: 8px;
    background: #4CAF50;
    border-radius: 50%;
    margin-right: 8px;
  }
`,_3=xe.div`
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 0.8rem;
  opacity: 0.7;
  z-index: 3;
`,D3=xe.div`
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  border-radius: 15px;
  padding: 12px 16px;
  margin-top: 0px;
  width: 525px;
  
  .music-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: 4px;
    
    .nav-btn {
      width: 26px;
      height: 26px;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      font-size: 0.7rem;
      flex-shrink: 0;
      
      &:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: scale(1.1);
      }
    }
    
    .music-info {
      display: flex;
      align-items: center;
      gap: 8px;
      justify-content: center;
      min-width: 0;
      flex: 1;
      
      .song-title {
        font-size: 0.9rem;
        font-weight: 500;
        color: white;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 140px;
      }
      
      .separator {
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.8rem;
        flex-shrink: 0;
      }
      
      .song-artist {
        font-size: 0.8rem;
        color: rgba(255, 255, 255, 0.7);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 80px;
      }
      
      .time-separator {
        color: rgba(255, 255, 255, 0.4);
        font-size: 0.7rem;
        flex-shrink: 0;
        margin: 0 4px;
      }
      
      .time-display {
        font-size: 0.7rem;
        color: rgba(255, 255, 255, 0.6);
        font-family: 'Courier New', monospace;
        flex-shrink: 0;
      }
    }
  }
  
  .music-controls-row {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 8px;
    
    .play-controls {
      display: flex;
      align-items: center;
      gap: 6px;
      flex-shrink: 0;
      
      .control-btn {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        width: 26px;
        height: 26px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        font-size: 0.75rem;
        
        &:hover {
          background: rgba(255, 255, 255, 0.3);
          transform: scale(1.1);
        }
        
        &.play-btn {
          background: linear-gradient(135deg, #667eea, #764ba2);
          
          &:hover {
            background: linear-gradient(135deg, #5a6fd8, #6a4190);
          }
        }
      }
    }
    
    .progress-wrapper {
      flex: 1;
      min-width: 0;
    }
  }
  
  .progress-container {
    .progress-bar {
      width: 100%;
      height: 4px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 2px;
      cursor: pointer;
      position: relative;
      transition: all 0.3s ease;
      
      &:hover {
        height: 6px;
        background: rgba(255, 255, 255, 0.3);
      }
      
      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #667eea, #764ba2);
        border-radius: 2px;
        transition: width 0.1s ease;
        position: relative;
        
        &::after {
          content: '';
          position: absolute;
          right: -1px;
          top: 50%;
          width: 8px;
          height: 8px;
          background: white;
          border-radius: 50%;
          transform: translateY(-50%);
          opacity: 0;
          transition: opacity 0.3s ease;
          box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }
      }
      
      &:hover .progress-fill::after {
        opacity: 1;
      }
    }
  }
`,P3=xe.div`
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  border-radius: 15px;
  padding: 16px;
  margin-top: 20px;
  width: 525px;
  
  .message-input-container {
    display: flex;
    gap: 8px;
    align-items: center;
    
    .message-input {
      flex: 1;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      padding: 8px 16px;
      color: white;
      font-size: 0.9rem;
      outline: none;
      transition: all 0.3s ease;
      
      &::placeholder {
        color: rgba(255, 255, 255, 0.5);
      }
      
      &:focus {
        background: rgba(255, 255, 255, 0.15);
        border-color: rgba(255, 255, 255, 0.4);
      }
    }
    
    .send-btn {
      background: linear-gradient(135deg, #667eea, #764ba2);
      border: none;
      color: white;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      font-size: 0.9rem;
      
      &:hover {
        background: linear-gradient(135deg, #5a6fd8, #6a4190);
        transform: scale(1.1);
      }
      
      &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
      }
    }
  }
  
  .message-stats {
    margin-top: 8px;
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.6);
    text-align: center;
  }
`,A3=xe.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
  z-index: 1000;
  overflow: hidden;
`,N3=xe.div`
  position: absolute;
  color: rgba(255, 255, 255, 0.8);
  font-size: 0.9rem;
  font-weight: 400;
  white-space: nowrap;
  animation: danmaku-move 30s linear infinite;
  background: ${n=>n.color||"rgba(0, 0, 0, 0.4)"};
  padding: 8px 16px;
  border-radius: 18px;
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.05);
  top: ${n=>n.top}%;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  gap: 6px;
  opacity: 0.7;
  
  @keyframes danmaku-move {
    from {
      transform: translateX(100vw);
    }
    to {
      transform: translateX(-100%);
    }
  }
`,bc=["/Life/Background/1.png","/Life/Background/2.png","/Life/Background/3.png","/Life/Background/4.png","/Life/Background/5.png","/Life/Background/6.png","/Life/Background/7.png","/Life/Background/8.png","/Life/Background/9.png","/Life/Background/10.png","/Life/Background/11.png"],ki=[{title:"Pachelbel's Canon",artist:"Classical",file:"pachelbelx27s-canon-canon-in-d-307320.mp3"},{title:"Pure Theta Piano",artist:"Meditation",file:"pure-theta-4-7hz-with-emotional-piano-music-351393.mp3"},{title:"Relaxing Birds & Piano",artist:"Nature Sounds",file:"relaxing-birds-and-piano-music-137153.mp3"},{title:"Celestial Prayer",artist:"Meditation",file:"celestial-prayer-heavenly-meditation-peaceful-music-353893.mp3"},{title:"Forest Melody",artist:"Nature Sounds",file:"forest-melody-background-music-for-meditation-and-yoga-314446.mp3"},{title:"Path to Harmony",artist:"Peaceful",file:"path-to-harmony-313385.mp3"},{title:"Inner Peace",artist:"Meditation",file:"inner-peace-339640.mp3"}];function R3({onClose:n}){const[e,t]=ie.useState(new Date),[i,s]=ie.useState(0),[l,c]=ie.useState({temperature:"--",condition:"Loading",windDirection:"--",windSpeed:"--",loading:!0,location:"Hong Kong"}),d=ie.useRef(null),[p,y]=ie.useState(!1),[v,w]=ie.useState(0),[S,D]=ie.useState(0),[N,M]=ie.useState(0),[L,H]=ie.useState(""),[W,Q]=ie.useState([]),[J,ee]=ie.useState([]),[re,C]=ie.useState(0),[T,I]=ie.useState([]),[P,O]=ie.useState([]),F=async()=>{try{console.log("🌤️ 尝试获取真实天气数据...");const te=await fetch("https://wttr.in/Hong%20Kong?format=j1",{method:"GET",headers:{Accept:"application/json"}});if(te.ok){const pe=await te.json();console.log("✅ 真实天气数据:",pe);const be=pe.current_condition[0];return{temperature:be.temp_C,condition:Ze(be.weatherDesc[0].value),windDirection:be.winddir16Point,windSpeed:be.windspeedKmph,loading:!1,location:"Hong Kong",description:be.weatherDesc[0].value+" (真实数据)",humidity:be.humidity,pressure:be.pressure,realTime:!0}}throw new Error("API响应失败")}catch(te){return console.log("❌ 真实天气API不可用:",te.message),null}},_=async()=>{try{c(Wn=>({...Wn,loading:!0})),console.log("🌤️ 正在获取天气数据...");const te=await F();if(te){c(te);return}console.log("🔄 使用智能估算天气数据...");const pe=new Date,be=pe.getHours(),Pe=pe.getMonth()+1;let Xe,zt;Pe>=12||Pe<=2?(Xe=18+Math.sin((be-6)*Math.PI/12)*4,zt=["Clear","Partly Cloudy"]):Pe>=3&&Pe<=5?(Xe=24+Math.sin((be-6)*Math.PI/12)*5,zt=["Partly Cloudy","Cloudy"]):Pe>=6&&Pe<=8?(Xe=30+Math.sin((be-6)*Math.PI/12)*4,zt=["Sunny","Partly Cloudy"]):(Xe=26+Math.sin((be-6)*Math.PI/12)*4,zt=["Clear","Sunny"]);const Gn={temperature:Math.round(Xe).toString(),condition:zt[Math.floor(Math.random()*zt.length)],windDirection:["SE","E","NE"][Math.floor(Math.random()*3)],windSpeed:(8+Math.floor(Math.random()*8)).toString(),loading:!1,location:"Hong Kong",description:"基于气候数据的智能估算",realTime:!1};c(Gn),console.log("✅ 智能估算天气数据:",Gn)}catch(te){console.error("❌ 获取天气数据失败:",te),c({temperature:"25",condition:"Partly Cloudy",windDirection:"SE",windSpeed:"10",loading:!1,location:"Hong Kong",description:"默认天气数据",realTime:!1})}},Ze=te=>{const pe=te.toLowerCase();return pe.includes("sunny")||pe.includes("clear")?"Sunny":pe.includes("partly cloudy")||pe.includes("few clouds")?"Partly Cloudy":pe.includes("cloud")||pe.includes("overcast")?"Cloudy":pe.includes("rain")||pe.includes("shower")||pe.includes("drizzle")?"Rain":pe.includes("snow")||pe.includes("blizzard")?"Snow":pe.includes("fog")||pe.includes("mist")||pe.includes("haze")?"Fog":"Partly Cloudy"},Fe=async()=>{const te=L.trim();if(console.log("🚀 开始发送消息:",te),!te){console.log("❌ 消息为空，取消发送");return}H(""),he(te);try{console.log("📤 尝试发送到Firebase数据库...");const pe={text:te,anonymous:!0,anonymousName:Ke()},be=await kf.sendMessage(pe);console.log("✅ 消息发送结果:",be);const Pe=await kf.getMessages();I(Pe),C(Pe.length),console.log("✅ 消息计数已更新:",Pe.length)}catch(pe){console.error("❌ 发送消息失败，使用离线模式:",pe),C(Pe=>{const Xe=Pe+1;return console.log("📊 离线模式消息计数更新:",Xe),Xe});const be={id:"local_"+Date.now(),text:te,anonymousName:Ke(),offline:!0};O(Pe=>{const Xe=[...Pe,be].slice(-20);return console.log("📝 本地弹幕池已更新，当前数量:",Xe.length),Xe}),console.log("✅ 消息已保存到本地模式")}},Ke=()=>{const te=["Mysterious","Happy","Wise","Brave","Gentle","Lively","Quiet","Friendly"],pe=["Traveler","Explorer","Dreamer","Thinker","Creator","Observer","Learner","Adventurer"],be=te[Math.floor(Math.random()*te.length)],Pe=pe[Math.floor(Math.random()*pe.length)],Xe=Math.floor(Math.random()*999)+1;return`${be} ${Pe} ${Xe}`},je=()=>{const te=["rgba(102, 126, 234, 0.9)","rgba(118, 75, 162, 0.9)","rgba(255, 107, 107, 0.9)","rgba(78, 205, 196, 0.9)","rgba(255, 195, 113, 0.9)","rgba(199, 121, 208, 0.9)"];return te[Math.floor(Math.random()*te.length)]},se=()=>{const te=["✨","🌟","💫","⭐","🎈","🎉","🎊","💝","🌸","🌺","🌻","🌷","🦋","🐝","🌈","☀️","🌙","⚡","💎","🔮"],pe=["💕","💖","💗","💘","💙","💚","💛","🧡","💜","🤍","🖤","❤️","💯","✅","🎯","🏆","🎪","🎭","🎨","🎵"],be=Math.random()<.7?te[Math.floor(Math.random()*te.length)]:"",Pe=Math.random()<.7?pe[Math.floor(Math.random()*pe.length)]:"";return{prefixIcon:be,suffixIcon:Pe}},he=te=>{const{prefixIcon:pe,suffixIcon:be}=se(),Pe=`${pe} ${te} ${be}`.trim(),Xe={id:Date.now()+Math.random(),text:Pe,top:Math.random()*60+10,color:je()};ee(zt=>[...zt,Xe]),setTimeout(()=>{ee(zt=>zt.filter(Gn=>Gn.id!==Xe.id))},3e4)},le=te=>{te.key==="Enter"&&Fe()};ie.useEffect(()=>{console.log("✅ Life组件已成功挂载");const te=setInterval(()=>{t(new Date)},1e3);_();const pe=setInterval(_,600*1e3);return(async()=>{try{const be=await kf.getMessages();I(be),C(be.length);const Pe=be.filter(Xe=>(Xe.text||Xe.message||"").trim()).slice(0,20);O(Pe),console.log("✅ Firebase消息加载成功:",be.length,"条消息，弹幕池:",Pe.length,"条")}catch(be){console.error("❌ Firebase消息加载失败:",be)}})(),()=>{console.log("Life组件卸载"),clearInterval(te),clearInterval(pe)}},[]),ie.useEffect(()=>{if(P.length===0)return;const te=setInterval(()=>{if(J.length<20&&P.length>0)for(let pe=0;pe<1;pe++){const be=P[Math.floor(Math.random()*P.length)],Pe=be.text||be.message||"";Pe.trim()&&he(Pe)}},1e3);return()=>clearInterval(te)},[P,J]),ie.useEffect(()=>{const te=Math.floor(Math.random()*bc.length);s(te);const pe=setInterval(()=>{s(be=>{let Pe;do Pe=Math.floor(Math.random()*bc.length);while(Pe===be&&bc.length>1);return Pe})},6e4);return()=>clearInterval(pe)},[]),ie.useEffect(()=>{const te=d.current;if(!te)return;const pe=()=>M(te.currentTime),be=()=>D(te.duration),Pe=()=>{const Xe=Math.floor(Math.random()*ki.length);w(Xe)};return te.addEventListener("timeupdate",pe),te.addEventListener("loadedmetadata",be),te.addEventListener("ended",Pe),()=>{te.removeEventListener("timeupdate",pe),te.removeEventListener("loadedmetadata",be),te.removeEventListener("ended",Pe)}},[v]),ie.useEffect(()=>{const te=d.current;te&&p&&(te.load(),te.play().then(()=>{y(!0)}).catch(pe=>{console.log("切换歌曲播放失败:",pe),y(!1)}))},[v]),ie.useEffect(()=>{const te=d.current;if(te){const pe=Math.floor(Math.random()*ki.length);w(pe),setTimeout(()=>{te.play().then(()=>{y(!0)}).catch(be=>{console.log("自动播放被浏览器阻止:",be)})},500)}},[]);const V=()=>{const te=d.current;p?(te.pause(),y(!1)):(te.play(),y(!0))},G=()=>{const te=Math.floor(Math.random()*ki.length);w(te)},ye=()=>{const te=(v+1)%ki.length;w(te)},Ie=()=>{const te=v===0?ki.length-1:v-1;w(te)},_e=()=>{G()},Ne=te=>{const pe=d.current,be=te.currentTarget.getBoundingClientRect(),Pe=(te.clientX-be.left)/be.width*S;pe.currentTime=Pe},Oe=te=>{if(isNaN(te))return"0:00";const pe=Math.floor(te/60),be=Math.floor(te%60);return`${pe}:${be.toString().padStart(2,"0")}`},Le=te=>{try{return te.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(pe){return console.error("时间格式化错误:",pe),"00:00:00"}},Be=()=>{const te={year:"numeric",month:"long",day:"numeric",weekday:"long"};return e.toLocaleDateString("en-US",te)},lt=te=>({Sunny:"☀️",Clear:"🌙","Partly Cloudy":"⛅",Cloudy:"☁️",Rain:"🌧️",Snow:"❄️",Fog:"🌫️"})[te]||"🌤️",Nt=te=>{const pe=te.getHours()%12,be=te.getMinutes(),Pe=te.getSeconds(),Xe=Pe*6,zt=be*6+Pe*.1;return{hourAngle:pe*30+be*.5,minuteAngle:zt,secondAngle:Xe}},Bt=()=>{console.log("返回按钮被点击"),n&&typeof n=="function"&&n()};return $.jsxs(y3,{style:{backgroundImage:`url(${bc[i]})`},children:[$.jsx(v3,{}),$.jsx(C3,{onClick:Bt,children:"← Leave"}),$.jsxs(I3,{children:[$.jsx("span",{className:"status-dot"}),"Status: Live"]}),$.jsxs(b3,{children:[$.jsxs(w3,{children:[$.jsxs(E3,{children:[$.jsxs("div",{className:"dynamic-clock",children:[Array.from({length:12},(te,pe)=>$.jsx("div",{className:"hour-mark"},pe)),$.jsx("div",{className:"hour-hand",style:{transform:`translate(-50%, -100%) rotate(${Nt(e).hourAngle}deg)`}}),$.jsx("div",{className:"minute-hand",style:{transform:`translate(-50%, -100%) rotate(${Nt(e).minuteAngle}deg)`}}),$.jsx("div",{className:"second-hand",style:{transform:`translate(-50%, -100%) rotate(${Nt(e).secondAngle}deg)`}})]}),$.jsx("div",{className:"logo-text",children:"Kangyu.Space"})]}),$.jsxs(S3,{children:[$.jsx("div",{className:"quote-text",children:'"To see the world, things dangerous to come to, to see behind walls, to draw closer, to find each other, and to feel. That is the purpose of life."'}),$.jsx("div",{className:"quote-author",children:"- The Secret Life of Walter Mitty"})]}),$.jsxs(D3,{children:[$.jsx("audio",{ref:d,src:`/Life/Musics/${ki[v].file}`,preload:"metadata"}),$.jsxs("div",{className:"music-controls-row",children:[$.jsxs("div",{className:"play-controls",children:[$.jsx("button",{className:"control-btn play-btn",onClick:V,children:p?"⏸️":"▶️"}),$.jsx("button",{className:"control-btn",onClick:_e,title:"Shuffle",children:"🔀"})]}),$.jsx("div",{className:"progress-wrapper",children:$.jsx("div",{className:"progress-container",children:$.jsx("div",{className:"progress-bar",onClick:Ne,children:$.jsx("div",{className:"progress-fill",style:{width:`${S?N/S*100:0}%`}})})})})]}),$.jsxs("div",{className:"music-footer",children:[$.jsx("button",{className:"nav-btn",onClick:Ie,title:"Previous Song",children:"⏮️"}),$.jsxs("div",{className:"music-info",children:[$.jsx("div",{className:"song-title",children:ki[v].title}),$.jsx("div",{className:"separator",children:"-"}),$.jsx("div",{className:"song-artist",children:ki[v].artist}),$.jsx("div",{className:"time-separator",children:"•"}),$.jsxs("div",{className:"time-display",children:[Oe(N)," / ",Oe(S)]})]}),$.jsx("button",{className:"nav-btn",onClick:ye,title:"Next Song",children:"⏭️"})]})]}),$.jsxs(P3,{children:[$.jsxs("div",{className:"message-input-container",children:[$.jsx("input",{type:"text",className:"message-input",placeholder:"Leave your footprint...",value:L,onChange:te=>H(te.target.value),onKeyPress:le,maxLength:100}),$.jsx("button",{className:"send-btn",onClick:Fe,disabled:!L.trim(),title:"Send Message",children:"📤"})]}),$.jsxs("div",{className:"message-stats",children:[re," messages in database • Random danmaku stream"]})]})]}),$.jsxs(x3,{children:[$.jsxs(T3,{title:"Weather info",children:[$.jsx("div",{className:"date",children:Be()}),$.jsx("div",{className:"time",children:Le(e)}),$.jsx("div",{className:"weather",children:l.loading?"🔄 Loading weather data...":l.temperature==="--"?"❌ Failed to get weather data":`${lt(l.condition)} ${l.location} ${l.condition} ${l.temperature}℃ 💨 ${l.windDirection} ${l.windSpeed}km/h`})]}),$.jsxs(k3,{children:[$.jsxs(Is,{children:[$.jsx("div",{className:"icon",children:"📝"}),$.jsx("div",{className:"label",children:"Research Notes"})]}),$.jsxs(Is,{children:[$.jsx("div",{className:"icon",children:"💬"}),$.jsx("div",{className:"label",children:"Message Board"})]}),$.jsxs(Is,{children:[$.jsx("div",{className:"icon",children:"🎵"}),$.jsx("div",{className:"label",children:"Music"})]}),$.jsxs(Is,{children:[$.jsx("div",{className:"icon",children:"📷"}),$.jsx("div",{className:"label",children:"Photo"})]}),$.jsxs(Is,{children:[$.jsx("div",{className:"icon",children:"🏠"}),$.jsx("div",{className:"label",children:"Homepage"})]}),$.jsxs(Is,{children:[$.jsx("div",{className:"icon",children:"📊"}),$.jsx("div",{className:"label",children:"Data Viz"})]})]})]})]}),$.jsx(_3,{children:"Made by Kangyu YUAN & with the help of @cursor"}),$.jsx(A3,{children:J.map(te=>$.jsx(N3,{top:te.top,color:te.color,children:te.text},te.id))})]})}const Sm=ie.createContext({});function Tm(n){const e=ie.useRef(null);return e.current===null&&(e.current=n()),e.current}const Ah=ie.createContext(null),km=ie.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class O3 extends ie.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function L3({children:n,isPresent:e}){const t=ie.useId(),i=ie.useRef(null),s=ie.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=ie.useContext(km);return ie.useInsertionEffect(()=>{const{width:c,height:d,top:p,left:y}=s.current;if(e||!i.current||!c||!d)return;i.current.dataset.motionPopId=t;const v=document.createElement("style");return l&&(v.nonce=l),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            top: ${p}px !important;
            left: ${y}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),$.jsx(O3,{isPresent:e,childRef:i,sizeRef:s,children:ie.cloneElement(n,{ref:i})})}const M3=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:s,presenceAffectsLayout:l,mode:c})=>{const d=Tm(V3),p=ie.useId(),y=ie.useCallback(w=>{d.set(w,!0);for(const S of d.values())if(!S)return;i&&i()},[d,i]),v=ie.useMemo(()=>({id:p,initial:e,isPresent:t,custom:s,onExitComplete:y,register:w=>(d.set(w,!1),()=>d.delete(w))}),l?[Math.random(),y]:[t,y]);return ie.useMemo(()=>{d.forEach((w,S)=>d.set(S,!1))},[t]),ie.useEffect(()=>{!t&&!d.size&&i&&i()},[t]),c==="popLayout"&&(n=$.jsx(L3,{isPresent:t,children:n})),$.jsx(Ah.Provider,{value:v,children:n})};function V3(){return new Map}function O2(n=!0){const e=ie.useContext(Ah);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:s}=e,l=ie.useId();ie.useEffect(()=>{n&&s(l)},[n]);const c=ie.useCallback(()=>n&&i&&i(l),[l,i,n]);return!t&&i?[!1,c]:[!0]}const wc=n=>n.key||"";function n1(n){const e=[];return ie.Children.forEach(n,t=>{ie.isValidElement(t)&&e.push(t)}),e}const Cm=typeof window<"u",L2=Cm?ie.useLayoutEffect:ie.useEffect,F3=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:l="sync",propagate:c=!1})=>{const[d,p]=O2(c),y=ie.useMemo(()=>n1(n),[n]),v=c&&!d?[]:y.map(wc),w=ie.useRef(!0),S=ie.useRef(y),D=Tm(()=>new Map),[N,M]=ie.useState(y),[L,H]=ie.useState(y);L2(()=>{w.current=!1,S.current=y;for(let J=0;J<L.length;J++){const ee=wc(L[J]);v.includes(ee)?D.delete(ee):D.get(ee)!==!0&&D.set(ee,!1)}},[L,v.length,v.join("-")]);const W=[];if(y!==N){let J=[...y];for(let ee=0;ee<L.length;ee++){const re=L[ee],C=wc(re);v.includes(C)||(J.splice(ee,0,re),W.push(re))}l==="wait"&&W.length&&(J=W),H(n1(J)),M(y);return}const{forceRender:Q}=ie.useContext(Sm);return $.jsx($.Fragment,{children:L.map(J=>{const ee=wc(J),re=c&&!d?!1:y===L||v.includes(ee),C=()=>{if(D.has(ee))D.set(ee,!0);else return;let T=!0;D.forEach(I=>{I||(T=!1)}),T&&(Q?.(),H(S.current),c&&p?.(),i&&i())};return $.jsx(M3,{isPresent:re,initial:!w.current||t?void 0:!1,custom:re?void 0:e,presenceAffectsLayout:s,mode:l,onExitComplete:re?void 0:C,children:J},ee)})})},Dn=n=>n;let M2=Dn;function Im(n){let e;return()=>(e===void 0&&(e=n()),e)}const ea=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Qr=n=>n*1e3,Yr=n=>n/1e3,j3={useManualTiming:!1};function B3(n){let e=new Set,t=new Set,i=!1,s=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(y){l.has(y)&&(p.schedule(y),n()),y(c)}const p={schedule:(y,v=!1,w=!1)=>{const S=w&&i?e:t;return v&&l.add(y),S.has(y)||S.add(y),y},cancel:y=>{t.delete(y),l.delete(y)},process:y=>{if(c=y,i){s=!0;return}i=!0,[e,t]=[t,e],e.forEach(d),e.clear(),i=!1,s&&(s=!1,p.process(y))}};return p}const xc=["read","resolveKeyframes","update","preRender","render","postRender"],z3=40;function V2(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,c=xc.reduce((M,L)=>(M[L]=B3(l),M),{}),{read:d,resolveKeyframes:p,update:y,preRender:v,render:w,postRender:S}=c,D=()=>{const M=performance.now();t=!1,s.delta=i?1e3/60:Math.max(Math.min(M-s.timestamp,z3),1),s.timestamp=M,s.isProcessing=!0,d.process(s),p.process(s),y.process(s),v.process(s),w.process(s),S.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(D))},N=()=>{t=!0,i=!0,s.isProcessing||n(D)};return{schedule:xc.reduce((M,L)=>{const H=c[L];return M[L]=(W,Q=!1,J=!1)=>(t||N(),H.schedule(W,Q,J)),M},{}),cancel:M=>{for(let L=0;L<xc.length;L++)c[xc[L]].cancel(M)},state:s,steps:c}}const{schedule:at,cancel:zi,state:Gt,steps:Cf}=V2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dn,!0),F2=ie.createContext({strict:!1}),r1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ta={};for(const n in r1)ta[n]={isEnabled:e=>r1[n].some(t=>!!e[t])};function U3(n){for(const e in n)ta[e]={...ta[e],...n[e]}}const $3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ih(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||$3.has(n)}let j2=n=>!ih(n);function q3(n){n&&(j2=e=>e.startsWith("on")?!ih(e):n(e))}try{q3(require("@emotion/is-prop-valid").default)}catch{}function H3(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(j2(s)||t===!0&&ih(s)||!e&&!ih(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function G3(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const Nh=ie.createContext({});function Ll(n){return typeof n=="string"||Array.isArray(n)}function Rh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const _m=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dm=["initial",..._m];function Oh(n){return Rh(n.animate)||Dm.some(e=>Ll(n[e]))}function B2(n){return!!(Oh(n)||n.variants)}function W3(n,e){if(Oh(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Ll(t)?t:void 0,animate:Ll(i)?i:void 0}}return n.inherit!==!1?e:{}}function K3(n){const{initial:e,animate:t}=W3(n,ie.useContext(Nh));return ie.useMemo(()=>({initial:e,animate:t}),[i1(e),i1(t)])}function i1(n){return Array.isArray(n)?n.join(" "):n}const Q3=Symbol.for("motionComponentSymbol");function Rs(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Y3(n,e,t){return ie.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Rs(t)&&(t.current=i))},[e])}const Pm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),X3="framerAppearId",z2="data-"+Pm(X3),{schedule:Am}=V2(queueMicrotask,!1),U2=ie.createContext({});function Z3(n,e,t,i,s){var l,c;const{visualElement:d}=ie.useContext(Nh),p=ie.useContext(F2),y=ie.useContext(Ah),v=ie.useContext(km).reducedMotion,w=ie.useRef(null);i=i||p.renderer,!w.current&&i&&(w.current=i(n,{visualState:e,parent:d,props:t,presenceContext:y,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:v}));const S=w.current,D=ie.useContext(U2);S&&!S.projection&&s&&(S.type==="html"||S.type==="svg")&&J3(w.current,t,s,D);const N=ie.useRef(!1);ie.useInsertionEffect(()=>{S&&N.current&&S.update(t,y)});const M=t[z2],L=ie.useRef(!!M&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,M))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,M)));return L2(()=>{S&&(N.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),Am.render(S.render),L.current&&S.animationState&&S.animationState.animateChanges())}),ie.useEffect(()=>{S&&(!L.current&&S.animationState&&S.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{var H;(H=window.MotionHandoffMarkAsComplete)===null||H===void 0||H.call(window,M)}),L.current=!1))}),S}function J3(n,e,t,i){const{layoutId:s,layout:l,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:y}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:$2(n.parent)),n.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!c||d&&Rs(d),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:y})}function $2(n){if(n)return n.options.allowProjection!==!1?n.projection:$2(n.parent)}function e5({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:s}){var l,c;n&&U3(n);function d(y,v){let w;const S={...ie.useContext(km),...y,layoutId:t5(y)},{isStatic:D}=S,N=K3(y),M=i(y,D);if(!D&&Cm){n5();const L=r5(S);w=L.MeasureLayout,N.visualElement=Z3(s,M,S,e,L.ProjectionNode)}return $.jsxs(Nh.Provider,{value:N,children:[w&&N.visualElement?$.jsx(w,{visualElement:N.visualElement,...S}):null,t(s,y,Y3(M,N.visualElement,v),M,D,N.visualElement)]})}d.displayName=`motion.${typeof s=="string"?s:`create(${(c=(l=s.displayName)!==null&&l!==void 0?l:s.name)!==null&&c!==void 0?c:""})`}`;const p=ie.forwardRef(d);return p[Q3]=s,p}function t5({layoutId:n}){const e=ie.useContext(Sm).id;return e&&n!==void 0?e+"-"+n:n}function n5(n,e){ie.useContext(F2).strict}function r5(n){const{drag:e,layout:t}=ta;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const i5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Nm(n){return typeof n!="string"||n.includes("-")?!1:!!(i5.indexOf(n)>-1||/[A-Z]/u.test(n))}function o1(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Rm(n,e,t,i){if(typeof e=="function"){const[s,l]=o1(i);e=e(t!==void 0?t:n.custom,s,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,l]=o1(i);e=e(t!==void 0?t:n.custom,s,l)}return e}const pp=n=>Array.isArray(n),o5=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),s5=n=>pp(n)?n[n.length-1]||0:n,on=n=>!!(n&&n.getVelocity);function Mc(n){const e=on(n)?n.get():n;return o5(e)?e.toValue():e}function a5({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,s,l){const c={latestValues:l5(i,s,l,n),renderState:e()};return t&&(c.onMount=d=>t({props:i,current:d,...c}),c.onUpdate=d=>t(d)),c}const q2=n=>(e,t)=>{const i=ie.useContext(Nh),s=ie.useContext(Ah),l=()=>a5(n,e,i,s);return t?l():Tm(l)};function l5(n,e,t,i){const s={},l=i(n,{});for(const S in l)s[S]=Mc(l[S]);let{initial:c,animate:d}=n;const p=Oh(n),y=B2(n);e&&y&&!p&&n.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let v=t?t.initial===!1:!1;v=v||c===!1;const w=v?d:c;if(w&&typeof w!="boolean"&&!Rh(w)){const S=Array.isArray(w)?w:[w];for(let D=0;D<S.length;D++){const N=Rm(n,S[D]);if(N){const{transitionEnd:M,transition:L,...H}=N;for(const W in H){let Q=H[W];if(Array.isArray(Q)){const J=v?Q.length-1:0;Q=Q[J]}Q!==null&&(s[W]=Q)}for(const W in M)s[W]=M[W]}}}return s}const ca=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mo=new Set(ca),H2=n=>e=>typeof e=="string"&&e.startsWith(n),G2=H2("--"),u5=H2("var(--"),Om=n=>u5(n)?c5.test(n.split("/*")[0].trim()):!1,c5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,W2=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ei=(n,e,t)=>t>e?e:t<n?n:t,ha={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ml={...ha,transform:n=>ei(0,1,n)},Ec={...ha,default:1},Hl=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ii=Hl("deg"),_r=Hl("%"),Te=Hl("px"),h5=Hl("vh"),d5=Hl("vw"),s1={..._r,parse:n=>_r.parse(n)/100,transform:n=>_r.transform(n*100)},f5={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te},p5={rotate:Ii,rotateX:Ii,rotateY:Ii,rotateZ:Ii,scale:Ec,scaleX:Ec,scaleY:Ec,scaleZ:Ec,skew:Ii,skewX:Ii,skewY:Ii,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Ml,originX:s1,originY:s1,originZ:Te},a1={...ha,transform:Math.round},Lm={...f5,...p5,zIndex:a1,size:Te,fillOpacity:Ml,strokeOpacity:Ml,numOctaves:a1},m5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},g5=ca.length;function y5(n,e,t){let i="",s=!0;for(let l=0;l<g5;l++){const c=ca[l],d=n[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||t){const y=W2(d,Lm[c]);if(!p){s=!1;const v=m5[c]||c;i+=`${v}(${y}) `}t&&(e[c]=y)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function Mm(n,e,t){const{style:i,vars:s,transformOrigin:l}=n;let c=!1,d=!1;for(const p in e){const y=e[p];if(Mo.has(p)){c=!0;continue}else if(G2(p)){s[p]=y;continue}else{const v=W2(y,Lm[p]);p.startsWith("origin")?(d=!0,l[p]=v):i[p]=v}}if(e.transform||(c||t?i.transform=y5(e,n.transform,t):i.transform&&(i.transform="none")),d){const{originX:p="50%",originY:y="50%",originZ:v=0}=l;i.transformOrigin=`${p} ${y} ${v}`}}const v5={offset:"stroke-dashoffset",array:"stroke-dasharray"},b5={offset:"strokeDashoffset",array:"strokeDasharray"};function w5(n,e,t=1,i=0,s=!0){n.pathLength=1;const l=s?v5:b5;n[l.offset]=Te.transform(-i);const c=Te.transform(e),d=Te.transform(t);n[l.array]=`${c} ${d}`}function l1(n,e,t){return typeof n=="string"?n:Te.transform(e+t*n)}function x5(n,e,t){const i=l1(e,n.x,n.width),s=l1(t,n.y,n.height);return`${i} ${s}`}function Vm(n,{attrX:e,attrY:t,attrScale:i,originX:s,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:p=0,...y},v,w){if(Mm(n,y,w),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:S,style:D,dimensions:N}=n;S.transform&&(N&&(D.transform=S.transform),delete S.transform),N&&(s!==void 0||l!==void 0||D.transform)&&(D.transformOrigin=x5(N,s!==void 0?s:.5,l!==void 0?l:.5)),e!==void 0&&(S.x=e),t!==void 0&&(S.y=t),i!==void 0&&(S.scale=i),c!==void 0&&w5(S,c,d,p,!1)}const Fm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),K2=()=>({...Fm(),attrs:{}}),jm=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Q2(n,{style:e,vars:t},i,s){Object.assign(n.style,e,s&&s.getProjectionStyles(i));for(const l in t)n.style.setProperty(l,t[l])}const Y2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function X2(n,e,t,i){Q2(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(Y2.has(s)?s:Pm(s),e.attrs[s])}const oh={};function E5(n){Object.assign(oh,n)}function Z2(n,{layout:e,layoutId:t}){return Mo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!oh[n]||n==="opacity")}function Bm(n,e,t){var i;const{style:s}=n,l={};for(const c in s)(on(s[c])||e.style&&on(e.style[c])||Z2(c,n)||((i=t?.getValue(c))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[c]=s[c]);return l}function J2(n,e,t){const i=Bm(n,e,t);for(const s in n)if(on(n[s])||on(e[s])){const l=ca.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[l]=n[s]}return i}function S5(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const u1=["x","y","width","height","cx","cy","r"],T5={useVisualState:q2({scrapeMotionValuesFromProps:J2,createRenderState:K2,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:s})=>{if(!t)return;let l=!!n.drag;if(!l){for(const d in s)if(Mo.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<u1.length;d++){const p=u1[d];n[p]!==e[p]&&(c=!0)}c&&at.read(()=>{S5(t,i),at.render(()=>{Vm(i,s,jm(t.tagName),n.transformTemplate),X2(t,i)})})}})},k5={useVisualState:q2({scrapeMotionValuesFromProps:Bm,createRenderState:Fm})};function ex(n,e,t){for(const i in e)!on(e[i])&&!Z2(i,t)&&(n[i]=e[i])}function C5({transformTemplate:n},e){return ie.useMemo(()=>{const t=Fm();return Mm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function I5(n,e){const t=n.style||{},i={};return ex(i,t,n),Object.assign(i,C5(n,e)),i}function _5(n,e){const t={},i=I5(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function D5(n,e,t,i){const s=ie.useMemo(()=>{const l=K2();return Vm(l,e,jm(i),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};ex(l,n.style,n),s.style={...l,...s.style}}return s}function P5(n=!1){return(e,t,i,{latestValues:s},l)=>{const c=(Nm(e)?D5:_5)(t,s,l,e),d=H3(t,typeof e=="string",n),p=e!==ie.Fragment?{...d,...c,ref:i}:{},{children:y}=t,v=ie.useMemo(()=>on(y)?y.get():y,[y]);return ie.createElement(e,{...p,children:v})}}function A5(n,e){return function(t,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...Nm(t)?T5:k5,preloadedFeatures:n,useRender:P5(i),createVisualElement:e,Component:t};return e5(s)}}function tx(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function Lh(n,e,t){const i=n.getProps();return Rm(i,e,t!==void 0?t:i.custom,n)}const N5=Im(()=>window.ScrollTimeline!==void 0);class R5{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(s=>{if(N5()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{i.forEach((s,l)=>{s&&s(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class O5 extends R5{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function zm(n,e){return n?n[e]||n.default||n:void 0}const mp=2e4;function nx(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<mp;)e+=t,i=n.next(e);return e>=mp?1/0:e}function Um(n){return typeof n=="function"}function c1(n,e){n.timeline=e,n.onfinish=null}const $m=n=>Array.isArray(n)&&typeof n[0]=="number",L5={linearEasing:void 0};function M5(n,e){const t=Im(n);return()=>{var i;return(i=L5[e])!==null&&i!==void 0?i:t()}}const sh=M5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rx=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let l=0;l<s;l++)i+=n(ea(0,s-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function ix(n){return!!(typeof n=="function"&&sh()||!n||typeof n=="string"&&(n in gp||sh())||$m(n)||Array.isArray(n)&&n.every(ix))}const cl=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,gp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cl([0,.65,.55,1]),circOut:cl([.55,0,1,.45]),backIn:cl([.31,.01,.66,-.59]),backOut:cl([.33,1.53,.69,.99])};function ox(n,e){if(n)return typeof n=="function"&&sh()?rx(n,e):$m(n)?cl(n):Array.isArray(n)?n.map(t=>ox(t,e)||gp.easeOut):gp[n]}const ur={x:!1,y:!1};function sx(){return ur.x||ur.y}function V5(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let s=document;const l=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function ax(n,e){const t=V5(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function h1(n){return e=>{e.pointerType==="touch"||sx()||n(e)}}function F5(n,e,t={}){const[i,s,l]=ax(n,t),c=h1(d=>{const{target:p}=d,y=e(d);if(typeof y!="function"||!p)return;const v=h1(w=>{y(w),p.removeEventListener("pointerleave",v)});p.addEventListener("pointerleave",v,s)});return i.forEach(d=>{d.addEventListener("pointerenter",c,s)}),l}const lx=(n,e)=>e?n===e?!0:lx(n,e.parentElement):!1,qm=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,j5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function B5(n){return j5.has(n.tagName)||n.tabIndex!==-1}const hl=new WeakSet;function d1(n){return e=>{e.key==="Enter"&&n(e)}}function If(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const z5=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=d1(()=>{if(hl.has(t))return;If(t,"down");const s=d1(()=>{If(t,"up")}),l=()=>If(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function f1(n){return qm(n)&&!sx()}function U5(n,e,t={}){const[i,s,l]=ax(n,t),c=d=>{const p=d.currentTarget;if(!f1(d)||hl.has(p))return;hl.add(p);const y=e(d),v=(D,N)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",S),!(!f1(D)||!hl.has(p))&&(hl.delete(p),typeof y=="function"&&y(D,{success:N}))},w=D=>{v(D,t.useGlobalTarget||lx(p,D.target))},S=D=>{v(D,!1)};window.addEventListener("pointerup",w,s),window.addEventListener("pointercancel",S,s)};return i.forEach(d=>{!B5(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(t.useGlobalTarget?window:d).addEventListener("pointerdown",c,s),d.addEventListener("focus",p=>z5(p,s),s)}),l}function $5(n){return n==="x"||n==="y"?ur[n]?null:(ur[n]=!0,()=>{ur[n]=!1}):ur.x||ur.y?null:(ur.x=ur.y=!0,()=>{ur.x=ur.y=!1})}const ux=new Set(["width","height","top","left","right","bottom",...ca]);let Vc;function q5(){Vc=void 0}const Dr={now:()=>(Vc===void 0&&Dr.set(Gt.isProcessing||j3.useManualTiming?Gt.timestamp:performance.now()),Vc),set:n=>{Vc=n,queueMicrotask(q5)}};function Hm(n,e){n.indexOf(e)===-1&&n.push(e)}function Gm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Wm{constructor(){this.subscriptions=[]}add(e){return Hm(this.subscriptions,e),()=>Gm(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let l=0;l<s;l++){const c=this.subscriptions[l];c&&c(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function cx(n,e){return e?n*(1e3/e):0}const p1=30,H5=n=>!isNaN(parseFloat(n));class G5{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const l=Dr.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Dr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=H5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Wm);const i=this.events[e].add(t);return e==="change"?()=>{i(),at.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>p1)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,p1);return cx(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vl(n,e){return new G5(n,e)}function W5(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Vl(t))}function K5(n,e){const t=Lh(n,e);let{transitionEnd:i={},transition:s={},...l}=t||{};l={...l,...i};for(const c in l){const d=s5(l[c]);W5(n,c,d)}}function Q5(n){return!!(on(n)&&n.add)}function yp(n,e){const t=n.getValue("willChange");if(Q5(t))return t.add(e)}function hx(n){return n.props[z2]}const dx=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Y5=1e-7,X5=12;function Z5(n,e,t,i,s){let l,c,d=0;do c=e+(t-e)/2,l=dx(c,i,s)-n,l>0?t=c:e=c;while(Math.abs(l)>Y5&&++d<X5);return c}function Gl(n,e,t,i){if(n===e&&t===i)return Dn;const s=l=>Z5(l,0,1,n,t);return l=>l===0||l===1?l:dx(s(l),e,i)}const fx=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,px=n=>e=>1-n(1-e),mx=Gl(.33,1.53,.69,.99),Km=px(mx),gx=fx(Km),yx=n=>(n*=2)<1?.5*Km(n):.5*(2-Math.pow(2,-10*(n-1))),Qm=n=>1-Math.sin(Math.acos(n)),vx=px(Qm),bx=fx(Qm),wx=n=>/^0[^.\s]+$/u.test(n);function J5(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||wx(n):!0}const bl=n=>Math.round(n*1e5)/1e5,Ym=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eD(n){return n==null}const tD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xm=(n,e)=>t=>!!(typeof t=="string"&&tD.test(t)&&t.startsWith(n)||e&&!eD(t)&&Object.prototype.hasOwnProperty.call(t,e)),xx=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,l,c,d]=i.match(Ym);return{[n]:parseFloat(s),[e]:parseFloat(l),[t]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},nD=n=>ei(0,255,n),_f={...ha,transform:n=>Math.round(nD(n))},Co={test:Xm("rgb","red"),parse:xx("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+_f.transform(n)+", "+_f.transform(e)+", "+_f.transform(t)+", "+bl(Ml.transform(i))+")"};function rD(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const vp={test:Xm("#"),parse:rD,transform:Co.transform},Os={test:Xm("hsl","hue"),parse:xx("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+_r.transform(bl(e))+", "+_r.transform(bl(t))+", "+bl(Ml.transform(i))+")"},tn={test:n=>Co.test(n)||vp.test(n)||Os.test(n),parse:n=>Co.test(n)?Co.parse(n):Os.test(n)?Os.parse(n):vp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Co.transform(n):Os.transform(n)},iD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oD(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Ym))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(iD))===null||t===void 0?void 0:t.length)||0)>0}const Ex="number",Sx="color",sD="var",aD="var(",m1="${}",lD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fl(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let l=0;const c=e.replace(lD,d=>(tn.test(d)?(i.color.push(l),s.push(Sx),t.push(tn.parse(d))):d.startsWith(aD)?(i.var.push(l),s.push(sD),t.push(d)):(i.number.push(l),s.push(Ex),t.push(parseFloat(d))),++l,m1)).split(m1);return{values:t,split:c,indexes:i,types:s}}function Tx(n){return Fl(n).values}function kx(n){const{split:e,types:t}=Fl(n),i=e.length;return s=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],s[c]!==void 0){const d=t[c];d===Ex?l+=bl(s[c]):d===Sx?l+=tn.transform(s[c]):l+=s[c]}return l}}const uD=n=>typeof n=="number"?0:n;function cD(n){const e=Tx(n);return kx(n)(e.map(uD))}const Ui={test:oD,parse:Tx,createTransformer:kx,getAnimatableNone:cD},hD=new Set(["brightness","contrast","saturate","opacity"]);function dD(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Ym)||[];if(!i)return n;const s=t.replace(i,"");let l=hD.has(e)?1:0;return i!==t&&(l*=100),e+"("+l+s+")"}const fD=/\b([a-z-]*)\(.*?\)/gu,bp={...Ui,getAnimatableNone:n=>{const e=n.match(fD);return e?e.map(dD).join(" "):n}},pD={...Lm,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:bp,WebkitFilter:bp},Zm=n=>pD[n];function Cx(n,e){let t=Zm(n);return t!==bp&&(t=Ui),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const mD=new Set(["auto","none","0"]);function gD(n,e,t){let i=0,s;for(;i<n.length&&!s;){const l=n[i];typeof l=="string"&&!mD.has(l)&&Fl(l).values.length&&(s=n[i]),i++}if(s&&t)for(const l of e)n[l]=Cx(t,s)}const g1=n=>n===ha||n===Te,y1=(n,e)=>parseFloat(n.split(", ")[e]),v1=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return y1(s[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?y1(l[1],n):0}},yD=new Set(["x","y","z"]),vD=ca.filter(n=>!yD.has(n));function bD(n){const e=[];return vD.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const na={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:v1(4,13),y:v1(5,14)};na.translateX=na.x;na.translateY=na.y;const Do=new Set;let wp=!1,xp=!1;function Ix(){if(xp){const n=Array.from(Do).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=bD(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([l,c])=>{var d;(d=i.getValue(l))===null||d===void 0||d.set(c)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}xp=!1,wp=!1,Do.forEach(n=>n.complete()),Do.clear()}function _x(){Do.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(xp=!0)})}function wD(){_x(),Ix()}class Jm{constructor(e,t,i,s,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Do.add(this),wp||(wp=!0,at.read(_x),at.resolveKeyframes(Ix))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=s?.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&t){const p=i.readValue(t,d);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=d),s&&c===void 0&&s.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Do.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Do.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Dx=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),xD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ED(n){const e=xD.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function Px(n,e,t=1){const[i,s]=ED(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return Dx(c)?parseFloat(c):c}return Om(s)?Px(s,e,t+1):s}const Ax=n=>e=>e.test(n),SD={test:n=>n==="auto",parse:n=>n},Nx=[ha,Te,_r,Ii,d5,h5,SD],b1=n=>Nx.find(Ax(n));class Rx extends Jm{constructor(e,t,i,s,l){super(e,t,i,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let y=e[p];if(typeof y=="string"&&(y=y.trim(),Om(y))){const v=Px(y,t.current);v!==void 0&&(e[p]=v),p===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!ux.has(i)||e.length!==2)return;const[s,l]=e,c=b1(s),d=b1(l);if(c!==d)if(g1(c)&&g1(d))for(let p=0;p<e.length;p++){const y=e[p];typeof y=="string"&&(e[p]=parseFloat(y))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)J5(e[s])&&i.push(s);i.length&&gD(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=na[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const l=t.getValue(i);l&&l.jump(this.measuredOrigin,!1);const c=s.length-1,d=s[c];s[c]=na[i](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([p,y])=>{t.getValue(p).set(y)}),this.resolveNoneKeyframes()}}const w1=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ui.test(n)||n==="0")&&!n.startsWith("url("));function TD(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function kD(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=w1(s,e),d=w1(l,e);return!c||!d?!1:TD(n)||(t==="spring"||Um(t))&&i}const CD=n=>n!==null;function Mh(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(CD),l=e&&t!=="loop"&&e%2===1?0:s.length-1;return!l||i===void 0?s[l]:i}const ID=40;class Ox{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Dr.now(),this.options={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ID?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&wD(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Dr.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:l,delay:c,onComplete:d,onUpdate:p,isGenerator:y}=this.options;if(!y&&!kD(e,i,s,l))if(c)this.options.duration=0;else{p&&p(Mh(e,this.options,t)),d&&d(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,t);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...v},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ft=(n,e,t)=>n+(e-n)*t;function Df(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function _D({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,l=0,c=0;if(!e)s=l=c=t;else{const d=t<.5?t*(1+e):t+e-t*e,p=2*t-d;s=Df(p,d,n+1/3),l=Df(p,d,n),c=Df(p,d,n-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function ah(n,e){return t=>t>0?e:n}const Pf=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},DD=[vp,Co,Os],PD=n=>DD.find(e=>e.test(n));function x1(n){const e=PD(n);if(!e)return!1;let t=e.parse(n);return e===Os&&(t=_D(t)),t}const E1=(n,e)=>{const t=x1(n),i=x1(e);if(!t||!i)return ah(n,e);const s={...t};return l=>(s.red=Pf(t.red,i.red,l),s.green=Pf(t.green,i.green,l),s.blue=Pf(t.blue,i.blue,l),s.alpha=ft(t.alpha,i.alpha,l),Co.transform(s))},AD=(n,e)=>t=>e(n(t)),Wl=(...n)=>n.reduce(AD),Ep=new Set(["none","hidden"]);function ND(n,e){return Ep.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function RD(n,e){return t=>ft(n,e,t)}function eg(n){return typeof n=="number"?RD:typeof n=="string"?Om(n)?ah:tn.test(n)?E1:MD:Array.isArray(n)?Lx:typeof n=="object"?tn.test(n)?E1:OD:ah}function Lx(n,e){const t=[...n],i=t.length,s=n.map((l,c)=>eg(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)t[c]=s[c](l);return t}}function OD(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=eg(n[s])(n[s],e[s]));return s=>{for(const l in i)t[l]=i[l](s);return t}}function LD(n,e){var t;const i=[],s={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=n.indexes[c][s[c]],p=(t=n.values[d])!==null&&t!==void 0?t:0;i[l]=p,s[c]++}return i}const MD=(n,e)=>{const t=Ui.createTransformer(e),i=Fl(n),s=Fl(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Ep.has(n)&&!s.values.length||Ep.has(e)&&!i.values.length?ND(n,e):Wl(Lx(LD(i,s),s.values),t):ah(n,e)};function Mx(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ft(n,e,t):eg(n)(n,e)}const VD=5;function Vx(n,e,t){const i=Math.max(e-VD,0);return cx(t-n(i),e-i)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Af=.001;function FD({duration:n=gt.duration,bounce:e=gt.bounce,velocity:t=gt.velocity,mass:i=gt.mass}){let s,l,c=1-e;c=ei(gt.minDamping,gt.maxDamping,c),n=ei(gt.minDuration,gt.maxDuration,Yr(n)),c<1?(s=y=>{const v=y*c,w=v*n,S=v-t,D=Sp(y,c),N=Math.exp(-w);return Af-S/D*N},l=y=>{const v=y*c*n,w=v*t+t,S=Math.pow(c,2)*Math.pow(y,2)*n,D=Math.exp(-v),N=Sp(Math.pow(y,2),c);return(-s(y)+Af>0?-1:1)*((w-S)*D)/N}):(s=y=>{const v=Math.exp(-y*n),w=(y-t)*n+1;return-Af+v*w},l=y=>{const v=Math.exp(-y*n),w=(t-y)*(n*n);return v*w});const d=5/n,p=BD(s,l,d);if(n=Qr(n),isNaN(p))return{stiffness:gt.stiffness,damping:gt.damping,duration:n};{const y=Math.pow(p,2)*i;return{stiffness:y,damping:c*2*Math.sqrt(i*y),duration:n}}}const jD=12;function BD(n,e,t){let i=t;for(let s=1;s<jD;s++)i=i-n(i)/e(i);return i}function Sp(n,e){return n*Math.sqrt(1-e*e)}const zD=["duration","bounce"],UD=["stiffness","damping","mass"];function S1(n,e){return e.some(t=>n[t]!==void 0)}function $D(n){let e={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...n};if(!S1(n,UD)&&S1(n,zD))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,l=2*ei(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:gt.mass,stiffness:s,damping:l}}else{const t=FD(n);e={...e,...t,mass:gt.mass},e.isResolvedFromDuration=!0}return e}function Fx(n=gt.visualDuration,e=gt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const l=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],d={done:!1,value:l},{stiffness:p,damping:y,mass:v,duration:w,velocity:S,isResolvedFromDuration:D}=$D({...t,velocity:-Yr(t.velocity||0)}),N=S||0,M=y/(2*Math.sqrt(p*v)),L=c-l,H=Yr(Math.sqrt(p/v)),W=Math.abs(L)<5;i||(i=W?gt.restSpeed.granular:gt.restSpeed.default),s||(s=W?gt.restDelta.granular:gt.restDelta.default);let Q;if(M<1){const ee=Sp(H,M);Q=re=>{const C=Math.exp(-M*H*re);return c-C*((N+M*H*L)/ee*Math.sin(ee*re)+L*Math.cos(ee*re))}}else if(M===1)Q=ee=>c-Math.exp(-H*ee)*(L+(N+H*L)*ee);else{const ee=H*Math.sqrt(M*M-1);Q=re=>{const C=Math.exp(-M*H*re),T=Math.min(ee*re,300);return c-C*((N+M*H*L)*Math.sinh(T)+ee*L*Math.cosh(T))/ee}}const J={calculatedDuration:D&&w||null,next:ee=>{const re=Q(ee);if(D)d.done=ee>=w;else{let C=0;M<1&&(C=ee===0?Qr(N):Vx(Q,ee,re));const T=Math.abs(C)<=i,I=Math.abs(c-re)<=s;d.done=T&&I}return d.value=d.done?c:re,d},toString:()=>{const ee=Math.min(nx(J),mp),re=rx(C=>J.next(ee*C).value,ee,30);return ee+"ms "+re}};return J}function T1({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:p,restDelta:y=.5,restSpeed:v}){const w=n[0],S={done:!1,value:w},D=T=>d!==void 0&&T<d||p!==void 0&&T>p,N=T=>d===void 0?p:p===void 0||Math.abs(d-T)<Math.abs(p-T)?d:p;let M=t*e;const L=w+M,H=c===void 0?L:c(L);H!==L&&(M=H-w);const W=T=>-M*Math.exp(-T/i),Q=T=>H+W(T),J=T=>{const I=W(T),P=Q(T);S.done=Math.abs(I)<=y,S.value=S.done?H:P};let ee,re;const C=T=>{D(S.value)&&(ee=T,re=Fx({keyframes:[S.value,N(S.value)],velocity:Vx(Q,T,S.value),damping:s,stiffness:l,restDelta:y,restSpeed:v}))};return C(0),{calculatedDuration:null,next:T=>{let I=!1;return!re&&ee===void 0&&(I=!0,J(T),C(T)),ee!==void 0&&T>=ee?re.next(T-ee):(!I&&J(T),S)}}}const qD=Gl(.42,0,1,1),HD=Gl(0,0,.58,1),jx=Gl(.42,0,.58,1),GD=n=>Array.isArray(n)&&typeof n[0]!="number",WD={linear:Dn,easeIn:qD,easeInOut:jx,easeOut:HD,circIn:Qm,circInOut:bx,circOut:vx,backIn:Km,backInOut:gx,backOut:mx,anticipate:yx},k1=n=>{if($m(n)){M2(n.length===4);const[e,t,i,s]=n;return Gl(e,t,i,s)}else if(typeof n=="string")return WD[n];return n};function KD(n,e,t){const i=[],s=t||Mx,l=n.length-1;for(let c=0;c<l;c++){let d=s(n[c],n[c+1]);if(e){const p=Array.isArray(e)?e[c]||Dn:e;d=Wl(p,d)}i.push(d)}return i}function QD(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const l=n.length;if(M2(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=KD(e,i,s),p=d.length,y=v=>{if(c&&v<n[0])return e[0];let w=0;if(p>1)for(;w<n.length-2&&!(v<n[w+1]);w++);const S=ea(n[w],n[w+1],v);return d[w](S)};return t?v=>y(ei(n[0],n[l-1],v)):y}function YD(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=ea(0,e,i);n.push(ft(t,1,s))}}function XD(n){const e=[0];return YD(e,n.length-1),e}function ZD(n,e){return n.map(t=>t*e)}function JD(n,e){return n.map(()=>e||jx).splice(0,n.length-1)}function lh({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=GD(i)?i.map(k1):k1(i),l={done:!1,value:e[0]},c=ZD(t&&t.length===e.length?t:XD(e),n),d=QD(c,e,{ease:Array.isArray(s)?s:JD(e,s)});return{calculatedDuration:n,next:p=>(l.value=d(p),l.done=p>=n,l)}}const eP=n=>{const e=({timestamp:t})=>n(t);return{start:()=>at.update(e,!0),stop:()=>zi(e),now:()=>Gt.isProcessing?Gt.timestamp:Dr.now()}},tP={decay:T1,inertia:T1,tween:lh,keyframes:lh,spring:Fx},nP=n=>n/100;class tg extends Ox{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:t,motionValue:i,element:s,keyframes:l}=this.options,c=s?.KeyframeResolver||Jm,d=(p,y)=>this.onKeyframesResolved(p,y);this.resolver=new c(l,d,t,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:l,velocity:c=0}=this.options,d=Um(t)?t:tP[t]||lh;let p,y;d!==lh&&typeof e[0]!="number"&&(p=Wl(nP,Mx(e[0],e[1])),e=[0,100]);const v=d({...this.options,keyframes:e});l==="mirror"&&(y=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=nx(v));const{calculatedDuration:w}=v,S=w+s,D=S*(i+1)-s;return{generator:v,mirroredGenerator:y,mapPercentToKeyframes:p,calculatedDuration:w,resolvedDuration:S,totalDuration:D}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:s,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:p,calculatedDuration:y,totalDuration:v,resolvedDuration:w}=i;if(this.startTime===null)return l.next(0);const{delay:S,repeat:D,repeatType:N,repeatDelay:M,onUpdate:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const H=this.currentTime-S*(this.speed>=0?1:-1),W=this.speed>=0?H<0:H>v;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let Q=this.currentTime,J=l;if(D){const T=Math.min(this.currentTime,v)/w;let I=Math.floor(T),P=T%1;!P&&T>=1&&(P=1),P===1&&I--,I=Math.min(I,D+1),I%2&&(N==="reverse"?(P=1-P,M&&(P-=M/w)):N==="mirror"&&(J=c)),Q=ei(0,1,P)*w}const ee=W?{done:!1,value:p[0]}:J.next(Q);d&&(ee.value=d(ee.value));let{done:re}=ee;!W&&y!==null&&(re=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return C&&s!==void 0&&(ee.value=Mh(p,this.options,s)),L&&L(ee.value),C&&this.finish(),ee}get duration(){const{resolved:e}=this;return e?Yr(e.calculatedDuration):0}get time(){return Yr(this.currentTime)}set time(e){e=Qr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Yr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=eP,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const rP=new Set(["opacity","clipPath","filter","transform"]);function iP(n,e,t,{delay:i=0,duration:s=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:p}={}){const y={[e]:t};p&&(y.offset=p);const v=ox(d,s);return Array.isArray(v)&&(y.easing=v),n.animate(y,{delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const oP=Im(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),uh=10,sP=2e4;function aP(n){return Um(n.type)||n.type==="spring"||!ix(n.ease)}function lP(n,e){const t=new tg({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let l=0;for(;!i.done&&l<sP;)i=t.sample(l),s.push(i.value),l+=uh;return{times:void 0,keyframes:s,duration:l-uh,ease:"linear"}}const Bx={anticipate:yx,backInOut:gx,circInOut:bx};function uP(n){return n in Bx}class C1 extends Ox{constructor(e){super(e);const{name:t,motionValue:i,element:s,keyframes:l}=this.options;this.resolver=new Rx(l,(c,d)=>this.onKeyframesResolved(c,d),t,i,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:s,ease:l,type:c,motionValue:d,name:p,startTime:y}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&sh()&&uP(l)&&(l=Bx[l]),aP(this.options)){const{onComplete:w,onUpdate:S,motionValue:D,element:N,...M}=this.options,L=lP(e,M);e=L.keyframes,e.length===1&&(e[1]=e[0]),i=L.duration,s=L.times,l=L.ease,c="keyframes"}const v=iP(d.owner.current,p,e,{...this.options,duration:i,times:s,ease:l});return v.startTime=y??this.calcStartTime(),this.pendingTimeline?(c1(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:w}=this.options;d.set(Mh(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:i,times:s,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Yr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Yr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Qr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Dn;const{animation:i}=t;c1(i,e)}return Dn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:s,type:l,ease:c,times:d}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:y,onUpdate:v,onComplete:w,element:S,...D}=this.options,N=new tg({...D,keyframes:i,duration:s,type:l,ease:c,times:d,isGenerator:!0}),M=Qr(this.time);y.setWithVelocity(N.sample(M-uh).value,N.sample(M).value,uh)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:s,repeatType:l,damping:c,type:d}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:y}=t.owner.getProps();return oP()&&i&&rP.has(i)&&!p&&!y&&!s&&l!=="mirror"&&c!==0&&d!=="inertia"}}const cP={type:"spring",stiffness:500,damping:25,restSpeed:10},hP=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),dP={type:"keyframes",duration:.8},fP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pP=(n,{keyframes:e})=>e.length>2?dP:Mo.has(n)?n.startsWith("scale")?hP(e[1]):cP:fP;function mP({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:l,repeatType:c,repeatDelay:d,from:p,elapsed:y,...v}){return!!Object.keys(v).length}const ng=(n,e,t,i={},s,l)=>c=>{const d=zm(i,n)||{},p=d.delay||i.delay||0;let{elapsed:y=0}=i;y=y-Qr(p);let v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-y,onUpdate:S=>{e.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:l?void 0:s};mP(d)||(v={...v,...pP(n,v)}),v.duration&&(v.duration=Qr(v.duration)),v.repeatDelay&&(v.repeatDelay=Qr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let w=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(w=!0)),w&&!l&&e.get()!==void 0){const S=Mh(v.keyframes,d);if(S!==void 0)return at.update(()=>{v.onUpdate(S),v.onComplete()}),new O5([])}return!l&&C1.supports(v)?new C1(v):new tg(v)};function gP({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function zx(n,e,{delay:t=0,transitionOverride:i,type:s}={}){var l;let{transition:c=n.getDefaultTransition(),transitionEnd:d,...p}=e;i&&(c=i);const y=[],v=s&&n.animationState&&n.animationState.getState()[s];for(const w in p){const S=n.getValue(w,(l=n.latestValues[w])!==null&&l!==void 0?l:null),D=p[w];if(D===void 0||v&&gP(v,w))continue;const N={delay:t,...zm(c||{},w)};let M=!1;if(window.MotionHandoffAnimation){const H=hx(n);if(H){const W=window.MotionHandoffAnimation(H,w,at);W!==null&&(N.startTime=W,M=!0)}}yp(n,w),S.start(ng(w,S,D,n.shouldReduceMotion&&ux.has(w)?{type:!1}:N,n,M));const L=S.animation;L&&y.push(L)}return d&&Promise.all(y).then(()=>{at.update(()=>{d&&K5(n,d)})}),y}function Tp(n,e,t={}){var i;const s=Lh(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(l=t.transitionOverride);const c=s?()=>Promise.all(zx(n,s,t)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(y=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:S}=l;return yP(n,e,v+y,w,S,t)}:()=>Promise.resolve(),{when:p}=l;if(p){const[y,v]=p==="beforeChildren"?[c,d]:[d,c];return y().then(()=>v())}else return Promise.all([c(),d(t.delay)])}function yP(n,e,t=0,i=0,s=1,l){const c=[],d=(n.variantChildren.size-1)*i,p=s===1?(y=0)=>y*i:(y=0)=>d-y*i;return Array.from(n.variantChildren).sort(vP).forEach((y,v)=>{y.notify("AnimationStart",e),c.push(Tp(y,e,{...l,delay:t+p(v)}).then(()=>y.notify("AnimationComplete",e)))}),Promise.all(c)}function vP(n,e){return n.sortNodePosition(e)}function bP(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(l=>Tp(n,l,t));i=Promise.all(s)}else if(typeof e=="string")i=Tp(n,e,t);else{const s=typeof e=="function"?Lh(n,e,t.custom):e;i=Promise.all(zx(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const wP=Dm.length;function Ux(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Ux(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<wP;t++){const i=Dm[t],s=n.props[i];(Ll(s)||s===!1)&&(e[i]=s)}return e}const xP=[..._m].reverse(),EP=_m.length;function SP(n){return e=>Promise.all(e.map(({animation:t,options:i})=>bP(n,t,i)))}function TP(n){let e=SP(n),t=I1(),i=!0;const s=p=>(y,v)=>{var w;const S=Lh(n,v,p==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(S){const{transition:D,transitionEnd:N,...M}=S;y={...y,...M,...N}}return y};function l(p){e=p(n)}function c(p){const{props:y}=n,v=Ux(n.parent)||{},w=[],S=new Set;let D={},N=1/0;for(let L=0;L<EP;L++){const H=xP[L],W=t[H],Q=y[H]!==void 0?y[H]:v[H],J=Ll(Q),ee=H===p?W.isActive:null;ee===!1&&(N=L);let re=Q===v[H]&&Q!==y[H]&&J;if(re&&i&&n.manuallyAnimateOnMount&&(re=!1),W.protectedKeys={...D},!W.isActive&&ee===null||!Q&&!W.prevProp||Rh(Q)||typeof Q=="boolean")continue;const C=kP(W.prevProp,Q);let T=C||H===p&&W.isActive&&!re&&J||L>N&&J,I=!1;const P=Array.isArray(Q)?Q:[Q];let O=P.reduce(s(H),{});ee===!1&&(O={});const{prevResolvedValues:F={}}=W,_={...F,...O},Ze=Fe=>{T=!0,S.has(Fe)&&(I=!0,S.delete(Fe)),W.needsAnimating[Fe]=!0;const Ke=n.getValue(Fe);Ke&&(Ke.liveStyle=!1)};for(const Fe in _){const Ke=O[Fe],je=F[Fe];if(D.hasOwnProperty(Fe))continue;let se=!1;pp(Ke)&&pp(je)?se=!tx(Ke,je):se=Ke!==je,se?Ke!=null?Ze(Fe):S.add(Fe):Ke!==void 0&&S.has(Fe)?Ze(Fe):W.protectedKeys[Fe]=!0}W.prevProp=Q,W.prevResolvedValues=O,W.isActive&&(D={...D,...O}),i&&n.blockInitialAnimation&&(T=!1),T&&(!(re&&C)||I)&&w.push(...P.map(Fe=>({animation:Fe,options:{type:H}})))}if(S.size){const L={};S.forEach(H=>{const W=n.getBaseTarget(H),Q=n.getValue(H);Q&&(Q.liveStyle=!0),L[H]=W??null}),w.push({animation:L})}let M=!!w.length;return i&&(y.initial===!1||y.initial===y.animate)&&!n.manuallyAnimateOnMount&&(M=!1),i=!1,M?e(w):Promise.resolve()}function d(p,y){var v;if(t[p].isActive===y)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(S=>{var D;return(D=S.animationState)===null||D===void 0?void 0:D.setActive(p,y)}),t[p].isActive=y;const w=c(p);for(const S in t)t[S].protectedKeys={};return w}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>t,reset:()=>{t=I1(),i=!0}}}function kP(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!tx(e,n):!1}function bo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function I1(){return{animate:bo(!0),whileInView:bo(),whileHover:bo(),whileTap:bo(),whileDrag:bo(),whileFocus:bo(),exit:bo()}}class qi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CP extends qi{constructor(e){super(e),e.animationState||(e.animationState=TP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Rh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let IP=0;class _P extends qi{constructor(){super(...arguments),this.id=IP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const DP={animation:{Feature:CP},exit:{Feature:_P}};function jl(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Kl(n){return{point:{x:n.pageX,y:n.pageY}}}const PP=n=>e=>qm(e)&&n(e,Kl(e));function wl(n,e,t,i){return jl(n,e,PP(t),i)}const _1=(n,e)=>Math.abs(n-e);function AP(n,e){const t=_1(n.x,e.x),i=_1(n.y,e.y);return Math.sqrt(t**2+i**2)}class $x{constructor(e,t,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Rf(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,D=AP(w.offset,{x:0,y:0})>=3;if(!S&&!D)return;const{point:N}=w,{timestamp:M}=Gt;this.history.push({...N,timestamp:M});const{onStart:L,onMove:H}=this.handlers;S||(L&&L(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,w)},this.handlePointerMove=(w,S)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Nf(S,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(w,S)=>{this.end();const{onEnd:D,onSessionEnd:N,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Rf(w.type==="pointercancel"?this.lastMoveEventInfo:Nf(S,this.transformPagePoint),this.history);this.startEvent&&D&&D(w,L),N&&N(w,L)},!qm(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=i,this.contextWindow=s||window;const c=Kl(e),d=Nf(c,this.transformPagePoint),{point:p}=d,{timestamp:y}=Gt;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=t;v&&v(e,Rf(d,this.history)),this.removeListeners=Wl(wl(this.contextWindow,"pointermove",this.handlePointerMove),wl(this.contextWindow,"pointerup",this.handlePointerUp),wl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zi(this.updatePoint)}}function Nf(n,e){return e?{point:e(n.point)}:n}function D1(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Rf({point:n},e){return{point:n,delta:D1(n,qx(e)),offset:D1(n,NP(e)),velocity:RP(e,.1)}}function NP(n){return n[0]}function qx(n){return n[n.length-1]}function RP(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=qx(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>Qr(e)));)t--;if(!i)return{x:0,y:0};const l=Yr(s.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(s.x-i.x)/l,y:(s.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const Hx=1e-4,OP=1-Hx,LP=1+Hx,Gx=.01,MP=0-Gx,VP=0+Gx;function Pn(n){return n.max-n.min}function FP(n,e,t){return Math.abs(n-e)<=t}function P1(n,e,t,i=.5){n.origin=i,n.originPoint=ft(e.min,e.max,n.origin),n.scale=Pn(t)/Pn(e),n.translate=ft(t.min,t.max,n.origin)-n.originPoint,(n.scale>=OP&&n.scale<=LP||isNaN(n.scale))&&(n.scale=1),(n.translate>=MP&&n.translate<=VP||isNaN(n.translate))&&(n.translate=0)}function xl(n,e,t,i){P1(n.x,e.x,t.x,i?i.originX:void 0),P1(n.y,e.y,t.y,i?i.originY:void 0)}function A1(n,e,t){n.min=t.min+e.min,n.max=n.min+Pn(e)}function jP(n,e,t){A1(n.x,e.x,t.x),A1(n.y,e.y,t.y)}function N1(n,e,t){n.min=e.min-t.min,n.max=n.min+Pn(e)}function El(n,e,t){N1(n.x,e.x,t.x),N1(n.y,e.y,t.y)}function BP(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?ft(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?ft(t,n,i.max):Math.min(n,t)),n}function R1(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function zP(n,{top:e,left:t,bottom:i,right:s}){return{x:R1(n.x,t,s),y:R1(n.y,e,i)}}function O1(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function UP(n,e){return{x:O1(n.x,e.x),y:O1(n.y,e.y)}}function $P(n,e){let t=.5;const i=Pn(n),s=Pn(e);return s>i?t=ea(e.min,e.max-i,n.min):i>s&&(t=ea(n.min,n.max-s,e.min)),ei(0,1,t)}function qP(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const kp=.35;function HP(n=kp){return n===!1?n=0:n===!0&&(n=kp),{x:L1(n,"left","right"),y:L1(n,"top","bottom")}}function L1(n,e,t){return{min:M1(n,e),max:M1(n,t)}}function M1(n,e){return typeof n=="number"?n:n[e]||0}const V1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ls=()=>({x:V1(),y:V1()}),F1=()=>({min:0,max:0}),bt=()=>({x:F1(),y:F1()});function Un(n){return[n("x"),n("y")]}function Wx({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function GP({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function WP(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Of(n){return n===void 0||n===1}function Cp({scale:n,scaleX:e,scaleY:t}){return!Of(n)||!Of(e)||!Of(t)}function xo(n){return Cp(n)||Kx(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Kx(n){return j1(n.x)||j1(n.y)}function j1(n){return n&&n!=="0%"}function ch(n,e,t){const i=n-t,s=e*i;return t+s}function B1(n,e,t,i,s){return s!==void 0&&(n=ch(n,s,i)),ch(n,t,i)+e}function Ip(n,e=0,t=1,i,s){n.min=B1(n.min,e,t,i,s),n.max=B1(n.max,e,t,i,s)}function Qx(n,{x:e,y:t}){Ip(n.x,e.translate,e.scale,e.originPoint),Ip(n.y,t.translate,t.scale,t.originPoint)}const z1=.999999999999,U1=1.0000000000001;function KP(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let l,c;for(let d=0;d<s;d++){l=t[d],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Vs(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Qx(n,c)),i&&xo(l.latestValues)&&Vs(n,l.latestValues))}e.x<U1&&e.x>z1&&(e.x=1),e.y<U1&&e.y>z1&&(e.y=1)}function Ms(n,e){n.min=n.min+e,n.max=n.max+e}function $1(n,e,t,i,s=.5){const l=ft(n.min,n.max,s);Ip(n,e,t,l,i)}function Vs(n,e){$1(n.x,e.x,e.scaleX,e.scale,e.originX),$1(n.y,e.y,e.scaleY,e.scale,e.originY)}function Yx(n,e){return Wx(WP(n.getBoundingClientRect(),e))}function QP(n,e,t){const i=Yx(n,t),{scroll:s}=e;return s&&(Ms(i.x,s.offset.x),Ms(i.y,s.offset.y)),i}const Xx=({current:n})=>n?n.ownerDocument.defaultView:null,YP=new WeakMap;class XP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Kl(v).point)},l=(v,w)=>{const{drag:S,dragPropagation:D,onDragStart:N}=this.getProps();if(S&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$5(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(L=>{let H=this.getAxisMotionValue(L).get()||0;if(_r.test(H)){const{projection:W}=this.visualElement;if(W&&W.layout){const Q=W.layout.layoutBox[L];Q&&(H=Pn(Q)*(parseFloat(H)/100))}}this.originPoint[L]=H}),N&&at.postRender(()=>N(v,w)),yp(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},c=(v,w)=>{const{dragPropagation:S,dragDirectionLock:D,onDirectionLock:N,onDrag:M}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:L}=w;if(D&&this.currentDirection===null){this.currentDirection=ZP(L),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",w.point,L),this.updateAxis("y",w.point,L),this.visualElement.render(),M&&M(v,w)},d=(v,w)=>this.stop(v,w),p=()=>Un(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new $x(e,{onSessionStart:s,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,contextWindow:Xx(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&at.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!Sc(e,s,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=BP(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&Rs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=zP(s.layoutBox,t):this.constraints=!1,this.elastic=HP(i),l!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Un(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=qP(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Rs(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=QP(i,s.root,this.visualElement.getTransformPagePoint());let c=UP(s.layout.layoutBox,l);if(t){const d=t(GP(c));this.hasMutatedConstraints=!!d,d&&(c=Wx(d))}return c}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},y=Un(v=>{if(!Sc(v,t,this.currentDirection))return;let w=p&&p[v]||{};c&&(w={min:0,max:0});const S=s?200:1e6,D=s?40:1e7,N={type:"inertia",velocity:i?e[v]:0,bounceStiffness:S,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(v,N)});return Promise.all(y).then(d)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return yp(this.visualElement,e),i.start(ng(e,i,0,t,this.visualElement,!1))}stopAnimation(){Un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Un(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps();return i[t]||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Un(t=>{const{drag:i}=this.getProps();if(!Sc(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(t);if(s&&s.layout){const{min:c,max:d}=s.layout.layoutBox[t];l.set(e[t]-ft(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Rs(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Un(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();s[c]=$P({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Un(c=>{if(!Sc(c,e,null))return;const d=this.getAxisMotionValue(c),{min:p,max:y}=this.constraints[c];d.set(ft(p,y,s[c]))})}addListeners(){if(!this.visualElement.current)return;YP.set(this.visualElement,this);const e=this.visualElement.current,t=wl(e,"pointerdown",p=>{const{drag:y,dragListener:v=!0}=this.getProps();y&&v&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();Rs(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),at.read(i);const c=jl(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(Un(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=p[v].translate,w.set(w.get()+p[v].translate))}),this.visualElement.render())});return()=>{c(),t(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:c=kp,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Sc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function ZP(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class JP extends qi{constructor(e){super(e),this.removeGroupControls=Dn,this.removeListeners=Dn,this.controls=new XP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dn}unmount(){this.removeGroupControls(),this.removeListeners()}}const q1=n=>(e,t)=>{n&&at.postRender(()=>n(e,t))};class e6 extends qi{constructor(){super(...arguments),this.removePointerDownListener=Dn}onPointerDown(e){this.session=new $x(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:q1(e),onStart:q1(t),onMove:i,onEnd:(l,c)=>{delete this.session,s&&at.postRender(()=>s(l,c))}}}mount(){this.removePointerDownListener=wl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function H1(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ol={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Te.test(n))n=parseFloat(n);else return n;const t=H1(n,e.target.x),i=H1(n,e.target.y);return`${t}% ${i}%`}},t6={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=Ui.parse(n);if(s.length>5)return i;const l=Ui.createTransformer(n),c=typeof s[0]!="number"?1:0,d=t.x.scale*e.x,p=t.y.scale*e.y;s[0+c]/=d,s[1+c]/=p;const y=ft(d,p,.5);return typeof s[2+c]=="number"&&(s[2+c]/=y),typeof s[3+c]=="number"&&(s[3+c]/=y),l(s)}};class n6 extends ie.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:l}=e;E5(r6),l&&(t.group&&t.group.add(l),i&&i.register&&s&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Fc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:l}=this.props,c=i.projection;return c&&(c.isPresent=l,s||e.layoutDependency!==t||t===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||at.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Am.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Zx(n){const[e,t]=O2(),i=ie.useContext(Sm);return $.jsx(n6,{...n,layoutGroup:i,switchLayoutGroup:ie.useContext(U2),isPresent:e,safeToRemove:t})}const r6={borderRadius:{...ol,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ol,borderTopRightRadius:ol,borderBottomLeftRadius:ol,borderBottomRightRadius:ol,boxShadow:t6};function i6(n,e,t){const i=on(n)?n:Vl(n);return i.start(ng("",i,e,t)),i.animation}function o6(n){return n instanceof SVGElement&&n.tagName!=="svg"}const s6=(n,e)=>n.depth-e.depth;class a6{constructor(){this.children=[],this.isDirty=!1}add(e){Hm(this.children,e),this.isDirty=!0}remove(e){Gm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(s6),this.isDirty=!1,this.children.forEach(e)}}function l6(n,e){const t=Dr.now(),i=({timestamp:s})=>{const l=s-t;l>=e&&(zi(i),n(l-e))};return at.read(i,!0),()=>zi(i)}const Jx=["TopLeft","TopRight","BottomLeft","BottomRight"],u6=Jx.length,G1=n=>typeof n=="string"?parseFloat(n):n,W1=n=>typeof n=="number"||Te.test(n);function c6(n,e,t,i,s,l){s?(n.opacity=ft(0,t.opacity!==void 0?t.opacity:1,h6(i)),n.opacityExit=ft(e.opacity!==void 0?e.opacity:1,0,d6(i))):l&&(n.opacity=ft(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let c=0;c<u6;c++){const d=`border${Jx[c]}Radius`;let p=K1(e,d),y=K1(t,d);p===void 0&&y===void 0||(p||(p=0),y||(y=0),p===0||y===0||W1(p)===W1(y)?(n[d]=Math.max(ft(G1(p),G1(y),i),0),(_r.test(y)||_r.test(p))&&(n[d]+="%")):n[d]=y)}(e.rotate||t.rotate)&&(n.rotate=ft(e.rotate||0,t.rotate||0,i))}function K1(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const h6=eE(0,.5,vx),d6=eE(.5,.95,Dn);function eE(n,e,t){return i=>i<n?0:i>e?1:t(ea(n,e,i))}function Q1(n,e){n.min=e.min,n.max=e.max}function zn(n,e){Q1(n.x,e.x),Q1(n.y,e.y)}function Y1(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function X1(n,e,t,i,s){return n-=e,n=ch(n,1/t,i),s!==void 0&&(n=ch(n,1/s,i)),n}function f6(n,e=0,t=1,i=.5,s,l=n,c=n){if(_r.test(e)&&(e=parseFloat(e),e=ft(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=ft(l.min,l.max,i);n===l&&(d-=e),n.min=X1(n.min,e,t,d,s),n.max=X1(n.max,e,t,d,s)}function Z1(n,e,[t,i,s],l,c){f6(n,e[t],e[i],e[s],e.scale,l,c)}const p6=["x","scaleX","originX"],m6=["y","scaleY","originY"];function J1(n,e,t,i){Z1(n.x,e,p6,t?t.x:void 0,i?i.x:void 0),Z1(n.y,e,m6,t?t.y:void 0,i?i.y:void 0)}function eb(n){return n.translate===0&&n.scale===1}function tE(n){return eb(n.x)&&eb(n.y)}function tb(n,e){return n.min===e.min&&n.max===e.max}function g6(n,e){return tb(n.x,e.x)&&tb(n.y,e.y)}function nb(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function nE(n,e){return nb(n.x,e.x)&&nb(n.y,e.y)}function rb(n){return Pn(n.x)/Pn(n.y)}function ib(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class y6{constructor(){this.members=[]}add(e){Hm(this.members,e),e.scheduleRender()}remove(e){if(Gm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function v6(n,e,t){let i="";const s=n.x.translate/e.x,l=n.y.translate/e.y,c=t?.z||0;if((s||l||c)&&(i=`translate3d(${s}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:y,rotate:v,rotateX:w,rotateY:S,skewX:D,skewY:N}=t;y&&(i=`perspective(${y}px) ${i}`),v&&(i+=`rotate(${v}deg) `),w&&(i+=`rotateX(${w}deg) `),S&&(i+=`rotateY(${S}deg) `),D&&(i+=`skewX(${D}deg) `),N&&(i+=`skewY(${N}deg) `)}const d=n.x.scale*e.x,p=n.y.scale*e.y;return(d!==1||p!==1)&&(i+=`scale(${d}, ${p})`),i||"none"}const Eo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},dl=typeof window<"u"&&window.MotionDebug!==void 0,Lf=["","X","Y","Z"],b6={visibility:"hidden"},ob=1e3;let w6=0;function Mf(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function rE(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=hx(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",at,!(s||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&rE(i)}function iE({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=e?.()){this.id=w6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,dl&&(Eo.totalNodes=Eo.resolvedTargetDeltas=Eo.recalculatedProjection=0),this.nodes.forEach(S6),this.nodes.forEach(_6),this.nodes.forEach(D6),this.nodes.forEach(T6),dl&&window.MotionDebug.record(Eo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new a6)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Wm),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=o6(l),this.instance=l;const{layoutId:d,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||d)&&(this.isLayoutDirty=!0),n){let v;const w=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=l6(w,250),Fc.hasAnimatedSinceResize&&(Fc.hasAnimatedSinceResize=!1,this.nodes.forEach(ab))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&y&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:w,hasRelativeTargetChanged:S,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||y.getDefaultTransition()||O6,{onLayoutAnimationStart:M,onLayoutAnimationComplete:L}=y.getProps(),H=!this.targetLayout||!nE(this.targetLayout,D)||S,W=!w&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||W||w&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,W);const Q={...zm(N,"layout"),onPlay:M,onComplete:L};(y.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q)}else w||ab(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P6),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sb);return}this.isUpdating||this.nodes.forEach(C6),this.isUpdating=!1,this.nodes.forEach(I6),this.nodes.forEach(x6),this.nodes.forEach(E6),this.clearAllSnapshots();const l=Dr.now();Gt.delta=ei(0,1e3/60,l-Gt.timestamp),Gt.timestamp=l,Gt.isProcessing=!0,Cf.update.process(Gt),Cf.preRender.process(Gt),Cf.render.process(Gt),Gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Am.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(k6),this.sharedNodes.forEach(A6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!tE(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;l&&(c||xo(this.latestValues)||y)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),L6(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return bt();const d=c.measureViewportBox();if(!(!((l=this.scroll)===null||l===void 0)&&l.wasRoot||this.path.some(M6))){const{scroll:p}=this.root;p&&(Ms(d.x,p.offset.x),Ms(d.y,p.offset.y))}return d}removeElementScroll(l){var c;const d=bt();if(zn(d,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:v,options:w}=y;y!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&zn(d,l),Ms(d.x,v.offset.x),Ms(d.y,v.offset.y))}return d}applyTransform(l,c=!1){const d=bt();zn(d,l);for(let p=0;p<this.path.length;p++){const y=this.path[p];!c&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Vs(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),xo(y.latestValues)&&Vs(d,y.latestValues)}return xo(this.latestValues)&&Vs(d,this.latestValues),d}removeTransform(l){const c=bt();zn(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!xo(p.latestValues))continue;Cp(p.latestValues)&&p.updateSnapshot();const y=bt(),v=p.measurePageBox();zn(y,v),J1(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return xo(this.latestValues)&&J1(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=Gt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),El(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zn(this.target,this.layout.layoutBox),Qx(this.target,this.targetDelta)):zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),El(this.relativeTargetOrigin,this.target,w.target),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}dl&&Eo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Cp(this.parent.latestValues)||Kx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Gt.timestamp&&(p=!1),p)return;const{layout:y,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||v))return;zn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,S=this.treeScale.y;KP(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=bt());const{target:D}=c;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Y1(this.prevProjectionDelta.x,this.projectionDelta.x),Y1(this.prevProjectionDelta.y,this.projectionDelta.y)),xl(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==S||!ib(this.projectionDelta.x,this.prevProjectionDelta.x)||!ib(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D)),dl&&Eo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ls(),this.projectionDelta=Ls(),this.projectionDeltaWithTransform=Ls()}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=Ls();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=bt(),S=d?d.source:void 0,D=this.layout?this.layout.source:void 0,N=S!==D,M=this.getStack(),L=!M||M.members.length<=1,H=!!(N&&!L&&this.options.crossfade===!0&&!this.path.some(R6));this.animationProgress=0;let W;this.mixTargetDelta=Q=>{const J=Q/1e3;lb(v.x,l.x,J),lb(v.y,l.y,J),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(El(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),N6(this.relativeTarget,this.relativeTargetOrigin,w,J),W&&g6(this.relativeTarget,W)&&(this.isProjectionDirty=!1),W||(W=bt()),zn(W,this.relativeTarget)),N&&(this.animationValues=y,c6(y,p,this.latestValues,J,H,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{Fc.hasAnimatedSinceResize=!0,this.currentAnimation=i6(0,ob,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ob),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:y}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&oE(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||bt();const v=Pn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const w=Pn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}zn(c,d),Vs(c,y),xl(this.projectionDeltaWithTransform,this.layoutCorrected,c,y)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new y6),this.sharedNodes.get(l).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&Mf("z",l,p,this.animationValues);for(let y=0;y<Lf.length;y++)Mf(`rotate${Lf[y]}`,l,p,this.animationValues),Mf(`skew${Lf[y]}`,l,p,this.animationValues);l.render();for(const y in p)l.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return b6;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Mc(l?.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=Mc(l?.pointerEvents)||""),this.hasProjected&&!xo(this.latestValues)&&(N.transform=y?y({},""):"none",this.hasProjected=!1),N}const w=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=v6(this.projectionDeltaWithTransform,this.treeScale,w),y&&(p.transform=y(w,p.transform));const{x:S,y:D}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${D.origin*100}% 0`,v.animationValues?p.opacity=v===this?(d=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=v===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const N in oh){if(w[N]===void 0)continue;const{correct:M,applyTo:L}=oh[N],H=p.transform==="none"?w[N]:M(w[N],v);if(L){const W=L.length;for(let Q=0;Q<W;Q++)p[L[Q]]=H}else p[N]=H}return this.options.layoutId&&(p.pointerEvents=v===this?Mc(l?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(sb),this.root.sharedNodes.clear()}}}function x6(n){n.updateLayout()}function E6(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:l}=n.options,c=t.source!==n.layout.source;l==="size"?Un(w=>{const S=c?t.measuredBox[w]:t.layoutBox[w],D=Pn(S);S.min=i[w].min,S.max=S.min+D}):oE(l,t.layoutBox,i)&&Un(w=>{const S=c?t.measuredBox[w]:t.layoutBox[w],D=Pn(i[w]);S.max=S.min+D,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+D)});const d=Ls();xl(d,i,t.layoutBox);const p=Ls();c?xl(p,n.applyTransform(s,!0),t.measuredBox):xl(p,i,t.layoutBox);const y=!tE(d);let v=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:S,layout:D}=w;if(S&&D){const N=bt();El(N,t.layoutBox,S.layoutBox);const M=bt();El(M,i,D.layoutBox),nE(N,M)||(v=!0),w.options.layoutRoot&&(n.relativeTarget=M,n.relativeTargetOrigin=N,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:p,layoutDelta:d,hasLayoutChanged:y,hasRelativeTargetChanged:v})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function S6(n){dl&&Eo.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function T6(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function k6(n){n.clearSnapshot()}function sb(n){n.clearMeasurements()}function C6(n){n.isLayoutDirty=!1}function I6(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function ab(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function _6(n){n.resolveTargetDelta()}function D6(n){n.calcProjection()}function P6(n){n.resetSkewAndRotation()}function A6(n){n.removeLeadSnapshot()}function lb(n,e,t){n.translate=ft(e.translate,0,t),n.scale=ft(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function ub(n,e,t,i){n.min=ft(e.min,t.min,i),n.max=ft(e.max,t.max,i)}function N6(n,e,t,i){ub(n.x,e.x,t.x,i),ub(n.y,e.y,t.y,i)}function R6(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const O6={duration:.45,ease:[.4,0,.1,1]},cb=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),hb=cb("applewebkit/")&&!cb("chrome/")?Math.round:Dn;function db(n){n.min=hb(n.min),n.max=hb(n.max)}function L6(n){db(n.x),db(n.y)}function oE(n,e,t){return n==="position"||n==="preserve-aspect"&&!FP(rb(e),rb(t),.2)}function M6(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const V6=iE({attachResizeListener:(n,e)=>jl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vf={current:void 0},sE=iE({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Vf.current){const n=new V6({});n.mount(window),n.setOptions({layoutScroll:!0}),Vf.current=n}return Vf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),F6={pan:{Feature:e6},drag:{Feature:JP,ProjectionNode:sE,MeasureLayout:Zx}};function fb(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,l=i[s];l&&at.postRender(()=>l(e,Kl(e)))}class j6 extends qi{mount(){const{current:e}=this.node;e&&(this.unmount=F5(e,t=>(fb(this.node,t,"Start"),i=>fb(this.node,i,"End"))))}unmount(){}}class B6 extends qi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wl(jl(this.node.current,"focus",()=>this.onFocus()),jl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pb(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),l=i[s];l&&at.postRender(()=>l(e,Kl(e)))}class z6 extends qi{mount(){const{current:e}=this.node;e&&(this.unmount=U5(e,t=>(pb(this.node,t,"Start"),(i,{success:s})=>pb(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _p=new WeakMap,Ff=new WeakMap,U6=n=>{const e=_p.get(n.target);e&&e(n)},$6=n=>{n.forEach(U6)};function q6({root:n,...e}){const t=n||document;Ff.has(t)||Ff.set(t,{});const i=Ff.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver($6,{root:n,...e})),i[s]}function H6(n,e,t){const i=q6(e);return _p.set(n,t),i.observe(n),()=>{_p.delete(n),i.unobserve(n)}}const G6={some:0,all:1};class W6 extends qi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:l}=e,c={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:G6[s]},d=p=>{const{isIntersecting:y}=p;if(this.isInView===y||(this.isInView=y,l&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:v,onViewportLeave:w}=this.node.getProps(),S=y?v:w;S&&S(p)};return H6(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(K6(e,t))&&this.startObserver()}unmount(){}}function K6({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Q6={inView:{Feature:W6},tap:{Feature:z6},focus:{Feature:B6},hover:{Feature:j6}},Y6={layout:{ProjectionNode:sE,MeasureLayout:Zx}},Dp={current:null},aE={current:!1};function X6(){if(aE.current=!0,!!Cm)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dp.current=n.matches;n.addListener(e),e()}else Dp.current=!1}const Z6=[...Nx,tn,Ui],J6=n=>Z6.find(Ax(n)),mb=new WeakMap;function eA(n,e,t){for(const i in e){const s=e[i],l=t[i];if(on(s))n.addValue(i,s);else if(on(l))n.addValue(i,Vl(s,{owner:n}));else if(l!==s)if(n.hasValue(i)){const c=n.getValue(i);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=n.getStaticValue(i);n.addValue(i,Vl(c!==void 0?c:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const gb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tA{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const D=Dr.now();this.renderScheduledAt<D&&(this.renderScheduledAt=D,at.render(this.render,!1,!0))};const{latestValues:p,renderState:y,onUpdate:v}=c;this.onUpdate=v,this.latestValues=p,this.baseTarget={...p},this.initialValues=t.initial?{...p}:{},this.renderState=y,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Oh(t),this.isVariantNode=B2(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...S}=this.scrapeMotionValuesFromProps(t,{},this);for(const D in S){const N=S[D];p[D]!==void 0&&on(N)&&N.set(p[D],!1)}}mount(e){this.current=e,mb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),aE.current||X6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){mb.delete(this.current),this.projection&&this.projection.unmount(),zi(this.notifyUpdate),zi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Mo.has(e),s=t.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&at.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),l(),c&&c(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ta){const t=ta[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<gb.length;i++){const s=gb[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,c=e[l];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=eA(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Vl(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Dx(s)||wx(s))?s=parseFloat(s):!J6(s)&&Ui.test(t)&&(s=Cx(e,t)),this.setBaseTarget(e,on(s)?s.get():s)),on(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const c=Rm(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);c&&(s=c[e])}if(i&&s!==void 0)return s;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!on(l)?l:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Wm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class lE extends tA{constructor(){super(...arguments),this.KeyframeResolver=Rx}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;on(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function nA(n){return window.getComputedStyle(n)}class rA extends lE{constructor(){super(...arguments),this.type="html",this.renderInstance=Q2}readValueFromInstance(e,t){if(Mo.has(t)){const i=Zm(t);return i&&i.default||0}else{const i=nA(e),s=(G2(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Yx(e,t)}build(e,t,i){Mm(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Bm(e,t,i)}}class iA extends lE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Mo.has(t)){const i=Zm(t);return i&&i.default||0}return t=Y2.has(t)?t:Pm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return J2(e,t,i)}build(e,t,i){Vm(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,s){X2(e,t,i,s)}mount(e){this.isSVGTag=jm(e.tagName),super.mount(e)}}const oA=(n,e)=>Nm(n)?new iA(e):new rA(e,{allowProjection:n!==ie.Fragment}),sA=A5({...DP,...Q6,...F6,...Y6},oA),aA=G3(sA),lA=[{key:"home",label:"Home",component:$.jsx(Wb,{config:To})},{key:"publications",label:"Publications",component:$.jsx("div",{style:{padding:"32px"},children:"Publications content here."})},{key:"courses",label:"Courses",component:$.jsx("div",{style:{padding:"32px"},children:"Courses content here."})},{key:"students",label:"Students",component:$.jsx("div",{style:{padding:"32px"},children:"Students content here."})}];function uA(){const[n,e]=ie.useState("light"),[t,i]=ie.useState("home"),s=ie.useRef(null),[l,c]=ie.useState(!1),[d,p]=ie.useState("home");ie.useEffect(()=>{document.documentElement.setAttribute("data-theme",n)},[n]),ie.useEffect(()=>{if(t!=="home")return;const w=()=>{const S=s.current||document.getElementById("publications");if(S){const D=S.getBoundingClientRect(),N=window.innerHeight;D.top<=N/2&&D.bottom>=0?p("publications"):p("home")}};return window.addEventListener("scroll",w),w(),()=>window.removeEventListener("scroll",w)},[t]),ie.useEffect(()=>{l&&t==="home"&&setTimeout(()=>{if(s.current)s.current.scrollIntoView({behavior:"smooth",block:"start"});else{const w=document.getElementById("publications");w&&w.scrollIntoView({behavior:"smooth",block:"start"})}c(!1)},500),t!=="home"&&window.scrollTo({top:0,behavior:"smooth"})},[t,l]);const y=w=>{w==="publications"?t!=="home"?(i("home"),c(!0)):s.current&&s.current.scrollIntoView({behavior:"smooth",block:"start"}):w==="home"?t==="home"?(window.scrollTo({top:0,behavior:"smooth"}),p("home")):(i("home"),c(!1)):w==="life"?(i("life"),c(!1)):(i(w),c(!1))},v=()=>{i("home")};return $.jsx($.Fragment,{children:t==="life"?$.jsx(R3,{onClose:v}):$.jsxs($.Fragment,{children:[$.jsx(QT,{theme:n,setTheme:e,current:t,activeSection:d,onChange:y}),$.jsx("div",{style:{width:"100%",paddingTop:76,paddingLeft:100,paddingRight:48,boxSizing:"border-box",display:"flex",justifyContent:"center"},children:$.jsxs("div",{style:{display:"flex",width:"100%",maxWidth:1200,margin:"0 auto"},children:[$.jsx(zT,{config:To}),$.jsx("div",{style:{flex:1,minHeight:"100vh",background:"var(--bg)",transition:"background var(--transition)"},children:$.jsx(F3,{mode:"wait",children:$.jsx(aA.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.4},style:{padding:"32px 24px",maxWidth:900,margin:"0 auto"},children:t==="home"?$.jsx(Wb,{config:To,pubRef:s}):lA.find(w=>w.key===t)?.component||null},t)})})]})})]})})}xS.createRoot(document.getElementById("root")).render($.jsx(_n.StrictMode,{children:$.jsx(uA,{})}));
